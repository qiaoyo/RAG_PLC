
(* =========================================================
   Generated by PLC-Eval Benchmark Wrapper
   ========================================================= *)

FUNCTION_BLOCK LLM_Wrapper_FB
VAR_INPUT
    IDATE : UDINT; // 输入的时间戳
END_VAR

VAR_OUTPUT
    IS_LEAP_DAY : BOOL; // 输出是否是闰年的2月29日
END_VAR

VAR
    YEAR : INT;
    DAY_OF_YEAR : INT;
END_VAR

// 计算年份
YEAR := INT((IDATE / UDINT#31557600) + 1970);

// 计算一年中的第几天
DAY_OF_YEAR := INT((IDATE MOD UDINT#31557600) / UDINT#86400) + 1;

// 判断是否是闰年
IS_LEAP_DAY := (DAY_OF_YEAR = 60) AND ((YEAR MOD 4 = 0) AND (YEAR MOD 100 <> 0) OR (YEAR MOD 400 = 0));
END_FUNCTION_BLOCK

PROGRAM Auto_Proxy_Prg
  VAR
    instance : LLM_Wrapper_FB;
  END_VAR

  instance();
END_PROGRAM

CONFIGURATION Config0
  RESOURCE Res0 ON PLC
    TASK TaskMain(INTERVAL := T#20ms, PRIORITY := 0);
    PROGRAM Inst0 WITH TaskMain : Auto_Proxy_Prg;
  END_RESOURCE
END_CONFIGURATION
