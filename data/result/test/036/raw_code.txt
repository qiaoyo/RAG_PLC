```st
VAR_INPUT
    IN : REAL;
    N : INT;
    D : oscat_STRING1;
END_VAR

VAR_OUTPUT
    REAL_TO_STRF : oscat_STRING20;
END_VAR

VAR
    st_tmp : oscat_STRING20;
    i : INT;
END_VAR

(* 限制 N 在 0 到 7 之间 *)
N := LIMIT(0, N, 7);
(* 将输入值四舍五入到 N 位并转换为字符串 *)
REAL_TO_STRF := DINT_TO_STRING(_REAL_TO_DINT(ABS(IN) * EXP10(INT_TO_REAL(N))), '%d');
(* 在字符串前添加零，确保字符串至少有 8 位长 *)
FOR i := LEN(REAL_TO_STRF) TO N DO
    st_tmp := REAL_TO_STRF;
    REAL_TO_STRF := CONCAT('0', st_tmp);
END_FOR;
(* 如果 N 大于 0，则添加小数点 *)
IF N > 0 THEN
    REAL_TO_STRF := INSERT(REAL_TO_STRF, D, LEN(REAL_TO_STRF) - N);
END_IF;
(* 如果输入值是负数，则添加负号 *)
IF IN < 0.0 THEN
    st_tmp := REAL_TO_STRF;
    REAL_TO_STRF := CONCAT('-', st_tmp);
END_IF;
```