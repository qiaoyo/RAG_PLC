{
  "train": [
    {
      "instruction": "怎么实现通过网络通信发送和接收字符串数据的功能",
      "input": "",
      "output": "VAR_OUTPUT\n\tID : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tIN : oscat_STRING250;\n\tOUT : oscat_STRING250;\n\tX : oscat_NET_VAR_DATA;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tlen_str : INT;\n\tindex : INT;\n\tindex2 : INT;\n\t_STRING_TO_BUFFER : _STRING_TO_BUFFER_NW;\n\tBUFFER_TO_STRING : BUFFER_TO_STRING_NW;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tID := USINT_TO_BYTE(X.ID_MAX);\nEND_IF;\n\nIF X.STATE > BYTE#0 AND X.ERROR_ID = BYTE#0 THEN\n\tindex := X.index; (* PCWORX 工作区解决方案 *)\n\tIF X.STATE = BYTE#1 THEN (* 写入数据 *)\n\t\tlen_str := LEN(IN);\n\t\tIF INT_TO_UINT(index + 3 + len_str) > X.BUF_SIZE THEN\n\t\t\tX.ERROR_ID := ID;\n\t\tELSE\n\t\t\tX.S_BUF.BUFFER[index] := ID; (* ID *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE#6; (* 类型 REAL *)\n\t\t\tindex := index + 1;\n\t\t\tlen_str := LEN(IN);\n\t\t\tX.S_BUF.BUFFER[index] := INT_TO_BYTE(len_str); (* 字节数 *)\n\t\t\tindex := index + 1;\n\t\t\t_STRING_TO_BUFFER(STR:=IN,POS:=index,SIZE:=X.BUF_SIZE,PT:=X.S_BUF.BUFFER);\n\t\t\tX.S_BUF.BUFFER := _STRING_TO_BUFFER.PT;\n\t\t\tindex := index + len_str;\n\t\tEND_IF;\n\tELSIF X.STATE = BYTE#2 THEN (* 读取数据 *)\n\t\tindex2 := index + 1; (* PCWORX 工作区解决方案 *)\n\t\tIF X.R_BUF.BUFFER[index] <> ID OR X.R_BUF.BUFFER[index2] <> BYTE#6 THEN\n\t\t\tX.ERROR_ID := ID;\n\t\tELSE\n\t\t\tindex := index + 2;\n\t\t\tlen_str := _BYTE_TO_INT(X.R_BUF.BUFFER[index]);\n\t\t\tindex2 := index + 1;\n\t\t\tindex := index2 + len_str;\n\t\t\tIF len_str > 0 THEN\n\t\t\t\tBUFFER_TO_STRING(PT:=X.R_BUF.BUFFER,SIZE:=X.BUF_SIZE,START:=INT_TO_UINT(index2),STOP:=INT_TO_UINT(index - 1));\n\t\t\t\tX.R_BUF.BUFFER := BUFFER_TO_STRING.PT;\n\t\t\t\tOUT := BUFFER_TO_STRING.BUFFER_TO_STRING;\n\t\t\tELSE\n\t\t\t\tOUT := '';\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tEND_IF;\n\tX.index := index;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "ID",
          "type": "BYTE",
          "description": "输出参数ID"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么使用一个计数器和定时器来跟踪输入信号的上升和下降沿",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tN : INT;\n\tTC : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\ttx : TP;\n\tedge : BOOL;\n\tcnt : INT := INT#-1;\nEND_VAR\n\n(* Q 只会在一个周期内激活 *)\nQ := FALSE;\n\nIF in AND NOT edge AND NOT tx.q THEN\n\t(* 输入的上升沿将计数器设置为 0 *)\n\tcnt := 0;\nELSIF tx.Q AND NOT IN AND edge THEN\n\t(* 当 tp.q 为 true 时，计算下降沿的个数 *)\n\tcnt := cnt + 1;\nELSIF NOT tx.Q THEN\n\tQ := cnt=N;\n\tcnt := -1;\nEND_IF;\n\n(* 记住 IN 的状态 *)\nedge := IN;\ntx(in := IN, pt := TC);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "TC",
          "type": "TIME",
          "description": "输入参数TC"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言编程，将两个双精度实数相加，以扩展实数的精度至原来的两倍",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL2;\n\tY : REAL2;\nEND_VAR\n\nVAR_OUTPUT\n\tR2_ADD2 : REAL2;\nEND_VAR\n\nR2_ADD2.R1 := X.R1 + Y.R1;\nR2_ADD2.RX := X.RX + Y.RX;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL2",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL2",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "R2_ADD2",
          "type": "REAL2",
          "description": "输出参数R2_ADD2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对4个布尔输入进行缩放和线性变换的st程序怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tIN3 : BOOL;\n\tIN4 : BOOL;\n\tK : REAL;\n\tO : REAL;\n\tIN1_MIN : REAL;\n\tIN1_MAX : REAL;\n\tIN2_MIN : REAL;\n\tIN2_MAX : REAL;\n\tIN3_MIN : REAL;\n\tIN3_MAX : REAL;\n\tIN4_MIN : REAL;\n\tIN4_MAX : REAL;\nEND_VAR\n\nIF NOT IN1 THEN scale_X4 := IN1_MIN; ELSE scale_X4 := IN1_MAX; END_IF;\nIF NOT IN2 THEN scale_X4 := scale_X4 + IN2_MIN; ELSE scale_X4 := scale_X4 + IN2_MAX; END_IF;\nIF NOT IN3 THEN scale_X4 := scale_X4 + IN3_MIN; ELSE scale_X4 := scale_X4 + IN3_MAX; END_IF;\nIF NOT IN4 THEN scale_X4 := scale_X4 + IN4_MIN; ELSE scale_X4 := scale_X4 + IN4_MAX; END_IF;\nscale_X4 := scale_X4 * K + O;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "BOOL",
          "description": "输入参数IN4"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "O",
          "type": "REAL",
          "description": "输入参数O"
        },
        {
          "name": "IN1_MIN",
          "type": "REAL",
          "description": "输入参数IN1_MIN"
        },
        {
          "name": "IN1_MAX",
          "type": "REAL",
          "description": "输入参数IN1_MAX"
        },
        {
          "name": "IN2_MIN",
          "type": "REAL",
          "description": "输入参数IN2_MIN"
        },
        {
          "name": "IN2_MAX",
          "type": "REAL",
          "description": "输入参数IN2_MAX"
        },
        {
          "name": "IN3_MIN",
          "type": "REAL",
          "description": "输入参数IN3_MIN"
        },
        {
          "name": "IN3_MAX",
          "type": "REAL",
          "description": "输入参数IN3_MAX"
        },
        {
          "name": "IN4_MIN",
          "type": "REAL",
          "description": "输入参数IN4_MIN"
        },
        {
          "name": "IN4_MAX",
          "type": "REAL",
          "description": "输入参数IN4_MAX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "咋通过调整起始位置和停止位置，确保处理的字符串不会超过最大长度。给出st语言代码",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\n\tSTART : UINT;\n\tSTOP : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_TO_STRING : oscat_STRING250;\nEND_VAR\n\nVAR\n\tsta : UINT;\n\tstp : UINT;\n\tsize2 : UINT;\n\ti : INT;\n\tBUF_TO_STRING : BUF_TO_STRING;\nEND_VAR\n\nsta := MIN(START, SIZE - UINT#1);\nstp := STOP;\n(* 检查最大字符串长度 *)\nIF stp - sta + UINT#1 > UINT#250 THEN\n\tstp := sta + UINT#250 - UINT#1;\nEND_IF;\nstp := MIN(stp, SIZE - UINT#1);\nsize2 := stp - sta + UINT#1;\nIF size2 > UINT#0 THEN\n\tFOR i := 0 TO 1 DO\n\t\tBUF_TO_STRING.REQ := i > 0;\n\t\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\t\tBUF_TO_STRING.BUF_OFFS := UINT_TO_DINT(START);\n\t\tBUF_TO_STRING.BUF_CNT := UINT_TO_DINT(size2);\n\t\tBUF_TO_STRING.BUFFER := pt;\n\t\tBUF_TO_STRING.DST := BUFFER_TO_STRING;\n\t\tBUF_TO_STRING();\n\t\tpt := BUF_TO_STRING.BUFFER;\n\t\tBUFFER_TO_STRING := BUF_TO_STRING.DST;\n\tEND_FOR;\nELSE\n\tBUFFER_TO_STRING := '''';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "START",
          "type": "UINT",
          "description": "输入参数START"
        },
        {
          "name": "STOP",
          "type": "UINT",
          "description": "输入参数STOP"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_TO_STRING",
          "type": "oscat_STRING250",
          "description": "输出参数BUFFER_TO_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于ST语言实现基于密钥的加密/解密算法",
      "input": "",
      "output": "VAR_IN_OUT\n\tMODE : INT;\n\tKEY : oscat_STRING40;\n\tBUF : oscat_aB0_63;\n\tSIZE : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tPOS : UDINT;\nEND_VAR\n\nVAR\n\tsbox : oscat_aB0_255;\n\tskey : oscat_aB0_255;\n\ta : INT;\n\tb : INT;\n\tc : INT;\n\td : USINT;\n\te : USINT;\n\tend : UDINT;\n\tv : BYTE;\n\tv_tmp : INT;\n\tCODE : CODE;\nEND_VAR\n\nCASE MODE OF\n\n1: (* 初始化 *)\n\tb := LEN(KEY) - 1;\n\tIF b < 0 OR SIZE < UDINT#1 THEN\n\t\tMODE := 3;\n\t\tRETURN;\n\tEND_IF;\n\n\tFOR a := 0 TO b DO\n\t\tCODE(STR := KEY, POS := a + 1);\n\t\tskey[a] := CODE.CODE;\n\t\tsbox[a] := INT_TO_BYTE(a);\n\tEND_FOR;\n\n\tc := 0;\n\tFOR a := b + 1 TO 255 DO\n\t\tskey[a] := skey[c];\n\t\tsbox[a] := INT_TO_BYTE(a);\n\t\tc := c + 1;\n\t\tIF c > b THEN c := 0; END_IF;\n\tEND_FOR;\n\n\td := USINT#0;\n\tFOR a := 0 TO 255 DO\n\t\td := d + BYTE_TO_USINT(sbox[a]) + BYTE_TO_USINT(skey[a]);\n\t\tv := sbox[a];\n\t\tsbox[a] := sbox[d];\n\t\tsbox[d] := v;\n\tEND_FOR;\n\n\tPOS := UDINT#0;\n\tend := SIZE;\n\tSIZE := MIN(UDINT#64, end);\n\td := USINT#0;\n\te := USINT#0;\n\tMODE := 2;\n\n2: (* 数据加密/解密 *)\n\n\tb := UDINT_TO_INT(SIZE) - 1;\n\tFOR a := 0 TO b DO\n\t\td := d + USINT#1;\n\t\te := e + BYTE_TO_USINT(sbox[d]);\n\t\tv := sbox[d];\n\t\tsbox[d] := sbox[e];\n\t\tsbox[e] := v;\n\t\tv := USINT_TO_BYTE(BYTE_TO_USINT(sbox[d]) + BYTE_TO_USINT(sbox[e]));\n\t\tv_tmp := _BYTE_TO_INT(v);\n\t\tBUF[a] := BUF[a] XOR sbox[v_tmp];\n\tEND_FOR;\n\n\tPOS := POS + SIZE;\n\tSIZE := MIN(UDINT#64, end - POS);\n\n\tIF SIZE = UDINT#0 THEN\n\t\tMODE := 3;\n\tEND_IF;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "POS",
          "type": "UDINT",
          "description": "输出参数POS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "反双曲正切函数怎么计算",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nATANH := LN((1.0 + x)/(1.0 - x)) * 0.5;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "我想根据输入的月份和语言，从设定的月份名称数组中返回对应的月份名称字符串，该怎么用plc实现？",
      "input": "",
      "output": "VAR_INPUT\n\tMTH : INT;\n\tLANG : INT;\n\tLX : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tMONTH_TO_STRING : oscat_STRING10;\nEND_VAR\n\nVAR\n\tLY : INT;\n\tSETUP_MONTHS : SETUP_MONTHS;\n\tMONTHS : oscat_MONTHS;\n\tSETUP_MONTHS3 : SETUP_MONTHS3;\n\tMONTHS3 : oscat_MONTHS3;\n\tSETUP_LANGUAGE : SETUP_LANGUAGE;\n\tLANGUAGE : oscat_LANGUAGE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MONTH_TO_STRING\nIEC_LANGUAGE: ST\n*)\nSETUP_MONTHS(MONTHS:=MONTHS);\nMONTHS:=SETUP_MONTHS.MONTHS;\nSETUP_MONTHS3(MONTHS3:=MONTHS3);\nMONTHS3:=SETUP_MONTHS3.MONTHS3;\nSETUP_LANGUAGE(LANGUAGE:=LANGUAGE);\nLANGUAGE:=SETUP_LANGUAGE.LANGUAGE;\n\nIF LANG = 0 THEN Ly := LANGUAGE.DEFAULT; ELSE ly := MIN(LANG, language.LMAX); END_IF;\nIF MTH < 1 OR MTH > 12 THEN\n\tRETURN;\nELSIF LX = 0 THEN\n\tMONTH_TO_STRING := MONTHS[ly][MTH];\nELSIF Lx = 3 THEN\n\tMONTH_TO_STRING := MONTHS3[ly][MTH];\nEND_IF;",
      "description": "MONTH_TO_STRING功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MTH",
          "type": "INT",
          "description": "输入参数MTH"
        },
        {
          "name": "LANG",
          "type": "INT",
          "description": "输入参数LANG"
        },
        {
          "name": "LX",
          "type": "INT",
          "description": "输入参数LX"
        }
      ],
      "outputs": [
        {
          "name": "MONTH_TO_STRING",
          "type": "oscat_STRING10",
          "description": "月份字符串"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算斐波那契数列",
      "input": "",
      "output": "VAR_INPUT\n\tX : INT;\nEND_VAR\n\nVAR\n\tt1 : DINT;\n\tt2 : DINT;\n\tX_tmp : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIB\nIEC_LANGUAGE: ST\n*)\nt1 := DINT#0;\nt2 := DINT#0;\nX_tmp := X;\nIF X_tmp < 0 OR X_tmp > 46 THEN\n\tFIB := DINT#-1;\nELSIF X_tmp < 2 THEN\n\tFIB := INT_TO_DINT(X_tmp);\n\tRETURN;\nELSE\n\t(* the fibonacci number is the sum of the two suceeding fibonaci numbers *)\n\t(* we store the numbers alternatively in t1 and t2 depending on pt *)\n\tt2 := DINT#1;\n\tWHILE X_tmp > 3 DO\n\t\tX_tmp := X_tmp - 2;\n\t\tt1 := t1 + t2;\n\t\tt2 := t1 + t2;\n\tEND_WHILE;\n\tIF X_tmp > 2 THEN t1 := t1 + t2; END_IF;\n\tfib := t1 + t2;\nEND_IF;\n\n(* alternative code for very big numbers\n\nIF X < 31 THEN\n\tfib := 0.4472136 * (expn(1.618034,X) - expn(-0.618034,X));\nElse\n\tfib := 0.4472133 * expn(1.618034,X);\nEND_IF;",
      "description": "斐波那契数列计算函数，采用迭代算法高效计算第n项斐波那契数。支持0-46范围内的输入，返回DINT类型的结果。斐波那契数列在自然界、金融分析、算法设计等领域有广泛应用。代码包含边界检查和大数计算的替代算法。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "斐波那契数列项数索引(0-46)"
        }
      ],
      "outputs": [
        {
          "name": "FIB",
          "type": "DINT",
          "description": "第X项斐波那契数值"
        }
      ],
      "library_dependency": "无特殊库依赖，使用标准IEC 61131-3数学函数",
      "iec_standard": "IEC 61131-3 数学函数，循环和条件语句应用",
      "tags": [
        "斐波那契",
        "数学计算",
        "迭代算法",
        "数列",
        "算法设计",
        "数值分析"
      ]
    },
    {
      "instruction": "怎么根据输入的年份计算出该年的复活节日期",
      "input": "",
      "output": "VAR_INPUT\n\tYEAR : INT;\nEND_VAR\n\nVAR\n\tb : INT;\n\tc : INT;\n\today : INT;\nEND_VAR\n\nb := (204 - 11 * (YEAR MOD 19)) MOD 30;\nIF b > 27 THEN b := b - 1; END_IF;\nc := (YEAR + WORD_TO_INT(SHR(INT_TO_WORD(YEAR),2)) + b - 13) MOD 7;\noday := 28 + b - c;\nIF oday > 33 THEN\n\teaster := set_Date(YEAR, 4, oday - 31);\nELSE\n\teaster := set_Date(YEAR, 3, oday);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "YEAR",
          "type": "INT",
          "description": "输入参数YEAR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的字节的每一位提取并分别赋值给布尔输出变量以实现字节按位分解怎么用st语言写",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tB0 : BOOL;\n\tB1 : BOOL;\n\tB2 : BOOL;\n\tB3 : BOOL;\n\tB4 : BOOL;\n\tB5 : BOOL;\n\tB6 : BOOL;\n\tB7 : BOOL;\nEND_VAR\n\nB0 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),0); (* IN.X0 *)\nB1 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),1); (* IN.X1 *)\nB2 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),2); (* IN.X2 *)\nB3 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),3); (* IN.X3 *)\nB4 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),4); (* IN.X4 *)\nB5 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),5); (* IN.X5 *)\nB6 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),6); (* IN.X6 *)\nB7 := BIT_OF_DWORD(BYTE_TO_DWORD(IN),7); (* IN.X7 *)",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "B0",
          "type": "BOOL",
          "description": "输出参数B0"
        },
        {
          "name": "B1",
          "type": "BOOL",
          "description": "输出参数B1"
        },
        {
          "name": "B2",
          "type": "BOOL",
          "description": "输出参数B2"
        },
        {
          "name": "B3",
          "type": "BOOL",
          "description": "输出参数B3"
        },
        {
          "name": "B4",
          "type": "BOOL",
          "description": "输出参数B4"
        },
        {
          "name": "B5",
          "type": "BOOL",
          "description": "输出参数B5"
        },
        {
          "name": "B6",
          "type": "BOOL",
          "description": "输出参数B6"
        },
        {
          "name": "B7",
          "type": "BOOL",
          "description": "输出参数B7"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言计算一个7次多项式的值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tC : oscat_arr_0_7;\nEND_VAR\n\nVAR_OUTPUT\n\tF_POLY : REAL;\nEND_VAR\n\nF_POLY := ((((((( c[7] * x + c[6] ) * x + c[5] ) * x + c[4] ) * x + c[3] ) * x + c[2] ) * x + c[1] ) * x + c[0] );",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "C",
          "type": "oscat_arr_0_7",
          "description": "字符参数"
        }
      ],
      "outputs": [
        {
          "name": "F_POLY",
          "type": "REAL",
          "description": "输出参数F_POLY"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "比较两个时间输入哪个更小",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : TIME;\n\tIN2 : TIME;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MAX_TIME\nIEC_LANGUAGE: ST\n*)\nMAX_TIME := SEL_TIME(IN1 < IN2,IN1,IN2);",
      "description": "MAX_TIME功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "TIME",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "TIME",
          "description": "输入参数IN2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何控制机械臂画圆",
      "input": "",
      "output": "PROC main()\n\t\tMoveFullCircle p91,p92,p93,v50,MyTool;\n\t\tstop;\n\tENDPROC\n\nPROC MoveFullCircle(robtarget p1,robtarget p2,robtarget p3,speeddata v,inout tooldata t,inout wobjdata wobj)\n\t\tVAR pos posCenter;\n\t\tVAR robtarget pCenter;\n\t\tVAR pos pos3{3};\n\t\tVAR pos posNormal;\n\t\tVAR robtarget p100;\n\t\tVAR robtarget p200;\n\t\tVAR robtarget p300;\n\t\tVAR num r;\n\t\tpos3{1}:=p1.trans;\n\t\tpos3{2}:=p2.trans;\n\t\tpos3{3}:=p3.trans;\n\t\tMoveL p1,v,fine,t;\n\t\tfitcircle pos3,posCenter,r,posNormal;\n\t\tpCenter.trans:=posCenter;\n\t\tp100:=calCenterOnCircle(p1,p2,pCenter);\n\t\tp200:=calCenterOnCircle(p2,p3,pCenter);\n\t\tp300:=calCenterOnCircle(p3,p1,pCenter);\n\t\tMoveC p100,p2,v,z10,t;\n\t\tMoveC p200,p3,v,z10,t;\n\t\tMoveC p300,p1,v,fine,t;\nENDPROC\n\nFUNC robtarget calCenterOnCircle(robtarget p1,robtarget p2,robtarget pCenter)\n\t\tVAR pose frame1;\n\t\tVAR pos pos10;\n\t\tVAR pos pos20;\n\t\tVAR num angle;\n\t\tVAR pose pose1;\n\t\tVAR pose pose1InFrame1;\n\t\tVAR robtarget pOut;\n\t\tpOut:=p1;\n\t\tpose1:=[p1.trans,p1.rot];\n\t\tframe1:=DefFrame(pCenter,p1,p2,Origin:=1);\n\t\tpos10:=p1.trans-pCenter.trans;\n\t\tpos20:=p2.trans-pCenter.trans;\n\t\tangle:=angleVect(pos10,pos20);\n\t\tpose1InFrame1:=posemult(poseinv(frame1),pose1);\n\t\tframe1.rot:=frame1.rot*OrientZYX(angle/2,0,0);\n\t\tpose1:=posemult(frame1,pose1InFrame1);\n\t\tpOut.trans:=pose1.trans;\n\t\tRETURN pOut;\nENDFUNC\n\nFUNC num angleVect(pos p1,pos p2)\n\t\tVAR pos p10;\n\t\tVAR pos p20;\n\t\tVAR num angle;\n\t\tp10:=normalizeVect(p1);\n\t\tp20:=normalizeVect(p2);\n\t\tangle:=acos(DotProd(p10,p20));\n\t\tRETURN angle;\nENDFUNC\n\nFUNC pos normalizeVect(pos p)\n\t\tVAR num mag;\n\t\tVAR pos pOut;\n\t\tmag:=vectmagn(p);\n\t\tpOut.x:=p.x/mag;\n\t\tpOut.y:=p.y/mag;\n\t\tpOut.z:=p.z/mag;\n\t\tRETURN pOut;\nENDFUNC",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "基于ST语言将分钟数转换为毫秒",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MINUTE_TO_TIME\nIEC_LANGUAGE: ST\n*)\nminute_to_time := UDINT_TO_TIME(_REAL_TO_UDINT(IN * 60000.0));",
      "description": "MINUTE_TO_TIME功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的布尔值选择对应的最小或最大值，然后将它们相加，最后通过乘以常数K并加上偏移量O进行缩放。如何用ST代码编程？",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tK : REAL;\n\tO : REAL;\n\tIN1_MIN : REAL;(*Standard = 0*)\n\tIN1_MAX : REAL;(*Standard = 1000*)\n\tIN2_MIN : REAL;(*Standard = 0*)\n\tIN2_MAX : REAL;(*Standard = 1000*)\nEND_VAR\n\nSCALE_X2 := (SEL(IN1, IN1_MIN, IN1_MAX) + SEL(IN2, IN2_MIN, IN2_MAX)) * K + O;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "O",
          "type": "REAL",
          "description": "输入参数O"
        },
        {
          "name": "IN1_MIN",
          "type": "REAL",
          "description": "输入参数IN1_MIN"
        },
        {
          "name": "IN1_MAX",
          "type": "REAL",
          "description": "输入参数IN1_MAX"
        },
        {
          "name": "IN2_MIN",
          "type": "REAL",
          "description": "输入参数IN2_MIN"
        },
        {
          "name": "IN2_MAX",
          "type": "REAL",
          "description": "输入参数IN2_MAX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言检查字符串是否仅包含大写字母",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_UPPER : BOOL;\nEND_VAR\n\nVAR\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_UPPER\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nIF NOT ISC_UPPER(INT_TO_BYTE(GET_CHAR(str,pos))) THEN\nIS_UPPER := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_UPPER := I > 0;",
      "description": "IS_UPPER检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_UPPER",
          "type": "BOOL",
          "description": "输出参数IS_UPPER"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "根据输入的温度和冰点条件，计算水蒸气饱和蒸气压的ST代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tICE : BOOL;\nEND_VAR\n\nIF ice THEN\n\tSDD := 611.153 * EXP(22.4433 * T / (272.186 + T));\nELSE\n\tSDD := 611.213 * EXP(17.5043 * T / (241.2 + T));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "ICE",
          "type": "BOOL",
          "description": "输入参数ICE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言怎么解析config.ini文件",
      "input": "",
      "output": "VAR\n\tSMTP_SERVER : STRING;\n\tSMTP_FROM : STRING;\n\tSTATION_NAME : STRING;\n\tSTATION_IP : STRING;\nEND_VAR\n\nVAR\n\tIPB : INI_PARSER_BUF;\n\tFS : FILE_SERVER;\n\tFSD : oscat_FILE_SERVER_DATA;\n\tPT : oscat_NETWORK_BUFFER;\n\tsection : INT;\n\tkey : oscat_STRING250;\n\tvalue : oscat_STRING250;\n\tstr : oscat_STRING250;\n\tstep : INT;\n\tresult : BYTE;\n\toffset : UDINT;\n\trun : BYTE;\n\tdone : BOOL;\nEND_VAR\n\nCASE step OF\n\n00: IF NOT done THEN\n\t\tFSD.FILENAME := 'config.ini';\n\t\tFSD.MODE := BYTE#1;\n\t\tFSD.OFFSET := UDINT#0;\n\t\tFSD.AUTO_CLOSE := T#0s;\n\t\tPT.SIZE := UINT#65535;\n\t\tstep := 10;\n\tEND_IF;\n\n10: IF FSD.MODE = BYTE#0 THEN\n\t\toffset := UDINT#0;\n\t\tstr := '';\n\t\trun := BYTE#3;\n\t\tstep := 50;\n\tEND_IF;\n\n50: IF run = BYTE#0 THEN\n\t\trun := BYTE#3;\n\n\t\tIF result = BYTE#1 THEN\n\t\t\tIF EQ_STRING(key,'Station') THEN\n\t\t\t\tsection := 1;\n\t\t\tELSIF EQ_STRING(key,'SMTP') THEN\n\t\t\t\tsection := 2;\n\n\t\t\tELSE\n\t\t\t\tsection := 0;\n\t\t\tEND_IF;\n\n\t\tELSIF result = BYTE#2 AND section > 0 THEN\n\n\t\t\tCASE section OF\n\n\t\t\t1: (* Section: Station *)\n\t\t\t\tIF EQ_STRING(key,'NAME') THEN\n\t\t\t\t\tSTATION_NAME := value; (* 名称 *)\n\t\t\t\tELSIF EQ_STRING(key,'IP') THEN\n\t\t\t\t\tSTATION_IP := value; (* IP 地址 *)\n\t\t\t\tEND_IF;\n\n\t\t\t2: (* Section: SMTP *)\n\t\t\t\tIF EQ_STRING(key,'SERVER') THEN\n\t\t\t\t\tSMTP_SERVER := value; (* SMTP 服务器 *)\n\t\t\t\tELSIF EQ_STRING(key,'FROM') THEN\n\t\t\t\t\tSMTP_FROM := value; (* SMTP 发件人 *)\n\t\t\t\tEND_IF;\n\n\t\t\tEND_CASE;\n\n\t\tELSIF result = BYTE#10 THEN\n\t\trun := BYTE#0;\n\t\tFSD.MODE := BYTE#5;\n\t\tstep := 80;\n\tEND_IF;\nEND_IF;\n\n80: IF FSD.MODE = BYTE#0 THEN\n\t\tdone := TRUE;\n\t\tstep := 0;\nEND_IF;\n\nEND_CASE;\n\n(* INI 参数缓冲区 *)\nIPB(STR:=str,RUN:=run,OFFSET:=offset,KEY:=key,VALUE:=value,PT:=PT);\nstr:=IPB.STR;\nrun:=IPB.RUN;\noffset:=IPB.OFFSET;\nkey:=IPB.KEY;\nvalue:=IPB.VALUE;\nPT:=IPB.PT;\nresult:=IPB.RESULT;\n\n(* 文件服务器 *)\nFS(FSD:=FSD,PT:=PT);\nFSD:=FS.FSD;\nPT:=FS.PT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "获取字符串中第POS个由分隔符分隔的子字符串怎么用ST语言写",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\n\tPOS : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tELEMENT : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tELEMENT_GET : oscat_STRING250;\nEND_VAR\n\nVAR\n\ti : INT;\n\ti2 : INT;\n\tcnt : INT;\n\tsize : INT;\nEND_VAR\n\n\ncnt := 0;\nsize := LEN(ELEMENT);\n\n(* 查找分隔符的第n次出现并存储位置到i *）\nFOR i := 1 TO size DO\n\tIF cnt = POS THEN EXIT; END_IF;\n\tIF INT_TO_BYTE(GET_CHAR(ELEMENT,i)) = SEP THEN cnt := cnt + 1; END_IF;\nEND_FOR;\n\nFOR i2 := i TO size DO\n\tIF INT_TO_BYTE(GET_CHAR(ELEMENT,i2)) = SEP THEN EXIT; END_IF;\nEND_FOR;\n\nIF i2 > i THEN\n\tELEMENT_GET := MID(ELEMENT,i2-i,i);\nELSE\n\tELEMENT_GET := '';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "ELEMENT_GET",
          "type": "oscat_STRING250",
          "description": "输出参数ELEMENT_GET"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的整数，计算并返回对应的阶乘值。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tX : INT;\nEND_VAR\n\nCASE X OF\n\t00: FACT := DINT#1;\n\t01: FACT := DINT#1;\n\t02: FACT := DINT#2;\n\t03: FACT := DINT#6;\n\t04: FACT := DINT#24;\n\t05: FACT := DINT#120;\n\t06: FACT := DINT#720;\n\t07: FACT := DINT#5040;\n\t08: FACT := DINT#40320;\n\t09: FACT := DINT#362880;\n\t10: FACT := DINT#3628800;\n\t11: FACT := DINT#39916800;\n\t12: FACT := DINT#479001600;\nELSE\n\tFACT := DINT#-1;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入信号选择参数集，并在需要时通过斜坡控制平滑地改变输出值，该怎么在plc系统上实现",
      "input": "",
      "output": "VAR_INPUT\n\tA0 : BOOL;\n\tA1 : BOOL;\n\tX01 : REAL;\n\tX02 : REAL;\n\tX03 : REAL;\n\tX04 : REAL;\n\tX11 : REAL;\n\tX12 : REAL;\n\tX13 : REAL;\n\tX14 : REAL;\n\tX21 : REAL;\n\tX22 : REAL;\n\tX23 : REAL;\n\tX24 : REAL;\n\tX31 : REAL;\n\tX32 : REAL;\n\tX33 : REAL;\n\tX34 : REAL;\n\tTC : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tP1 : REAL;\n\tP2 : REAL;\n\tP3 : REAL;\n\tP4 : REAL;\nEND_VAR\n\nVAR\n\tX : oscat_parset;\n\tS1 : REAL;\n\tS2 : REAL;\n\tS3 : REAL;\n\tS4 : REAL;\n\ttx : UDINT;\n\tlast : UDINT;\n\tstart : BOOL;\n\tset : BYTE;\n\tset2 : INT;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx:= T_PLC_MS.T_PLC_MS;\n\n(* 初始化序列 *)\nIF NOT init THEN\n\tset:=BIT_LOAD_B(set,NOT A0,0); (* set.X0 := NOT A0; *)\n\tinit := TRUE;\n\tX[0][1] := X01;\n\tX[0][2] := X02;\n\tX[0][3] := X03;\n\tX[0][4] := X04;\n\tX[1][1] := X11;\n\tX[1][2] := X12;\n\tX[1][3] := X13;\n\tX[1][4] := X14;\n\tX[2][1] := X21;\n\tX[2][2] := X22;\n\tX[2][3] := X23;\n\tX[2][4] := X24;\n\tX[3][1] := X31;\n\tX[3][2] := X32;\n\tX[3][3] := X33;\n\tX[3][4] := X34;\n\tP1 := X01;\n\tP2 := X02;\n\tP3 := X03;\n\tP4 := X04;\nEND_IF;\n\n(* 检查输入变化 *)\nIF (A0 XOR BIT_OF_DWORD(BYTE_TO_DWORD(set),0)) OR (A1 XOR BIT_OF_DWORD(BYTE_TO_DWORD(set),1)) THEN (* set.X0 , set.X1 *)\n\t(* 选择新设置 *)\n\tset := BIT_LOAD_B(set,A0,0); (* set.X0 := A0; *)\n\tset := BIT_LOAD_B(set,A1,1); (* set.X1 := A1; *)\n\n\tIF tc > t#0s THEN\n\t\tstart := TRUE;\n\t\tlast := tx;\n\t\t(* 保存步骤速度以便输出变化 *)\n\t\tset2 := _BYTE_TO_INT(set);\n\t\tS1 := (X[set2][1] - P1)/TIME_TO_REAL(tc);\n\t\tS2 := (X[set2][2] - P2)/TIME_TO_REAL(tc);\n\t\tS3 := (X[set2][3] - P3)/TIME_TO_REAL(tc);\n\t\tS4 := (X[set2][4] - P4)/TIME_TO_REAL(tc);\n\tEND_IF;\nELSIF start AND tx - last < TIME_TO_UDINT(tc) THEN\n\t(* 将输出值逐步过渡到新值 *)\n\tset2 := _BYTE_TO_INT(set);\n\tP1 := X[set2][1] - S1*(TIME_TO_REAL(Tc) - UDINT_TO_REAL(tx + last));\n\tP2 := X[set2][2] - S2*(TIME_TO_REAL(Tc) - UDINT_TO_REAL(tx + last));\n\tP3 := X[set2][3] - S3*(TIME_TO_REAL(Tc) - UDINT_TO_REAL(tx + last));\n\tP4 := X[set2][4] - S4*(TIME_TO_REAL(Tc) - UDINT_TO_REAL(tx + last));\nELSE\n\t(* 确保输出与正确的设置值匹配 *)\n\tset2 := _BYTE_TO_INT(set);\n\tstart := FALSE;\n\tP1 := X[set2][1];\n\tP2 := X[set2][2];\n\tP3 := X[set2][3];\n\tP4 := X[set2][4];\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A0",
          "type": "BOOL",
          "description": "输入参数A0"
        },
        {
          "name": "A1",
          "type": "BOOL",
          "description": "输入参数A1"
        },
        {
          "name": "X01",
          "type": "REAL",
          "description": "输入参数X01"
        },
        {
          "name": "X02",
          "type": "REAL",
          "description": "输入参数X02"
        },
        {
          "name": "X03",
          "type": "REAL",
          "description": "输入参数X03"
        },
        {
          "name": "X04",
          "type": "REAL",
          "description": "输入参数X04"
        },
        {
          "name": "X11",
          "type": "REAL",
          "description": "输入参数X11"
        },
        {
          "name": "X12",
          "type": "REAL",
          "description": "输入参数X12"
        },
        {
          "name": "X13",
          "type": "REAL",
          "description": "输入参数X13"
        },
        {
          "name": "X14",
          "type": "REAL",
          "description": "输入参数X14"
        },
        {
          "name": "X21",
          "type": "REAL",
          "description": "输入参数X21"
        },
        {
          "name": "X22",
          "type": "REAL",
          "description": "输入参数X22"
        },
        {
          "name": "X23",
          "type": "REAL",
          "description": "输入参数X23"
        },
        {
          "name": "X24",
          "type": "REAL",
          "description": "输入参数X24"
        },
        {
          "name": "X31",
          "type": "REAL",
          "description": "输入参数X31"
        },
        {
          "name": "X32",
          "type": "REAL",
          "description": "输入参数X32"
        },
        {
          "name": "X33",
          "type": "REAL",
          "description": "输入参数X33"
        },
        {
          "name": "X34",
          "type": "REAL",
          "description": "输入参数X34"
        },
        {
          "name": "TC",
          "type": "TIME",
          "description": "输入参数TC"
        }
      ],
      "outputs": [
        {
          "name": "P1",
          "type": "REAL",
          "description": "输出参数P1"
        },
        {
          "name": "P2",
          "type": "REAL",
          "description": "输出参数P2"
        },
        {
          "name": "P3",
          "type": "REAL",
          "description": "输出参数P3"
        },
        {
          "name": "P4",
          "type": "REAL",
          "description": "输出参数P4"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据相对湿度和温度计算露点温度怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tRH : REAL;\n\tT : REAL;\nEND_VAR\n\nVAR\n\tV : REAL;\nEND_VAR\n\nIF rh > 0.0 THEN\n\tV := LOG(RH * 0.01 * EXP10((7.5*T) / (237.3+T)));\n\tDEW_TEMP := 237.3*V / (7.5-V);\nELSE\n\tDEW_TEMP := -273.15;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RH",
          "type": "REAL",
          "description": "输入参数RH"
        },
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的REAL类型值截断为整数部分",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\nTRUNC_REAL := UDINT_TO_REAL(DINT_TO_UDINT(TRUNC_DINT(IN)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算复数的反双曲正切值怎么编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCATANH : oscat_complex;\nEND_VAR\n\nVAR\n\ti2 : REAL;\n\tnum : REAL;\n\ts : REAL;\nEND_VAR\n\ni2 := X.im * X.im;\nnum := 1.0 + X.re;\nnum := i2 + num * num;\nden := 1.0 - X.re;\nden := i2 + den * den;\nCATANH.re := 0.25 * (LN(num) - LN(den));\nden := 1.0 - X.re * X.re - i2;\nCATANH.im := 0.5 * ATAN(2.0 * X.im / den);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CATANH",
          "type": "oscat_complex",
          "description": "输出参数CATANH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算黄金比例",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GOLD\nIEC_LANGUAGE: ST\n*)\nGOLD := (X + SQRT(X*X + 4.0)) * 0.5;",
      "description": "GOLD功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过网络通信实现数据的写入与读取",
      "input": "",
      "output": "VAR_OUTPUT\n\tID : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tBUF_IN : oscat_aB1_64;\n\tBUF_OUT : oscat_aB1_64;\n\tX : oscat_NET_VAR_DATA;\nEND_VAR\n\nVAR\n\tsize : INT;\n\tinit : BOOL;\n\tindex : INT;\n\tindex2 : INT;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tID := USINT_TO_BYTE(X.ID_MAX);\nEND_IF;\n\nIF X.STATE > BYTE#0 AND X.ERROR_ID = BYTE#0 THEN\n\tindex := X.index; (* PCWORX 工作区解决方案 *)\n\tIF X.STATE = BYTE#1 THEN (* 写入数据 *)\n\t\tsize := 64;\n\t\tIF INT_TO_UINT(index + 3 + size) > X.BUF_SIZE THEN\n\t\t\tX.ERROR_ID := ID;\n\t\tELSE\n\t\t\tX.S_BUF.BUFFER[index] := ID; (* ID *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE#20; (* 类型 BUFFER *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := INT_TO_BYTE(size); (* 字节数 *)\n\t\t\tindex := index + 1;\n\t\t\tFOR index2 := 1 TO size DO\n\t\t\t\tX.S_BUF.BUFFER[index] := BUF_IN[index2];\n\t\t\t\tindex := index + 1;\n\t\t\tEND_FOR;\n\t\tEND_IF;\n\tELSIF X.STATE = BYTE#2 THEN (* 读取数据 *)\n\t\tindex2 := index + 1; (* PCWORX 工作区解决方案 *)\n\t\tIF X.R_BUF.BUFFER[index] <> ID OR X.R_BUF.BUFFER[index2] <> BYTE#20 THEN\n\t\t\tX.ERROR_ID := ID;\n\t\tELSE\n\t\t\tindex := index + 2;\n\t\t\tsize := BYTE_TO_INT(X.R_BUF.BUFFER[index]);\n\t\t\tindex := index + 1;\n\t\t\tFOR index2 := 1 TO size DO\n\t\t\t\tBUF_OUT[index2] := X.R_BUF.BUFFER[index];\n\t\t\t\tindex := index + 1;\n\t\t\tEND_FOR;\n\t\tEND_IF;\n\tEND_IF;\n\tX.index := index;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "ID",
          "type": "BYTE",
          "description": "输出参数ID"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言编程，存储输入信号的最小值和最大值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tMX : REAL;\n\tMN : REAL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_MIN_MAX\nIEC_LANGUAGE: ST\n*)\nIF (rst = TRUE) OR (init = FALSE) THEN\n\tmn := in;\n\tmx := in;\n\tinit := TRUE;\nELSIF (in < mn) THEN\n\tmn := in;\nELSIF (in > mx) THEN\n\tmx := in;\nEND_IF;",
      "description": "信号极值记录器，自动跟踪和存储输入信号的最小值和最大值。支持复位功能重新记录极值。适用于过程监控、质量统计、设备性能分析等需要了解信号变化范围的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重新记录极值"
        }
      ],
      "outputs": [
        {
          "name": "MX",
          "type": "REAL",
          "description": "记录的最大值"
        },
        {
          "name": "MN",
          "type": "REAL",
          "description": "记录的最小值"
        }
      ],
      "library_dependency": "无特殊库依赖，使用标准IEC 61131-3功能",
      "iec_standard": "IEC 61131-3 极值跟踪算法，状态保持",
      "tags": [
        "极值记录",
        "最小值",
        "最大值",
        "过程监控",
        "质量统计",
        "范围跟踪"
      ]
    },
    {
      "instruction": "计算一天中的太阳正午时刻怎么用st代码编写",
      "input": "",
      "output": "VAR_INPUT\n\tLON : REAL;\n\tUTC : UDINT;\nEND_VAR\n\nVAR\n\tT : REAL;\n\tOFFSET : REAL;\nEND_VAR\n\nT := INT_TO_REAL(DAY_OF_YEAR(utc));\nOFFSET := -0.1752 * SIN(0.033430 * T + 0.5474) - 0.1340 * SIN(0.018234 * T - 0.1939);\nSUN_MIDDAY := HOUR_TO_TOD(12.0 - OFFSET - lon * 0.0666666666666);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LON",
          "type": "REAL",
          "description": "输入参数LON"
        },
        {
          "name": "UTC",
          "type": "UDINT",
          "description": "输入参数UTC"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言翻转输入中指定位置的位",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\n\tPOS : INT;\nEND_VAR\n\nBIT_TOGGLE_B := SHL(BYTE#1, POS) XOR IN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过ST语言将一个整数转换为十进制数字",
      "input": "",
      "output": "VAR_INPUT\nIN : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INT_TO_BCDC\nIEC_LANGUAGE: ST\n*)\nINT_TO_BCDC := SHL_BYTE(INT_TO_BYTE(IN / INT#10), 4) OR INT_TO_BYTE(in MOD INT#10);",
      "description": "INT_TO_BCDC功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "INT",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从文件服务器读取数据的ST代码怎么写",
      "input": "",
      "output": "VAR_IN_OUT\n\tMODE : BYTE;\n\tFILENAME : STRING;\n\tFSD : oscat_FILE_SERVER_DATA;\n\tPT : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR_INPUT\n\tPOS : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tERROR : BYTE;\n\tDATA : BYTE;\nEND_VAR\n\nVAR\n\tstep : INT;\n\ti : INT;\n\tdata_start : UDINT;\n\tdata_stop : UDINT;\nEND_VAR\n\n\nCASE step OF\n0: IF MODE > BYTE#0 THEN\n\t\tERROR := BYTE#0;\n\t\tIF FSD.FILE_OPEN AND (FSD.FILE_SIZE = UDINT#0 OR POS >= FSD.FILE_SIZE) THEN\n\t\t\tERROR := BYTE#255;\n\t\t\tMODE := BYTE#0;\n\t\tELSIF POS < data_start OR POS > data_stop OR NOT FSD.FILE_OPEN THEN (* 需要读取数据 *）\n\t\t\tFSD.FILENAME := FILENAME;\n\t\t\tFSD.MODE := BYTE#1; (* 打开 + 读取 *）\n\t\t\tFSD.OFFSET := POS;\n\t\t\tPT.SIZE := UINT#65535; (* 最大读取数量 *）\n\t\t\tdata_start := UDINT#0;\n\t\t\tdata_stop := UDINT#0;\n\t\t\tstep := 10;\n\t\tELSE (* 数据已经在缓冲区中 *）\n\t\t\ti := UDINT_TO_INT(POS - data_start); (* 计算索引 *）\n\t\t\tDATA := PT.BUFFER[i];\n\t\t\tMODE := BYTE#0;\n\n\t\tEND_IF;\nEND_IF;\n\n10: IF FSD.MODE = BYTE#0 THEN (* 命令已完成 *）\n\t\tIF FSD.ERROR > BYTE#0 THEN\n\t\t\tERROR := FSD.ERROR; (* 输出错误 *）\n\t\t\tMODE := BYTE#0;\n\t\tELSE\n\t\t\tdata_start := POS;\n\t\t\tdata_stop := POS + UINT_TO_UDINT(PT.SIZE) - UDINT#1;\n\t\tEND_IF;\n\t\tstep := 0;\nEND_IF;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "POS",
          "type": "UDINT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "ERROR",
          "type": "BYTE",
          "description": "输出参数ERROR"
        },
        {
          "name": "DATA",
          "type": "BYTE",
          "description": "输出参数DATA"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过滤波处理传感器输入数据，并根据时间间隔更新温度数据",
      "input": "",
      "output": "VAR_INPUT\n\tTS : INT;\n\tDTI : UDINT;\n\tRST : BOOL;\n\tT_FILTER : TIME := T#10m;\n\tSCALE : REAL := 1.0;\n\tOFS : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tTA : REAL;\n\tTP : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tT24 : REAL;\n\tT24_MAX : REAL;\n\tT24_MIN : REAL;\nEND_VAR\n\nVAR\n\tsamples : oscat_T_AVG24;\n\tpos : INT;\n\tinit : BOOL;\n\tft1 : FILTER_I;\n\tsum : DINT;\n\tlast : UDINT;\n\ttmp_max : INT;\n\ttmp_min : INT;\n\ti : INT;\nEND_VAR\n\n(* 首先对传感器读数进行滤波 *)\nft1(X := TS, T := T_FILTER);\n\nIF rst OR NOT init THEN\n\tinit := TRUE;\n\tIF T24 = -1000.0 THEN t24 := INT_TO_REAL(ft1.Y) * 0.1; END_IF;\n\tFOR pos := 0 TO 47 DO\n\t\tsamples[pos] := REAL_TO_INT(T24 * 10.0);\n\tEND_FOR;\n\tpos := 0;\n\tsum := INT_TO_DINT(samples[0]) * DINT#48;\n\t(* 计算输出值 *)\n\tTA := (INT_TO_REAL(ft1.Y) * 0.1 + OFS) * SCALE;\n\tT24 := (DINT_TO_REAL(sum) * 0.00208333333333 + OFS) * SCALE;\n\ttp := TRUE;\nELSIF (dti / UDINT#60 MOD UDINT#30) = UDINT#0 AND DTI > last THEN\n\t(* 确保每30分钟只执行一次 *)\n\tlast := DTI + TIME_TO_UDINT(T#1m);\n\t(* 每30分钟采样一次温度并存入环形缓冲区样本 *)\n\t(* sum 始终保存数组的总和 *)\n\t(* 从sum中减去最旧的样本 *)\n\tsum := sum - INT_TO_DINT(samples[pos]);\n\t(* 存储新的样本 *)\n\tsamples[pos] := ft1.Y;\n\t(* 将新样本加入sum *)\n\tsum := sum + INT_TO_DINT(samples[pos]);\n\t(* 增加计数器以进行下一个采样 *)\n\tpos := INC1(pos, 48);\n\t(* 计算输出值 *)\n\tTA := (INT_TO_REAL(ft1.Y) * 0.1 + OFS) * SCALE;\n\tT24 := (DINT_TO_REAL(sum) * 0.00208333333333 + OFS) * SCALE;\n\t(* 计算过去24小时的最小值和最大值 *)\n\ttmp_max := -32000;\n\ttmp_min := 32000;\n\tFOR i := 0 TO 47 DO\n\t\ttmp_max := MAX(tmp_max, samples[i]);\n\t\ttmp_min := MIN(tmp_min, samples[i]);\n\tEND_FOR;\n\tT24_MAX := (INT_TO_REAL(tmp_max) * 0.1 + OFS) * SCALE;\n\tT24_MIN := (INT_TO_REAL(tmp_min) * 0.1 + OFS) * SCALE;\n\ttp := TRUE;\nELSE\n\ttp := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "TS",
          "type": "INT",
          "description": "输入参数TS"
        },
        {
          "name": "DTI",
          "type": "UDINT",
          "description": "输入参数DTI"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "T_FILTER",
          "type": "TIME",
          "description": "输入参数T_FILTER"
        },
        {
          "name": "SCALE",
          "type": "REAL",
          "description": "输入参数SCALE"
        },
        {
          "name": "OFS",
          "type": "REAL",
          "description": "输入参数OFS"
        }
      ],
      "outputs": [
        {
          "name": "TA",
          "type": "REAL",
          "description": "输出参数TA"
        },
        {
          "name": "TP",
          "type": "BOOL",
          "description": "触发脉冲"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "扫描输入的多个信号，比较每一条扫描线的变化，并生成对应的代码输出。用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX1 : BOOL;\n\tX2 : BOOL;\n\tX3 : BOOL;\n\tX4 : BOOL;\n\tX5 : BOOL;\n\tRELEASE : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tCODE : BYTE;\n\tTP : BOOL;\n\tY1 : BOOL := TRUE;\n\tY2 : BOOL;\n\tY3 : BOOL;\n\tY4 : BOOL;\nEND_VAR\n\nVAR\n\tline : BYTE;\n\tX : oscat_arb_0_3;(* 扫描线输入 *)\n\tL : oscat_arb_0_3;(* 扫描线状态 *)\n\ti : INT;\n\ttemp : BYTE;\n\ttemp2 : BYTE;\n\tL_temp : BYTE;\n\ttemp_bit : BOOL;\n\tin_temp : INT;\nEND_VAR\n\nTP := FALSE;\ncode := BYTE#0;\n\n(* 读取扫描线 *)\nin_temp := _BYTE_TO_INT(line);\ntemp := X[in_temp];\n(* X[LINE] 复制 *)\ntemp := BIT_LOAD_B(temp,X1,0);(* X[line].0 := X1; *)\ntemp := BIT_LOAD_B(temp,X2,1);(* X[line].1 := X2; *)\ntemp := BIT_LOAD_B(temp,X3,2);(* X[line].2 := X3; *)\ntemp := BIT_LOAD_B(temp,X4,3);(* X[line].3 := X4; *)\ntemp := BIT_LOAD_B(temp,X5,4);(* X[line].4 := X5; *)\nX[in_temp] := temp;(* X[LINE] 还原 *)\n\n(* 比较是否有变化 *)\nFOR i := 0 TO 3 DO\n\tIF X[i] <> L[i] THEN\n\t\t(* 扫描线信息已改变，需要查找并生成代码 *)\n\t\ttemp := x[i] XOR L[i];\n\t\ttemp2 := X[i];\n\t\tL_temp := L[i];\n\n\t\tIF BIT_OF_DWORD(BYTE_TO_DWORD(temp),0) THEN(* temp.X0 *)\n\t\t\tcode := BYTE#1;\n\t\t\ttemp_bit := BIT_OF_DWORD(BYTE_TO_DWORD(temp2),0);(* X[i].X0 *)\n\t\t\tcode := BIT_LOAD_B(code,temp_bit,7);(* code.X7 *)\n\t\t\tL_temp := BIT_LOAD_B(L_temp,temp_bit,0);(* L[i].X0 *)\n\t\tELSIF BIT_OF_DWORD(BYTE_TO_DWORD(temp),1) THEN(* temp.X1 *)\n\t\t\tcode := BYTE#2;\n\t\t\ttemp_bit := BIT_OF_DWORD(BYTE_TO_DWORD(temp2),1);(* X[i].X1 *)\n\t\t\tcode := BIT_LOAD_B(code,temp_bit,7);(* code.X7 *)\n\t\t\tL_temp := BIT_LOAD_B(L_temp,temp_bit,1);(* L[i].X1 *)\n\t\tELSIF BIT_OF_DWORD(BYTE_TO_DWORD(temp),2) THEN(* temp.X2 *)\n\t\t\tcode := BYTE#3;\n\t\t\ttemp_bit := BIT_OF_DWORD(BYTE_TO_DWORD(temp2),2);(* X[i].X2 *)\n\t\t\tcode := BIT_LOAD_B(code,temp_bit,7);(* code.X7 *)\n\t\t\tL_temp := BIT_LOAD_B(L_temp,temp_bit,2);(* L[i].X2 *)\n\t\tELSIF BIT_OF_DWORD(BYTE_TO_DWORD(temp),3) THEN(* temp.X3 *)\n\t\t\tcode := BYTE#4;\n\t\t\ttemp_bit := BIT_OF_DWORD(BYTE_TO_DWORD(temp2),3);(* X[i].X3 *)\n\t\t\tcode := BIT_LOAD_B(code,temp_bit,7);(* code.X7 *)\n\t\t\tL_temp := BIT_LOAD_B(L_temp,temp_bit,3);(* L[i].X3 *)\n\t\tELSIF BIT_OF_DWORD(BYTE_TO_DWORD(temp),4) THEN(* temp.X4 *)\n\t\t\tcode := BYTE#5;\n\t\t\ttemp_bit := BIT_OF_DWORD(BYTE_TO_DWORD(temp2),4);(* X[i].X4 *)\n\t\t\tcode := BIT_LOAD_B(code,temp_bit,7);(* code.X7 *)\n\t\t\tL_temp := BIT_LOAD_B(L_temp,temp_bit,4);(* L[i].X4 *)\n\t\tEND_IF;\n\t\tL[i] := L_temp;\n\t\tTP := TRUE;\n\t\tcode := (code AND BYTE#2#1000_1111) OR SHL(LINE AND BYTE#2#0000_0111,4);\n\t\t(* 上面的行对应：Code.X4 := Line.X0; / Code.X5 := Line.X1; / Code.X6 := Line.X2; *)\n\n\t\t(* 检查是否需要清除释放码 *)\n\t\tIF NOT release AND code < BYTE#127 THEN\n\t\t\tcode := BYTE#0;\n\t\t\tTP := FALSE;\n\t\tEND_IF;\n\t\tEXIT;\n\tEND_IF;\nEND_FOR;\n\n(* 每个周期递增扫描线 *)\nline := INT_TO_BYTE(_BYTE_TO_INT(line) + 1) AND BYTE#2#0000_0011;\ntemp := SHL(BYTE#1,_BYTE_TO_INT(line));\n\nY1 := BIT_OF_DWORD(BYTE_TO_DWORD(temp),0);(* temp.0 *)\nY2 := BIT_OF_DWORD(BYTE_TO_DWORD(temp),1);(* temp.1 *)\nY3 := BIT_OF_DWORD(BYTE_TO_DWORD(temp),2);(* temp.2 *)\nY4 := BIT_OF_DWORD(BYTE_TO_DWORD(temp),3);(* temp.3 *)",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X1",
          "type": "BOOL",
          "description": "输入参数X1"
        },
        {
          "name": "X2",
          "type": "BOOL",
          "description": "输入参数X2"
        },
        {
          "name": "X3",
          "type": "BOOL",
          "description": "输入参数X3"
        },
        {
          "name": "X4",
          "type": "BOOL",
          "description": "输入参数X4"
        },
        {
          "name": "X5",
          "type": "BOOL",
          "description": "输入参数X5"
        },
        {
          "name": "RELEASE",
          "type": "BOOL",
          "description": "输入参数RELEASE"
        }
      ],
      "outputs": [
        {
          "name": "CODE",
          "type": "BYTE",
          "description": "代码输出"
        },
        {
          "name": "TP",
          "type": "BOOL",
          "description": "触发脉冲"
        },
        {
          "name": "Y1",
          "type": "BOOL",
          "description": "输出参数Y1"
        },
        {
          "name": "Y2",
          "type": "BOOL",
          "description": "输出参数Y2"
        },
        {
          "name": "Y3",
          "type": "BOOL",
          "description": "输出参数Y3"
        },
        {
          "name": "Y4",
          "type": "BOOL",
          "description": "输出参数Y4"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "要求通过对一个周期计数器进行递增，根据每个计数器值对不同的常数进行模运算。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tE0 : BOOL;\n\tE1 : BOOL;\n\tE2 : BOOL;\n\tE3 : BOOL;\n\tC0 : UINT;\n\tC1 : UINT;\n\tC2 : UINT;\n\tC3 : UINT;\n\tO0 : UINT;\n\tO1 : UINT;\n\tO2 : UINT;\n\tO3 : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\tsx : UINT;\nEND_VAR\n\nQ0 := E0 AND (sx MOD C0 - O0 = UINT#0);\nQ1 := E1 AND (sx MOD C1 - O1 = UINT#0);\nQ2 := E2 AND (sx MOD C2 - O2 = UINT#0);\nQ3 := E3 AND (sx MOD C3 - O3 = UINT#0);\n\n(* 每个周期递增计数器 *)\nsx := sx + UINT#1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "E0",
          "type": "BOOL",
          "description": "输入参数E0"
        },
        {
          "name": "E1",
          "type": "BOOL",
          "description": "输入参数E1"
        },
        {
          "name": "E2",
          "type": "BOOL",
          "description": "输入参数E2"
        },
        {
          "name": "E3",
          "type": "BOOL",
          "description": "输入参数E3"
        },
        {
          "name": "C0",
          "type": "UINT",
          "description": "输入参数C0"
        },
        {
          "name": "C1",
          "type": "UINT",
          "description": "输入参数C1"
        },
        {
          "name": "C2",
          "type": "UINT",
          "description": "输入参数C2"
        },
        {
          "name": "C3",
          "type": "UINT",
          "description": "输入参数C3"
        },
        {
          "name": "O0",
          "type": "UINT",
          "description": "输入参数O0"
        },
        {
          "name": "O1",
          "type": "UINT",
          "description": "输入参数O1"
        },
        {
          "name": "O2",
          "type": "UINT",
          "description": "输入参数O2"
        },
        {
          "name": "O3",
          "type": "UINT",
          "description": "输入参数O3"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算两个三维向量A和B的差？我要st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tB : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_SUB : oscat_vector_3;\nEND_VAR\n\nV3_SUB.X := A.X - B.X;\nV3_SUB.Y := A.Y - B.Y;\nV3_SUB.Z := A.Z - B.Z;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "oscat_vector_3",
          "description": "输入值B"
        }
      ],
      "outputs": [
        {
          "name": "V3_SUB",
          "type": "oscat_vector_3",
          "description": "输出参数V3_SUB"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的日期，计算该日期属于该年的第几周。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nVAR\n\td1 : UDINT;\n\tw1 : INT;\n\tds : UDINT;\n\tyr : INT;\n\tw31 : INT;\n\tw01 : INT;\n\twm : INT;\nEND_VAR\n\n(* 计算idate年份的1月1日。 )\nyr := YEAR_OF_DATE(idate);\nd1 := year_begin(yr);\n( d1的星期几 )\nw1 := DAY_OF_WEEK(d1);\n( 上一年最后一周星期一的偏移量 )\n( 如果新年第一天是星期四之后，则上一年的最后一周从星期一开始 )\n( 如果新年第一天是星期四或更早，则第一周从前两周的星期一开始 )\nIF w1 < 5 THEN\n\tds := d1 - _INT_TO_UDINT(w1+6) * UDINT#86400;\nELSE\n\tds := d1 + _INT_TO_UDINT(1-w1) * UDINT#86400;\nEND_IF;\n\n( 输入日期的日历周 )\nwork_week := UDINT_TO_INT((idate - ds) / UDINT#604800);\n\n( 如果work_week为0的修正 )\nIF work_week = 0 THEN\n\t( 当去年1月1日是星期四或者12月31日是星期四时，work_week应为53。 )\n\t( 一年第一天和最后一天的星期几相同，闰年再加一天。 )\n\tIF w1 > 1 THEN w31 := w1 - 1; ELSE W31 := 7; END_IF;\n\tIF leap_year(yr - 1) THEN IF w31 > 1 THEN w01 := W31 - 1; ELSE w1 := 7; END_IF; END_IF;\n\t( 如果一年第一天或最后一天是星期四，则该年有53周 )\n\tWORK_WEEK := 52 + BOOL_TO_INT(w31 = 4 OR w01 = 4);\nELSE\n\t( 年末的计算 )\n\t( 计算年初和年末的星期几 )\n\tIF leap_year(yr) THEN\n\t\tIF w1 < 7 THEN w31 := w1 + 1; ELSE w31 := 1; END_IF;\n\tELSE\n\t\tw31 := w1;\n\tEND_IF;\n\t( 如果年初或年末是星期四，则该年有53周，否则只有52周 *)\n\twm := 52 + BOOL_TO_INT(w31 = 4 OR w1 = 4);\n\tIF work_week > wm THEN work_week := 1; END_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给出能计算Langevin函数的值的PLC程序",
      "input": "",
      "output": "VAR_INPUT\nX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LANGEVIN\nIEC_LANGUAGE: ST\n*)\nIF X = 0.0 THEN\nLANGEVIN := 0.0;\nELSE\nLANGEVIN := COTH(X) - 1.0 / X;\nEND_IF;",
      "description": "LANGEVIN功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于PLC实现一个时钟分频器",
      "input": "",
      "output": "VAR_INPUT\n\tCLK : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL := FALSE;\n\tQ1 : BOOL := FALSE;\n\tQ2 : BOOL := FALSE;\n\tQ3 : BOOL := FALSE;\n\tQ4 : BOOL := FALSE;\n\tQ5 : BOOL := FALSE;\n\tQ6 : BOOL := FALSE;\n\tQ7 : BOOL := FALSE;\nEND_VAR\n\nVAR\n\tcnt : BYTE := 0;\nEND_VAR\n\nIF rst THEN\n\tcnt := BYTE#0;\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\n\tQ4 := FALSE;\n\tQ5 := FALSE;\n\tQ6 := FALSE;\n\tQ7 := FALSE;\nELSIF clk THEN\n\tcnt := USINT_TO_BYTE(BYTE_TO_USINT(cnt) + USINT#1);\n\n\tQ0 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 0); (* Q0 := cnt.X0; *)\n\tQ1 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 1); (* Q1 := cnt.X1; *)\n\tQ2 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 2); (* Q2 := cnt.X2; *)\n\tQ3 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 3); (* Q3 := cnt.X3; *)\n\tQ4 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 4); (* Q4 := cnt.X4; *)\n\tQ5 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 5); (* Q5 := cnt.X5; *)\n\tQ6 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 6); (* Q6 := cnt.X6; *)\n\tQ7 := BIT_OF_DWORD(BYTE_TO_DWORD(cnt), 7); (* Q7 := cnt.X7; *)\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "Q7",
          "type": "BOOL",
          "description": "输出参数Q7"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个基于PI控制的控制器，给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tKI : REAL := 1.0;\n\tILIM_L : REAL := -1.0E38;\n\tILIM_H : REAL := 1.0E38;\n\tIEN : BOOL := TRUE;\n\tRST : BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tinteg : FT_INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PI\nIEC_LANGUAGE: ST\n*)\n(* 运行积分器 *)\ninteg(IN := IN, K := KI, RUN := IEN, RST := RST, OUT_MIN := ILIM_L, OUT_MAX := ILIM_H);\n\n(* 检查积分器是否达到极限并设置溢出标志 *)\nLIM := integ.LIM;\nY := KP * IN + integ.Out;",
      "description": "PI控制器实现，结合比例控制和积分控制。积分环节消除稳态误差，提供无差控制。适用于需要精确控制、消除静差的速度控制、温度控制、压力控制等工业过程控制应用。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "KI",
          "type": "REAL",
          "description": "积分增益系数"
        },
        {
          "name": "ILIM_L/H",
          "type": "REAL",
          "description": "积分限幅范围"
        },
        {
          "name": "IEN",
          "type": "BOOL",
          "description": "积分使能信号"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "积分器复位"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PI控制器输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "积分限幅状态"
        }
      ],
      "library_dependency": "OSCAT库: FT_INT积分器功能块",
      "iec_standard": "IEC 61131-3 PI控制算法，无差控制",
      "tags": [
        "PI控制",
        "比例积分",
        "无差控制",
        "稳态误差",
        "精确控制",
        "过程控制"
      ]
    },
    {
      "instruction": "如何解析输入字符串，提取数字和运算符，并执行相应的数学运算",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tEXEC : STRING;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tR1 : REAL;\n\tR2 : REAL;\n\toperator : STRING;\n\ttemp : STRING;\n\tuppercase : uppercase;\n\ttrim : trim;\n\tfindB_num : findB_num;\n\tfindB_nonum : findB_nonum;\nEND_VAR\n\n(* 提取数字和运算符 )\ntrim(str := STR);\ntemp := trim.trim;\n\nuppercase(str := temp);\nEXEC := uppercase.uppercase;\n\nfindB_nonum(str := EXEC);\npos := findB_nonum.findB_nonum;\n\nIF pos > 1 THEN\n\ttemp := LEFT(EXEC, pos - 1);\n\tfindB_num(str := temp);\n\tIF findB_num.findB_num > 0 THEN\n\t\tR1 := STRING_TO_REAL(temp);\n\tEND_IF;\nEND_IF;\ntemp := RIGHT(EXEC, LEN(EXEC) - pos);\nR2 := STRING_TO_REAL(temp);\nEXEC := LEFT(EXEC, pos);\n\nfindB_num(str := EXEC);\npos := findB_num.findB_num;\noperator := RIGHT(EXEC, LEN(EXEC) - pos);\nIF EQ_STRING(operator, '') AND LEN(STR) = 0 THEN\n\tEXEC := '';\n\tRETURN;\nELSIF EQ_STRING(operator, '') THEN\n\tEXEC := STR;\n\tRETURN;\nEND_IF;\nIF EQ_STRING(operator, '^') THEN\n\tEXEC := REAL_TO_STRING(EXPT(R1, R2), '%f');\nELSIF EQ_STRING(operator, 'SQRT') THEN\n\tEXEC := REAL_TO_STRING(SQRT(R2), '%f');\nELSIF EQ_STRING(operator, 'SIN') THEN\n\tEXEC := REAL_TO_STRING(SIN(R2), '%f');\nELSIF EQ_STRING(operator, 'COS') THEN\n\tEXEC := REAL_TO_STRING(COS(R2), '%f');\nELSIF EQ_STRING(operator, 'TAN') THEN\n\tEXEC := REAL_TO_STRING(TAN(R2), '%f');\nELSIF EQ_STRING(operator, '') THEN\n\tEXEC := REAL_TO_STRING(R1 * R2, '%f');\nELSIF EQ_STRING(operator, '/') THEN\n\tIF R2 <> 0.0 THEN EXEC := REAL_TO_STRING(R1 / R2, '%f'); ELSE EXEC := 'ERROR'; END_IF;\nELSIF EQ_STRING(operator, '+') THEN\n\tEXEC := REAL_TO_STRING(R1 + R2, '%f');\nELSIF EQ_STRING(operator, '-') THEN\n\tEXEC := REAL_TO_STRING(R1 - R2, '%f');\nELSE\n\tEXEC := 'ERROR';\nEND_IF;\nIF EQ_STRING(EXEC, 'ERROR') THEN\n\tRETURN;\n(* 有些系统返回整数而非实数 *)\nELSIF FIND(EXEC, '.') = 0 THEN\n\tEXEC := CONCAT(EXEC, '.0');\n(* 有些系统返回 n. 而非 n.0 *)\nELSE\n\ttemp := RIGHT(EXEC, 1);\n\tIF EQ_STRING(temp, '.') THEN\n\t\tEXEC := CONCAT(EXEC, '0');\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "EXEC",
          "type": "STRING",
          "description": "输出参数EXEC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "",
      "input": "",
      "output": "VAR_INPUT\n\tDATE_IN : UDINT;\n\tENA : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : BOOL;\n\tNAME : oscat_STRING30;\nEND_VAR\n\nVAR_IN_OUT\n\tELIST : oscat_HOLIDAY_DATA_0_49;\nEND_VAR\n\nVAR\n\ti : INT;\n\tlast_active : UDINT;\n\tsize : INT := 49;\n\tday_in : DINT;\n\tcyr : INT;\n\tlday : DINT;\n\tcheck : oscat_HOLIDAY_DATA;\n\ty_int : BOOL;\n\tname_int : oscat_STRING30;\nEND_VAR\nIF last_active <> DATE_IN THEN\n\tlast_active := DATE_IN;\n\ty_int := FALSE;\n\tname_int := '';\n\tday_in := DAY_OF_DATE(DATE_IN);\n\tcyr := YEAR_OF_DATE(DATE_IN);\n\n\t(* 在列表中查找节假日 *)\n\tFOR i := 0 TO size DO\n\t\tcheck := ELIST[i];\n\t\tlday := DAY_OF_DATE(SET_DATE(cyr, SINT_TO_INT(check.month), SINT_TO_INT(check.day)));\n\t\tIF day_in >= lday AND day_in <= lday + SINT_TO_DINT(check.use) - DINT#1 THEN\n\t\t\ty_int := TRUE;\n\t\t\tname_int := check.name;\n\t\t\tEXIT;\n\t\tEND_IF;\n\tEND_FOR;\nEND_IF;\n\nIF ENA THEN\n\tY := y_int;\n\tNAME := name_int;\nELSE\n\tY := FALSE;\n\tNAME := '';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DATE_IN",
          "type": "UDINT",
          "description": "输入参数DATE_IN"
        },
        {
          "name": "ENA",
          "type": "BOOL",
          "description": "输入参数ENA"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "BOOL",
          "description": "输出结果"
        },
        {
          "name": "NAME",
          "type": "oscat_STRING30",
          "description": "输出参数NAME"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么实现一个带去抖动和定时配置功能的电路，根据输入信号和定时器的状态生成输出",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tTD : TIME;\n\tTR : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tT1 : TON;\n\tT2 : TON;\n\tINV : BOOL;\nEND_VAR\n\n(* 运行去抖电路 *)\nt1(in := IN, PT := TD);\n\nIF tr > t#0s THEN\n\t(* 生成输出 *)\n\tQ := t1.Q XOR inv;\n\t(* 配置定时器 *)\n\tT2(in := Q, pt := TR);\n\t(* 当T2.Q为高时，反转INV *)\n\tIF T2.Q THEN INV := NOT INV; END_IF;\nELSE\n\tQ := t1.Q;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "TD",
          "type": "TIME",
          "description": "输入参数TD"
        },
        {
          "name": "TR",
          "type": "TIME",
          "description": "输入参数TR"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何获取字符串中指定位置的字符",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tCODE : BYTE;\nEND_VAR\n\nIF pos < 1 OR pos > LEN(str) THEN\n\tCODE := BYTE#0;\n\tRETURN;\nELSE\n\tCODE := INT_TO_BYTE(GET_CHAR(STR, POS));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "CODE",
          "type": "BYTE",
          "description": "代码输出"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入日期，计算该日期在一年中的天数。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nDAY_OF_YEAR := UDINT_TO_INT((DATE_TO_UDINT(idate) / UDINT#86400) MOD UDINT#1461);\nIF DAY_OF_YEAR > 729 THEN\n\tIF DAY_OF_YEAR > 1095 THEN DAY_OF_YEAR := DAY_OF_YEAR - 1095; ELSE DAY_OF_YEAR := DAY_OF_YEAR - 729; END_IF;\nELSIF DAY_OF_YEAR > 364 THEN\n\tDAY_OF_YEAR := DAY_OF_YEAR - 364;\nELSE\n\tDAY_OF_YEAR := DAY_OF_YEAR + 1;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的相对湿度和温度计算露点浓度怎么用ST代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tRH : REAL;\n\tT : REAL;\nEND_VAR\n\nIF RH > 0.0 AND T > -50.0 THEN\n\tDEW_CON := 2.166824303E-2 * RH * SDD(T,FALSE) / (T - -273.15);\nELSE\n\tDEW_CON := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RH",
          "type": "REAL",
          "description": "输入参数RH"
        },
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将数组中的元素取绝对值的st代码怎么写",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_ARRAY_ABS : BOOL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nFOR i := 1 TO stop DO\n\tpt[i] := ABS(pt[i]);\nEND_FOR;\n_ARRAY_ABS := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_ARRAY_ABS",
          "type": "BOOL",
          "description": "输出参数_ARRAY_ABS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么根据输入信号和超时设置控制输出信号，并通过状态编号和字节数组来决定哪些输出信号被激活",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tRST : BOOL;\n\tTIMEOUT : TIME;\n\tSX : oscat_DRIVER_4C;\nEND_VAR\n\nVAR_OUTPUT\n\tSN : INT;\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\toff : TON;\n\tedge : BOOL;\nEND_VAR\n\nIF RST OR off.Q THEN\n\tSN := 0;\nELSIF IN AND NOT edge THEN\n\tSN := SN + 1;\n\tIF SN > 7 OR SX[SN] = BYTE#0 THEN SN := 0; END_IF;\nEND_IF;\nedge := in;\nIF SN > 0 THEN\n\tQ0 := (SX[SN] AND BYTE#1) > BYTE#0;\n\tQ1 := (SX[SN] AND BYTE#2) > BYTE#0;\n\tQ2 := (SX[SN] AND BYTE#4) > BYTE#0;\n\tQ3 := (SX[SN] AND BYTE#8) > BYTE#0;\nELSE\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\nEND_IF;\n(* maximum timeout *)\nIF timeout > t#0s THEN off(in := SN > 0, PT := Timeout); END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "TIMEOUT",
          "type": "TIME",
          "description": "输入参数TIMEOUT"
        },
        {
          "name": "SX",
          "type": "oscat_DRIVER_4C",
          "description": "输入参数SX"
        }
      ],
      "outputs": [
        {
          "name": "SN",
          "type": "INT",
          "description": "输出参数SN"
        },
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算圆形段的面积",
      "input": "",
      "output": "VAR_INPUT\n\tRX : REAL;\n\tHX : REAL;\nEND_VAR\n\nIF RX > 0.0 THEN\n\tCIRCLE_SEG := 2.0 * ACOS(1.0 - LIMIT(0.0, HX / RX, 2.0));\n\tCIRCLE_SEG := (CIRCLE_SEG - SIN(CIRCLE_SEG)) * RX * RX * 0.5;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RX",
          "type": "REAL",
          "description": "输入参数RX"
        },
        {
          "name": "HX",
          "type": "REAL",
          "description": "输入参数HX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在两个数组PT1和PT2之间查找匹配的子数组怎么用ST语言实现",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT1 : oscat_arb_0_249;\nEND_VAR\n\nVAR_INPUT\n\tSIZE1 : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tPT2 : oscat_arb_0_249;\nEND_VAR\n\nVAR_INPUT\n\tSIZE2 : INT;\n\tSTART : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_COMP : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tj : INT;\n\tend : INT;\n\tj2 : INT;\nEND_VAR\n\n(* 搜索第一个字符匹配 *)\n\nIF SIZE2 <= SIZE1 AND SIZE1 > 0 AND SIZE2 > 0 AND START >= 0 THEN\n\tend := SIZE1 - SIZE2;\n\tFOR i := START TO end DO\n\t\tIF PT1[i] = PT2[0] THEN\n\t\t\t(* 第一个字符匹配，现在比较数组的其余部分 *)\n\t\t\tj := 1;\n\t\t\tj2 := j + i;\n\t\t\tWHILE j < SIZE2 DO\n\t\t\t\tIF PT2[j] <> PT1[j2] THEN EXIT; END_IF;\n\t\t\t\tj := j + 1;\n\t\t\t\tj2 := j2 + 1;\n\t\t\tEND_WHILE;\n\t\t\t(* 当 j > size2 时，找到匹配，返回 PT1 中的匹配位置 i *)\n\t\t\tIF j = SIZE2 THEN\n\t\t\t\tBUFFER_COMP := i;\n\t\t\t\tRETURN;\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tEND_FOR;\nEND_IF;\nBUFFER_COMP := -1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE1",
          "type": "INT",
          "description": "输入参数SIZE1"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_COMP",
          "type": "INT",
          "description": "输出参数BUFFER_COMP"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对数组进行排序，并根据数组的元素个数计算并返回中位数。给出ST语言代码",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_ARRAY_MEDIAN : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\ti2 : INT;\n\tstop : INT;\n\t_array_sort : _ARRAY_SORT;\nEND_VAR\n\n(* 对数组进行排序 *)\n_array_sort.pt := pt;\n_array_sort.size := size;\n_array_sort();\npt := _array_sort.pt;\n\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nIF even(INT_TO_DINT(stop)) THEN\n\ti := WORD_TO_INT(SHR(INT_TO_WORD(stop), 1));\n\ti2 := i + 1;\n\t_array_median := (pt[i] + pt[i2]) * 0.5;\nELSE\n\ti := WORD_TO_INT(SHR(INT_TO_WORD(stop), 1)) + 1;\n\t_array_median := pt[i];\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_ARRAY_MEDIAN",
          "type": "REAL",
          "description": "输出参数_ARRAY_MEDIAN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过Telnet发送日志信息，循环检查连接状态并发送消息",
      "input": "",
      "output": "VAR_INPUT\n\tENABLE : BOOL;\n\tOPTION : BYTE := BYTE#2#1000_1100;\n\tPORT : WORD := WORD#23;\nEND_VAR\n\nVAR_OUTPUT\n\tREADY : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;\n\tS_BUF : oscat_NETWORK_BUFFER;\n\tLOG_CL : us_LOG_CONTROL;\nEND_VAR\n\nVAR\n\tTELNET_PRINT : TELNET_PRINT;\n\tdone : BOOL;\n\tinit : BOOL;\n\twatchdog : TON;\n\tci : INT;\n\tpi : INT;\n\tpi_last : INT;\n\tsend : BOOL;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tIF OPTION > BYTE#0 THEN\n\t\tTELNET_PRINT.OPTION := OPTION;\n\tEND_IF;\n\tIF PORT > WORD#0 THEN\n\t\tTELNET_PRINT.PORT := PORT;\n\tEND_IF;\n\tWATCHDOG.PT := T#1ms;\nEND_IF;\n\nWATCHDOG(IN:=FALSE); (* 停止计时器 *)\n\nci := LOG_CL.IDX;\n\n(* 连接关闭的边缘检测 *)\nIF IP_C.C_STATE = BYTE#1 THEN\n\tpi := 0;\n\tinit := FALSE;\nEND_IF;\n\nREPEAT\n\tIF pi <> ci AND IP_C.C_STATE > BYTE#127 THEN\n\t\tIF pi = 0 AND LOG_CL.RING_MODE THEN pi := ci; END_IF;\n\t\tpi_last := pi;\n\t\tpi := pi + 1;\n\t\tIF pi > LOG_CL.SIZE THEN pi := 1; END_IF;\n\t\tSEND := TRUE;\n\tELSE\n\t\tSEND := FALSE;\n\tEND_IF;\n\n\tTELNET_PRINT(\n\t\tIP_C := IP_C,\n\t\tS_BUF := S_BUF,\n\t\tENABLE := ENABLE,\n\t\tSEND := SEND,\n\t\tTEXT := LOG_CL.MSG[pi],\n\t\tBACK_COLOR := DWORD_TO_BYTE(SHL(LOG_CL.MSG_OPTION[pi],8)),\n\t\tFRONT_COLOR := DWORD_TO_BYTE(LOG_CL.MSG_OPTION[pi])\n\t);\n\tREADY := TELNET_PRINT.READY;\n\tdone := TELNET_PRINT.DONE;\n\tIP_C := TELNET_PRINT.IP_C;\n\tS_BUF := TELNET_PRINT.S_BUF;\n\n\tIF SEND AND NOT done THEN\n\t\tpi := pi_last;\n\tEND_IF;\n\n\tWATCHDOG(IN:=TRUE);\nUNTIL (WATCHDOG.Q OR NOT done )\nEND_REPEAT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "OPTION",
          "type": "BYTE",
          "description": "输入参数OPTION"
        },
        {
          "name": "PORT",
          "type": "WORD",
          "description": "输入参数PORT"
        }
      ],
      "outputs": [
        {
          "name": "READY",
          "type": "BOOL",
          "description": "输出参数READY"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "配置和管理网络通信的ST语言代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tUDP_TCP : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tS_ENABLE : BOOL;\n\tR_ENABLE : BOOL;\n\tERROR : DWORD;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;(*IP_Control Verwaltungsstruktur*)\n\tS_BUF : oscat_NETWORK_BUFFER;\n\tR_BUF : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR\n\tt : TON;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IRTRANS_SERVER\nIEC_LANGUAGE: ST\n*)\nIF NOT IP_C.C_ENABLE THEN\n\t(* IP Datenverkehr einrichten *)\n\tIP_C.C_PORT := WORD#0; (* Portnummer eintragen *)\n\tIP_C.C_IP := DWORD#00; (* IP eintragen *)\n\tIP_C.C_MODE := SEL(UDP_TCP,BYTE#5,BYTE#4);\n\tIP_C.C_ENABLE := TRUE;\n\tIP_C.R_OBSERVE := FALSE;\n\tIP_C.TIME_RESET := TRUE;\n\tS_BUF.SIZE := UINT#0;\n\tR_BUF.SIZE := UINT#0;\nEND_IF;\n\nR_ENABLE := IP_C.C_STATE > BYTE#127;\nS_ENABLE := R_ENABLE AND (IP_C.MAILBOX[1] > BYTE#0 OR IP_C.C_MODE <> BYTE#5);\nERROR := IP_C.ERROR;\n\nt(IN:= IP_C.ERROR > DWORD#0, PT:=T#5s);\nIF t.Q THEN\n\tIP_C.TIME_RESET := TRUE; (* Error Reset *)\nEND_IF;",
      "description": "IRTRANS_SERVER功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UDP_TCP",
          "type": "BOOL",
          "description": "输入参数UDP_TCP"
        }
      ],
      "outputs": [
        {
          "name": "S_ENABLE",
          "type": "BOOL",
          "description": "输出参数S_ENABLE"
        },
        {
          "name": "R_ENABLE",
          "type": "BOOL",
          "description": "输出参数R_ENABLE"
        },
        {
          "name": "ERROR",
          "type": "DWORD",
          "description": "输出参数ERROR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将华氏温度转换为摄氏温度的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tFAHRENHEIT : REAL;\nEND_VAR\n\nF_TO_C := (FAHRENHEIT - 32.0) * 0.5555555555555;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "FAHRENHEIT",
          "type": "REAL",
          "description": "输入参数FAHRENHEIT"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "输入一段字符串，查找第一个不是数字的字符的位置，用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFIND_NONUM : INT;\nEND_VAR\n\nVAR\n\tX : INT;\n\tend : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIND_NONUM\nIEC_LANGUAGE: ST\n*)\nend := LEN(str);\nFOR pos := MAX(pos,1) TO LEN(str) DO;\n\tX := GET_CHAR(str,pos);\n\tIF (X < 48 AND X <> 46) OR X > 57 THEN\n\t\tfind_nonum := pos;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nfind_nonum := 0;",
      "description": "字符串非数字字符查找函数，从指定位置搜索第一个非数字字符。数字字符包括0-9（ASCII 48-57）和小数点（ASCII 46）。适用于数字字符串验证、数值解析边界检测、输入格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "待搜索的字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "搜索起始位置"
        }
      ],
      "outputs": [
        {
          "name": "FIND_NONUM",
          "type": "INT",
          "description": "第一个非数字字符位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: GET_CHAR函数",
      "iec_standard": "IEC 61131-3 字符编码处理，数字字符识别",
      "tags": [
        "非数字字符",
        "数字验证",
        "字符串解析",
        "输入检查",
        "格式验证",
        "数值边界"
      ]
    },
    {
      "instruction": "将XDT类型表示的时间转换为秒咋用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tXDT : UDINT;\nEND_VAR\n\nSECOND_OF_DT := UDINT_TO_INT(XDT MOD UDINT#60);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "XDT",
          "type": "UDINT",
          "description": "输入参数XDT"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个用于DWORD格式数据的可编程长度的移动平均滤波器",
      "input": "",
      "output": "VAR_INPUT\n\tX : DWORD;\n\tN : UINT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : DWORD;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tbuffer : oscat_ardw_0_31;\n\ti : INT;\n\ttmp : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILTER_MAV_DW\nIEC_LANGUAGE: ST\n*)\n(* 限制 N 为缓冲区的大小 *)\nN := MIN(N, UINT#32);\n\n(* 启动初始化 *)\nIF NOT init OR rst OR N = UINT#0 THEN\n\tinit := TRUE;\n\ttmp := UINT_TO_INT(N)-1;\n\tFOR i := 0 TO tmp DO\n\t\tbuffer[i] := X;\n\tEND_FOR;\n\tY := X;\nELSE\n\ttmp := UINT_TO_INT(N);\n\ti := INC1(i, tmp);\n\tY := UDINT_TO_DWORD(DWORD_TO_UDINT(Y) + (DWORD_TO_UDINT(X) - DWORD_TO_UDINT(buffer[i])) / UINT_TO_UDINT(N));\n\tbuffer[i] := X;\nEND_IF;",
      "description": "DWORD类型移动平均滤波器，支持1-32个样本的可编程窗口长度。采用高效更新算法，每次只需计算新样本与最老样本的差值。适用于去除周期性噪声、平滑趋势数据、移动窗口分析等应用。",
      "inputs": [
        {
          "name": "X",
          "type": "DWORD",
          "description": "输入信号(无符号双字)"
        },
        {
          "name": "N",
          "type": "UINT",
          "description": "移动平均窗口长度(1-32)"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重新初始化缓冲区"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "DWORD",
          "description": "移动平均输出结果"
        }
      ],
      "library_dependency": "OSCAT库: oscat_ardw_0_31数组类型, INC1函数",
      "iec_standard": "IEC 61131-3 移动平均算法，高效窗口更新",
      "tags": [
        "移动平均",
        "窗口滤波",
        "趋势平滑",
        "周期性噪声",
        "高效算法",
        "数据平滑"
      ]
    },
    {
      "instruction": "用st语言制作一个函数块，用于生成指定长度和字符的字符串",
      "input": "",
      "output": "VAR_INPUT\n\tC : BYTE;\n\tL : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFILL : STRING;\nEND_VAR\n\nVAR\n\tN : BYTE;\n\tI : INT;\n\tsx : STRING;\n\tCHR_TO_STRING : CHR_TO_STRING;\n\tFILL_tmp : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILL\nIEC_LANGUAGE: ST\n*)\nCHR_TO_STRING(C:=c);\nSx:=CHR_TO_STRING.CHR_TO_STRING;\n(* create string *)\nN := INT_TO_BYTE(LIMIT(0,L,80));\n(* create a string of characters to be connected to str *)\nFILL := '';\nFOR i := 1 TO 8 DO\n\tFILL_tmp := FILL;\n\tFILL := CONCAT(FILL_tmp,FILL);\n\tIF BIT_OF_DWORD(BYTE_TO_DWORD(N),7) THEN FILL := CONCAT(FILL,Sx); END_IF;\n\tN := SHL_BYTE(N,1);\nEND_FOR;",
      "description": "字符串填充功能块，根据指定字符和长度生成重复字符串。支持最大80个字符的字符串生成，采用位操作优化填充过程。适用于文本格式化、分隔符生成、占位符创建等字符串处理场景。",
      "inputs": [
        {
          "name": "C",
          "type": "BYTE",
          "description": "填充字符的ASCII码"
        },
        {
          "name": "L",
          "type": "INT",
          "description": "目标字符串长度(0-80)"
        }
      ],
      "outputs": [
        {
          "name": "FILL",
          "type": "STRING",
          "description": "生成的填充字符串"
        }
      ],
      "library_dependency": "OSCAT库: CHR_TO_STRING函数, BIT_OF_DWORD, SHL_BYTE函数",
      "iec_standard": "IEC 61131-3 字符串操作，类型转换和位操作",
      "tags": [
        "字符串填充",
        "文本生成",
        "字符处理",
        "格式化",
        "占位符",
        "字符串操作"
      ]
    },
    {
      "instruction": "怎么计算圆的扇形面积",
      "input": "",
      "output": "VAR_INPUT\n\tRX : REAL;\n\tAX : REAL;\nEND_VAR\n\ncircle_A := Rx * RX * 8.726646E-3 * Ax;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RX",
          "type": "REAL",
          "description": "输入参数RX"
        },
        {
          "name": "AX",
          "type": "REAL",
          "description": "输入参数AX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么在PLC上根据输入的秒数中计算出小时部分",
      "input": "",
      "output": "VAR_INPUT\n\tXDT : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HOUR_OF_DT\nIEC_LANGUAGE: ST\n*)\nHOUR_OF_DT := UDINT_TO_INT((XDT MOD UDINT#86400) / UDINT#3600);",
      "description": "HOUR_OF_DT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "XDT",
          "type": "UDINT",
          "description": "输入参数XDT"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码实现时钟计时器功能",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tSDT : UDINT;\n\tSMS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tXDT : UDINT;\n\tXMS : INT;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tlast : UDINT;\n\ttx : UDINT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\nIF set OR NOT init THEN\n\t(* 当 set 为真或上电后时钟需要设置 *)\n\tinit := TRUE;\n\txdt := SDT;\n\tXMS := SMS;\nELSE\n\tXMS := XMS + UDINT_TO_INT(tx - last);\n\t(* 检查是否已过了一秒钟 *)\n\tIF XMS > 999 THEN\n\t\tXDT := XDT + UDINT#1; (* 增加一秒 *)\n\t\tXMS := XMS - 1000;\n\tEND_IF;\nEND_IF;\nlast := tx;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "SDT",
          "type": "UDINT",
          "description": "输入参数SDT"
        },
        {
          "name": "SMS",
          "type": "INT",
          "description": "输入参数SMS"
        }
      ],
      "outputs": [
        {
          "name": "XDT",
          "type": "UDINT",
          "description": "输出参数XDT"
        },
        {
          "name": "XMS",
          "type": "INT",
          "description": "输出参数XMS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将一个DWORD类型的输入值IN按照字节偏移量N的值进行右移",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tN : BYTE;\nEND_VAR\n\nBYTE_OF_DWORD := DWORD_TO_BYTE(SHR(IN, _BYTE_TO_INT(SHL(N, 3))));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "BYTE",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据VAL的值，修改字节IN中的特定位。给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\n\tVAL : BOOL;\n\tPOS : INT;\nEND_VAR\n\nIF VAL THEN\n\tBIT_LOAD_B := in OR SHL(BYTE#1,pos);\nELSE\n\tBIT_LOAD_B := in AND (NOT SHL(BYTE#1,pos));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        },
        {
          "name": "VAL",
          "type": "BOOL",
          "description": "比较值"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算双曲余切的值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF X > 20.0 THEN\n\tCOTH := 1.0;\nELSIF X < -20.0 THEN\n\tCOTH := -1.0;\nELSE\n\tCOTH := 1.0 + 2.0 / (EXP(X * 2.0) - 1.0);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将DWORD类型的输入换为32位二进制字符串的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tDWORD_TO_STRB : oscat_STRING32;\nEND_VAR\n\nVAR\n\ti : INT;\nEND_VAR\n\nDWORD_TO_STRB := '';\nFOR i := 1 TO 32 DO\n\tIF (IN AND DWORD#16#8000_0000) > DWORD#0 THEN\n\t\tDWORD_TO_STRB := CONCAT(DWORD_TO_STRB,'1');\n\tELSE\n\t\tDWORD_TO_STRB := CONCAT(DWORD_TO_STRB,'0');\n\tEND_IF;\n\tIN := SHL(IN, 1);\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "DWORD_TO_STRB",
          "type": "oscat_STRING32",
          "description": "输出参数DWORD_TO_STRB"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的时间戳，计算并返回对应的年份，用st代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nYEAR_OF_DATE := UDINT_TO_INT((idate + UDINT#43200) / UDINT#31557600 + UDINT#1970);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入之间的差值和容差判断哪些输入有效，并根据有效输入的数量进行不同的平均计算。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tIN3 : REAL;\n\tD : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tW : INT;\n\tE : BOOL;\nEND_VAR\n\nVAR\n\tD12 : BOOL;\n\tD23 : BOOL;\n\tD31 : BOOL;\nEND_VAR\n\nD12 := ABS(IN1-IN2) <= D;\nD23 := ABS(IN2-IN3) <= D;\nD31 := ABS(IN3-IN1) <= D;\n\nIF (D12 AND D23) OR (D12 AND D31) OR (D23 AND D31) THEN\n\t(* 所有三个输入有效 *)\n\tY := (IN1 + IN2 + IN3) * 0.333333333333;\n\tE := FALSE;\n\tW := 0;\nELSIF D12 THEN\n\t(* 只有输入 1 和 2 有效 *)\n\tY := (IN1 + IN2) * 0.5;\n\tE := FALSE;\n\tW := 3;\nELSIF D23 THEN\n\t(* 只有输入 2 和 3 有效 *)\n\tY := (IN2 + IN3) * 0.5;\n\tE := FALSE;\n\tW := 1;\nELSIF D31 THEN\n\t(* 只有输入 3 和 1 有效 *)\n\tY := (IN3 + IN1) * 0.5;\n\tE := FALSE;\n\tW := 2;\nELSE\n\t(* 无法进行计算 *)\n\tE := TRUE;\n\tW := 4;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "REAL",
          "description": "输入参数IN3"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "输入参数D"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        },
        {
          "name": "W",
          "type": "INT",
          "description": "输出参数W"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "输出参数E"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从输入的SRC字符串中搜索指定的HTTP状态信息，并将找到的内容转换成字符串。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\n\tPOS : INT;\n\tSRC : STRING;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR_OUTPUT\n\tREAD_HTTP : oscat_STRING250;\nEND_VAR\n\nVAR\n\tindex : INT;\n\ts1 : INT;\n\te1 : INT;\n\tstop : INT;\n\tBUFFER_SEARCH : BUFFER_SEARCH_NW;\n\tBUFFER_TO_STRING : BUFFER_TO_STRING_NW;\nEND_VAR\n\nSTOP := UINT_TO_INT(SIZE) - 1;\n\nIF LEN(SRC) = 0 THEN\n\t(* 如果没有搜索词，则评估HTTP状态 *)\n\tSRC := 'HTTP/'; (* 新的搜索词 *)\nELSE\n\t(* 增加搜索的参数文本 *)\n\tSRC := CONCAT(SRC,': ');\nEND_IF;\n\nBUFFER_SEARCH(size := size, str := SRC, pos := pos, ign := TRUE, pt := pt);\npt := BUFFER_SEARCH.pt;\nS1 := BUFFER_SEARCH.BUFFER_SEARCH;\n\nIF S1 >= 0 THEN (* 找到文本 *)\n\tE1 := S1;\n\n\t(* 搜索行的开始 *)\n\tINDEX := S1 - 1;\n\tWHILE (INDEX > 0) DO\n\t\tIF pt[INDEX] < BYTE#32 THEN EXIT; END_IF;\n\t\tS1 := S1 - 1;\n\t\tINDEX := INDEX - 1;\n\tEND_WHILE;\n\n\t(* 搜索行的结束 *)\n\tINDEX := E1 + 1;\n\tWHILE (INDEX <= STOP) DO\n\t\tIF pt[INDEX] < BYTE#32 THEN EXIT; END_IF;\n\t\tE1 := E1 + 1;\n\t\tINDEX := INDEX + 1;\n\tEND_WHILE;\n\n\ts1 := s1 + LEN(SRC); (* 不复制'suchbegriff: ' *)\n\n\t(* 复制字符串 *)\n\tBUFFER_TO_STRING.size := size;\n\tBUFFER_TO_STRING.start := INT_TO_UINT(s1);\n\tBUFFER_TO_STRING.stop := INT_TO_UINT(e1);\n\tBUFFER_TO_STRING.pt := pt;\n\tBUFFER_TO_STRING();\n\tREAD_HTTP := BUFFER_TO_STRING.BUFFER_TO_STRING;\n\tpt := BUFFER_TO_STRING.pt;\n\nELSE\n\tREAD_HTTP := '';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        },
        {
          "name": "SRC",
          "type": "STRING",
          "description": "输入参数SRC"
        }
      ],
      "outputs": [
        {
          "name": "READ_HTTP",
          "type": "oscat_STRING250",
          "description": "输出参数READ_HTTP"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何解析给定的URL字符串，提取其中的协议、用户、密码、锚点、查询参数、路径、端口和域名等信息",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tDEFAULT_PROTOCOL : oscat_STRING20 := 'http';\n\tDEFAULT_PATH : oscat_STRING80 := '/';\nEND_VAR\n\nVAR_OUTPUT\n\tSTRING_TO_URL : oscat_url;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tpos2 : INT;\n\ttemp : STRING;\n\tx : oscat_STRING250;\nEND_VAR\n\n(* 检查字符串是否为空并返回空URL *)\nIF EQ_STRING(STR, '') THEN\n\tRETURN;\nEND_IF;\n\npos := FIND(STR, '://');\nIF pos > 0 THEN\n\t(* 存储协议并将剩余部分恢复到temp中 *)\n\tSTRING_TO_URL.PROTOCOL := LEFT(STR, pos - 1);\n\tx := RIGHT(STR, LEN(STR) - pos - 2);\nELSE\n\tx := STR;\n\tSTRING_TO_URL.PROTOCOL := DEFAULT_PROTOCOL;\nEND_IF;\n\n(* 提取用户和密码，如果存在并以@结尾 *)\npos := FIND(x, '@');\nIF pos > 0 THEN\n\t(* 提取用户 *)\n\tpos2 := FIND(x, ':') + 1;\n\tIF pos2 > 1 AND pos2 <= pos THEN\n\t\tSTRING_TO_URL.USER := LEFT(x, pos2 - 2);\n\t\tSTRING_TO_URL.PASSWORD := MID(x, pos - pos2, pos2);\n\tELSE\n\t\tSTRING_TO_URL.USER := LEFT(x, pos - 2);\n\t\tSTRING_TO_URL.PASSWORD := '';\n\tEND_IF;\n\tx := RIGHT(x, LEN(x) - pos);\nELSE\n\tSTRING_TO_URL.USER := '';\n\tSTRING_TO_URL.PASSWORD := '';\nEND_IF;\n\n(* 提取锚点 *)\npos := FIND(x, '#');\nIF pos > 0 THEN\n\tSTRING_TO_URL.ANCHOR := RIGHT(x, LEN(x) - pos);\n\tx := LEFT(x, pos - 1);\nELSE\n\tSTRING_TO_URL.ANCHOR := '';\nEND_IF;\n\n(* 提取查询参数 *)\npos := FIND(x, '?');\nIF pos > 0 THEN\n\tSTRING_TO_URL.QUERY := RIGHT(x, LEN(x) - pos);\n\tx := LEFT(x, pos - 1);\nELSE\n\tSTRING_TO_URL.QUERY := '';\nEND_IF;\n\n(* 提取路径 *)\npos := FIND(x, '/');\nIF pos > 0 THEN\n\tSTRING_TO_URL.PATH := RIGHT(x, LEN(x) - pos + 1);\n\tx := LEFT(x, pos - 1);\nELSE\n\tSTRING_TO_URL.PATH := DEFAULT_PATH;\nEND_IF;\n\n(* 提取端口并保留域名 *)\npos := FIND(x, ':');\nIF pos > 0 THEN\n\ttemp := RIGHT(x, LEN(x) - pos);\n\tSTRING_TO_URL.PORT := STRING_TO_WORD(temp);\n\tSTRING_TO_URL.DOMAIN := LEFT(x, pos - 1);\nELSE\n\tSTRING_TO_URL.PORT := WORD#0;\n\tSTRING_TO_URL.DOMAIN := x;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "DEFAULT_PROTOCOL",
          "type": "oscat_STRING20",
          "description": "输入参数DEFAULT_PROTOCOL"
        },
        {
          "name": "DEFAULT_PATH",
          "type": "oscat_STRING80",
          "description": "输入参数DEFAULT_PATH"
        }
      ],
      "outputs": [
        {
          "name": "STRING_TO_URL",
          "type": "oscat_url",
          "description": "输出参数STRING_TO_URL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在指定位置P处将N位的值D加载到WORD类型的变量I中怎么实现",
      "input": "",
      "output": "VAR_INPUT\n\tI : WORD;\n\tD : BOOL;\n\tP : INT;\n\tN : INT;\nEND_VAR\n\nIF D THEN\n\tBIT_LOAD_W2 := ROL(SHR(WORD#16#FFFF, 16 - N) OR ROR(I, P), P);\nELSE\n\tBIT_LOAD_W2 := ROL(SHL(WORD#16#FFFF, N) AND ROR(I, P), P);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I",
          "type": "WORD",
          "description": "输入参数I"
        },
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "P",
          "type": "INT",
          "description": "输入参数P"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言编程，实现Lambert W函数",
      "input": "",
      "output": "VAR_INPUT\nX : REAL;\nEND_VAR\n\nVAR_OUTPUT\nLAMBERT_W : REAL;\nEND_VAR\n\nVAR\nw : REAL;\ni : INT;\nwe : REAL;\nw1e : REAL;\nlast : DWORD;\newx : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LAMBERT_W\nIEC_LANGUAGE: ST\n*)\n(* 检查输入是否有效，如果过低则返回 -1000 *）\nIF x < -0.367879441171442 THEN\nLAMBERT_W := -1000.0;\nRETURN;\n(* 如果 x = 0 则返回 0 *）\nELSIF x = 0.0 THEN\nRETURN;\n(* 首先计算一个估计值 *）\nELSIF x <= 500.0 THEN\nw := LN(x + 1.0);\nw := 0.665 * (1.0 + 0.0195 * w) * w + 0.04;\nELSE\nw := LN(x - 4.0) - (1.0 - 1.0/LN(x)) * LN(LN(x));\nEND_IF;\n(* 使用估计值计算精确结果 *）\nFOR i := 0 TO 5 DO\newx := EXP(w);\nwe := w * ewx - x;\nw1e := (w+1.0) * ewx;\nlast := _REAL_TO_DWORD(w) AND DWORD#16#FFFF_FFFC;\nw := w - (we / (w1e - (w+2.0) * we / (2.0 * w + 2.0)));\nIF (_REAL_TO_DWORD(w) AND DWORD#16#FFFF_FFFC) = last THEN EXIT; END_IF;\nEND_FOR;\nLAMBERT_W := w;",
      "description": "LAMBERT_W功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "LAMBERT_W",
          "type": "REAL",
          "description": "输出参数LAMBERT_W"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码计算数组中元素倒数的和",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_HAV : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\nARRAY_HAV := 0.0;\nFOR i := 1 TO stop DO\n\tIF pt[i] <> 0.0 THEN\n\t\tARRAY_HAV := ARRAY_HAV + 1.0/pt[i];\n\tELSE\n\t\tARRAY_HAV := 0.0;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nARRAY_HAV := INT_TO_REAL(stop) / ARRAY_HAV;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_HAV",
          "type": "REAL",
          "description": "输出参数ARRAY_HAV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查字符串是否仅由字母和数字组成",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_ALNUM : BOOL;\nEND_VAR\n\nVAR\nchar : BYTE;\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_ALNUM\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nchar := INT_TO_BYTE(GET_CHAR(str,pos));\nIF NOT (ISC_ALPHA(char) OR ISC_NUM(char)) THEN\nIS_ALNUM := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_ALNUM := I<>0;",
      "description": "IS_ALNUM检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_ALNUM",
          "type": "BOOL",
          "description": "输出参数IS_ALNUM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "接收一个星期几的名称字符串和一个语言设置，将其转换为相应的整数值，代表星期几的顺序，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tWDAY : oscat_STRING20;\n\tLANG : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFSTRING_TO_WEEKDAY : INT;\nEND_VAR\n\nVAR\n\ttmp : oscat_STRING2;\n\ti : INT;\n\tly : INT;\n\tTRIM : TRIM;\n\tSETUP_LANGUAGE : SETUP_LANGUAGE;\n\tLANGUAGE : oscat_LANGUAGE;\n\tSETUP_WEEKDAYS2 : SETUP_WEEKDAYS2;\n\tWEEKDAYS2 : oscat_WEEKDAYS2;\n\tLOWERCASE : LOWERCASE;\n\tCAPITALIZE : CAPITALIZE;\n\tDEC_TO_INT : DEC_TO_INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FSTRING_TO_WEEKDAY\nIEC_LANGUAGE: ST\n*)\nSETUP_WEEKDAYS2(WEEKDAYS2:=WEEKDAYS2);\nWEEKDAYS2:=SETUP_WEEKDAYS2.WEEKDAYS2;\nSETUP_LANGUAGE(LANGUAGE:=LANGUAGE);\nLANGUAGE:=SETUP_LANGUAGE.LANGUAGE;\n\nIF LANG = 0 THEN ly := LANGUAGE.DEFAULT; ELSE ly := MIN(LANG, LANGUAGE.LMAX); END_IF;\n(* tmp 需要先计算，否则 FIND 可能返回错误的值 *)\nTRIM(str:=WDAY);\nLOWERCASE(str:=TRIM.trim);\ntmp:=LOWERCASE.lowercase;\nCAPITALIZE(str:=LOWERCASE.lowercase);\ntmp:=CAPITALIZE.CAPITALIZE;\nFOR i := 1 TO 7 DO\n\tIF EQ_STRING(WEEKDAYS2[ly][i],tmp) THEN\n\t\tFSTRING_TO_WEEKDAY := i;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\n\nDEC_TO_INT(DEC:=WDAY);\nFSTRING_TO_WEEKDAY:=DEC_TO_INT.DEC_TO_INT;",
      "description": "星期名称到数字转换函数，支持多语言和多种格式识别。能够处理完整的星期名称，通过字符串匹配找到对应的星期序号。适用于用户界面、调度配置、日历处理等需要解析星期文本表示的应用。",
      "inputs": [
        {
          "name": "WDAY",
          "type": "oscat_STRING20",
          "description": "星期名称字符串"
        },
        {
          "name": "LANG",
          "type": "INT",
          "description": "语言选择(0=默认语言)"
        }
      ],
      "outputs": [
        {
          "name": "FSTRING_TO_WEEKDAY",
          "type": "INT",
          "description": "星期序号(1-7)"
        }
      ],
      "library_dependency": "OSCAT库: 星期和语言设置函数, TRIM, LOWERCASE, CAPITALIZE",
      "iec_standard": "IEC 61131-3 字符串处理和匹配，多语言支持",
      "tags": [
        "星期转换",
        "多语言支持",
        "字符串匹配",
        "用户界面",
        "调度配置",
        "日历处理"
      ]
    },
    {
      "instruction": "怎么初始化缓冲区并检查是否成功",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\n\tINIT : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_INIT : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR\n\terr : INT;\n\tresult : WORD;\nEND_VAR\n\nresult := MEMSET(err, INIT, UINT_TO_DINT(SIZE), PT[0]);\nBUFFER_INIT := (err = 0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "INIT",
          "type": "BYTE",
          "description": "输入参数INIT"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_INIT",
          "type": "BOOL",
          "description": "输出参数BUFFER_INIT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于ST代码生成一个灰度编码值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nBYTE_TO_GRAY := IN XOR SHR(IN,1);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现反双曲正切函数的计算",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nACOTH := LN((X+1.0)/(X-1.0))*0.5;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将十六进制字符串转换为字节格式，逐字符读取并计算每个数字的值，在PLC上怎么编程？",
      "input": "",
      "output": "VAR\n\ti : INT;\n\tstop : INT;\n\tX : INT;\nEND_VAR\n\nOCT_TO_BYTE := BYTE#0;\nstop := LEN(oct);\nFOR I := 1 TO stop DO\n\t(* 读取第一个字符并减去48得到十进制值 0 = 48 *)\n\tX := GET_CHAR(oct,I);\n\t(* 计算数字的值 *)\n\tIF X > 47 AND x < 56 THEN\n\t\tOCT_TO_BYTE := SHL_BYTE(OCT_TO_BYTE,3) OR INT_TO_BYTE(X - 48);\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入的字符串分割并转换为DWORD格式的IPv4地址",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING80;\nEND_VAR\n\nVAR_OUTPUT\n\tIP4_DECODE : DWORD;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tIS_NUM : IS_NUM;\nEND_VAR\n\nIP4_DECODE := DWORD#0;\npos := FIND(str, '.');\nWHILE pos > 0 DO\n\tIP4_DECODE := SHL(IP4_DECODE,8);\n\tIF POS > 1 AND POS <= 4 THEN\n\t\tIS_NUM(STR:=LEFT(str,pos - 1));\n\t\tIF IS_NUM.IS_NUM THEN\n\t\t\tIP4_DECODE := IP4_DECODE OR STRING_TO_DWORD(IS_NUM.STR);\n\t\tEND_IF;\n\tEND_IF;\n\tstr := DELETE(str, pos, 1);\n\tpos := FIND(str, '.');\nEND_WHILE;\n\nIP4_DECODE := SHL(IP4_DECODE,8);\nIS_NUM(STR:=str);\nIF IS_NUM.IS_NUM THEN\n\tIP4_DECODE := IP4_DECODE OR STRING_TO_DWORD(str);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING80",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IP4_DECODE",
          "type": "DWORD",
          "description": "输出参数IP4_DECODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查数组是否已按升序排序，用st语言编程",
      "input": "",
      "output": "VAR_IN_OUT\nPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\nSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\nIS_SORTED : BOOL;\nEND_VAR\n\nVAR\ni : INT;\ni2 : INT;\nstop : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_SORTED\nIEC_LANGUAGE: ST\n*)\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nstop := stop - 1;\nFOR i := 1 TO stop DO\ni2 := i + 1;\nIF pt[i] > pt[i2] THEN\nIS_SORTED := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_SORTED := TRUE;",
      "description": "数组排序检查功能，验证数组是否按升序排列。适用于数据验证、算法检查、排序确认等数组排序验证应用。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "IS_SORTED",
          "type": "BOOL",
          "description": "排序状态"
        }
      ],
      "library_dependency": [
        "OSCAT库 - oscat_pt_ARRAY数组类型"
      ],
      "iec_standard": "IEC 61131-3 第5章：数组处理和排序验证",
      "tags": [
        "排序检查",
        "数组验证",
        "数据验证",
        "算法检查",
        "排序确认"
      ]
    },
    {
      "instruction": "实现一个斜坡波形信号生成器的st代码",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME := T#1s;\n\tAM : REAL := REAL#1.0;\n\tOS : REAL;\n\tDL : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tOUT : REAL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tlast : TIME;\n\tinit : BOOL;\n\ttemp : REAL;\n\tltemp : REAL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_RMP\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间并准备输入数据 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS) - last;\nDL := modR(dl, 1.0);\nIF dl < 0.0 THEN dl := 1.0 - dl; END_IF;\n\n(* 初始化部分 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\ttx := T#0s;\nEND_IF;\n\n(* 如果一个周期已完成，更新 last *)\nIF tx >= pt THEN\n\tlast := last + pt;\n\ttx := tx - pt;\nEND_IF;\n\n(* 生成正弦波 *)\nltemp := temp;\nIF pt > T#0s THEN\n\ttemp := fract(TIME_TO_REAL(tx + multime(pt, dl)) / TIME_TO_REAL(pt)); END_IF;\nout := am * temp + os;\n\n(* 布尔输出 Q *)\nQ := temp < ltemp;",
      "description": "GEN_RMP信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "AM",
          "type": "REAL",
          "description": "幅值参数"
        },
        {
          "name": "OS",
          "type": "REAL",
          "description": "偏移量参数"
        },
        {
          "name": "DL",
          "type": "REAL",
          "description": "输入参数DL"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "根据输入的按键状态，构建并发送特定的字符串数据的PLC代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tDEV_CODE : STRING;\n\tKEY_CODE_0 : STRING;\n\tKEY_CODE_1 : STRING;\n\tKEY_CODE_2 : STRING;\n\tKEY_CODE_3 : STRING;\n\tIN_0 : BOOL;\n\tIN_1 : BOOL;\n\tIN_2 : BOOL;\n\tIN_3 : BOOL;\n\tT_REPEAT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tKEY : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;(*IP_Control 管理结构*)\n\tS_BUF : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR\n\tskey : STRING;\n\tsize : INT;\n\tstr : STRING;\n\ti : INT;\n\tt : TON;\n\tk : BYTE;\n\tlk : BYTE;\n\td : BOOL;\n\ti2 : INT;\n\tCODE : CODE;\nEND_VAR\n\nd := IP_C.C_STATE > BYTE#127 AND (IP_C.MAILBOX[1] > BYTE#0 OR IP_C.C_MODE <> BYTE#5);\nIF NOT d THEN RETURN; END_IF;\n\nt(IN:= lk = k , PT:=T_REPEAT);\n\nIF S_BUF.SIZE = UINT#0 THEN\n\tIF IN_0 THEN\n\t\tskey := KEY_CODE_0; k := BYTE#1;\n\tELSIF IN_1 THEN\n\t\tskey := KEY_CODE_1; k := BYTE#2;\n\tELSIF IN_2 THEN\n\t\tskey := KEY_CODE_2; k := BYTE#3;\n\tELSIF IN_3 THEN\n\t\tskey := KEY_CODE_3; k := BYTE#4;\n\tELSE\n\t\tlk := BYTE#0;\n\t\tKEY := BYTE#0;\n\t\tRETURN; (* 如果没有激活按键则退出 *)\n\tEND_IF;\n\n\tIF lk <> k OR T.Q THEN (* 按键更改或重复等待时间已过 *)\n\t\tstr := CONCAT('snd ',dev_code);\n\t\tstr := CONCAT(str,',');\n\t\tstr := CONCAT(str,skey);\n\t\tsize := LEN(str);\n\t\tFOR i := 1 TO size DO\n\t\t\ti2 := i - 1;\n\t\t\tCODE(STR:=str,POS:=i);\n\t\t\tS_BUF.BUFFER[i2] := CODE.CODE;\n\t\tEND_FOR;\n\t\tS_BUF.SIZE := INT_TO_UINT(size);\n\t\tKEY := k;\n\t\tlk := k; (* 保存最后一个按键 *)\n\t\tt(IN:=FALSE); (* 重置时间 *)\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEV_CODE",
          "type": "STRING",
          "description": "输入参数DEV_CODE"
        },
        {
          "name": "KEY_CODE_0",
          "type": "STRING",
          "description": "输入参数KEY_CODE_0"
        },
        {
          "name": "KEY_CODE_1",
          "type": "STRING",
          "description": "输入参数KEY_CODE_1"
        },
        {
          "name": "KEY_CODE_2",
          "type": "STRING",
          "description": "输入参数KEY_CODE_2"
        },
        {
          "name": "KEY_CODE_3",
          "type": "STRING",
          "description": "输入参数KEY_CODE_3"
        },
        {
          "name": "IN_0",
          "type": "BOOL",
          "description": "输入参数IN_0"
        },
        {
          "name": "IN_1",
          "type": "BOOL",
          "description": "输入参数IN_1"
        },
        {
          "name": "IN_2",
          "type": "BOOL",
          "description": "输入参数IN_2"
        },
        {
          "name": "IN_3",
          "type": "BOOL",
          "description": "输入参数IN_3"
        },
        {
          "name": "T_REPEAT",
          "type": "TIME",
          "description": "输入参数T_REPEAT"
        }
      ],
      "outputs": [
        {
          "name": "KEY",
          "type": "BYTE",
          "description": "输出参数KEY"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "plc如何在一组已定义的点之间进行线性插值计算",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tXY : oscat_XY;\n\tPTS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tLINEAR_INT : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\ti2 : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LINEAR_INT\nIEC_LANGUAGE: ST\n*)\n(*确保n在数组大小范围内*)\npts := MIN(pts,20);\n\n(*计算线性插值段*)\ni := 2;\n(*查找段并计算输出，在定义的段的上下方我们进行插值计算*)\nWHILE (i < pts) AND (XY[i][0] < X) DO\n\ti := i + 1;\nEND_WHILE;\n\n(*辅助变量 -> Multiprog不允许在[index]中进行计算*)\ni2 := i-1;\n\n(*在对应的段坐标上计算输出值*)\nLINEAR_INT := ((XY[i][1] - XY[i2][1]) * X - XY[i][1] * XY[i2][0] + XY[i2][1] * XY[i][0]) / (XY[i][0] - XY[i2][0]);",
      "description": "LINEAR_INT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "XY",
          "type": "oscat_XY",
          "description": "输入参数XY"
        },
        {
          "name": "PTS",
          "type": "INT",
          "description": "输入参数PTS"
        }
      ],
      "outputs": [
        {
          "name": "LINEAR_INT",
          "type": "REAL",
          "description": "输出参数LINEAR_INT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言检查输入时间是否在给定时间范围内",
      "input": "",
      "output": "VAR_INPUT\n\tTD : UDINT;\n\tSTART : UDINT;\n\tSTOP : UDINT;\nEND_VAR\n\nIF stop < start THEN\n\tTIMECHECK := start <= TD OR TD < stop;\nELSE\n\tTIMECHECK := start <= TD AND TD < stop;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "TD",
          "type": "UDINT",
          "description": "输入参数TD"
        },
        {
          "name": "START",
          "type": "UDINT",
          "description": "输入参数START"
        },
        {
          "name": "STOP",
          "type": "UDINT",
          "description": "输入参数STOP"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将MD5哈希值转换为对应的字符串格式的st语言代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tMD5 : oscat_aB0_15;\nEND_VAR\n\nVAR_OUTPUT\n\tMD5_TO_STRH : oscat_STRING32;\nEND_VAR\n\nVAR\n\tbuf : oscat_aB0_31;\n\tx : INT;\n\tBUF_TO_STRING : BUF_TO_STRING;\n\ti : INT;\n\ttmp : INT;\nEND_VAR\n\nx := 0;\nFOR i := 0 TO 15 DO;\n\ttmp := BYTE_TO_INT(SHR_BYTE(MD5[i],4));\n\tbuf[x] := INT_TO_BYTE(tmp + SEL(tmp <= 9,87,48));\n\tx := x + 1;\n\ttmp := BYTE_TO_INT(MD5[i] AND BYTE#2#1111);\n\tbuf[x] := INT_TO_BYTE(tmp + SEL(tmp <= 9,87,48));\n\tx := x + 1;\nEND_FOR;\n\nFOR x := 0 TO 1 DO\n\tBUF_TO_STRING.REQ := x > 0;\n\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\tBUF_TO_STRING.BUF_OFFS := DINT#0;\n\tBUF_TO_STRING.BUF_CNT := DINT#32;\n\tBUF_TO_STRING.BUFFER := buf;\n\tBUF_TO_STRING.DST := MD5_TO_STRH;\n\tBUF_TO_STRING();\n\tbuf := BUF_TO_STRING.BUFFER;\n\tMD5_TO_STRH := BUF_TO_STRING.DST;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MD5",
          "type": "oscat_aB0_15",
          "description": "输入参数MD5"
        }
      ],
      "outputs": [
        {
          "name": "MD5_TO_STRH",
          "type": "oscat_STRING32",
          "description": "输出参数MD5_TO_STRH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给我对四个输入进行缩放和线性变换的st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BYTE;\n\tIN2 : BYTE;\n\tIN3 : BYTE;\n\tIN4 : BYTE;\n\tK : REAL;(* Standard = 1 *)\n\tO : REAL;(* Standard = 0 *)\n\tIN1_MIN : REAL;(* Standard = 0 *)\n\tIN1_MAX : REAL;(* Standard = 1000 *)\n\tIN2_MIN : REAL;(* Standard = 0 *)\n\tIN2_MAX : REAL;(* Standard = 1000 *)\n\tIN3_MIN : REAL;(* Standard = 0 *)\n\tIN3_MAX : REAL;(* Standard = 1000 *)\n\tIN4_MIN : REAL;(* Standard = 0 *)\n\tIN4_MAX : REAL;(* Standard = 1000 *)\nEND_VAR\n\nSCALE_B4 := (((in1_max - in1_min) * _BYTE_TO_REAL(in1) + (in2_max - in2_min) * _BYTE_TO_REAL(in2) + (in3_max - in3_min) * _BYTE_TO_REAL(in3) + (in4_max - in4_min) * _BYTE_TO_REAL(in4)) * 0.003921569 + in1_min + in2_min + in3_min + in4_min) * K + O;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BYTE",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BYTE",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BYTE",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "BYTE",
          "description": "输入参数IN4"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "O",
          "type": "REAL",
          "description": "输入参数O"
        },
        {
          "name": "IN1_MIN",
          "type": "REAL",
          "description": "输入参数IN1_MIN"
        },
        {
          "name": "IN1_MAX",
          "type": "REAL",
          "description": "输入参数IN1_MAX"
        },
        {
          "name": "IN2_MIN",
          "type": "REAL",
          "description": "输入参数IN2_MIN"
        },
        {
          "name": "IN2_MAX",
          "type": "REAL",
          "description": "输入参数IN2_MAX"
        },
        {
          "name": "IN3_MIN",
          "type": "REAL",
          "description": "输入参数IN3_MIN"
        },
        {
          "name": "IN3_MAX",
          "type": "REAL",
          "description": "输入参数IN3_MAX"
        },
        {
          "name": "IN4_MIN",
          "type": "REAL",
          "description": "输入参数IN4_MIN"
        },
        {
          "name": "IN4_MAX",
          "type": "REAL",
          "description": "输入参数IN4_MAX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成将输入信号IN的脉冲延长PT秒的st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tPT : TIME;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tstart : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统定时器 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF RST THEN\n\tQ := FALSE;\nELSIF IN THEN\n\tQ := TRUE;\n\tstart := tx;\nELSIF tx - start >= PT THEN\n\tQ := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用st语言怎么实现一个基于系统时间的秒计数器",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tSECONDS : UDINT;\n\tCYCLES : UDINT;\nEND_VAR\n\nVAR\n\ttx : UDINT;\n\tlast : UDINT;\n\tedge : BOOL;\n\tinit : BOOL;\n\tms : UDINT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx:= T_PLC_MS.T_PLC_MS;\n\n(* 确保第一个周期正常运行 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\tms := UDINT#0;\nEND_IF;\nIF RST THEN\n\tSECONDS := UDINT#0;\n\tCYCLES := UDINT#0;\n\tlast := tx;\n\tms := UDINT#0;\nELSIF IN THEN\n\t(* 累加当前毫秒数 *)\n\tms := (tx - last) + ms;\n\tIF ms >= UDINT#1000 THEN\n\t\tseconds := seconds + UDINT#1;\n\t\tms := ms - UDINT#1000;\n\tEND_IF;\n\tcycles := cycles + BOOL_TO_UDINT(NOT edge);\nEND_IF;\nlast := tx;\nedge := in;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过ST语言根据输入的属性字节，生成一个新的阴影属性字节",
      "input": "",
      "output": "VAR_INPUT\n\tIby_ATTR : BYTE;\nEND_VAR\n\nTN_SC_SHADOW_ATTR := ((Iby_ATTR AND BYTE#2#11110000) OR BYTE#2#00001000);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iby_ATTR",
          "type": "BYTE",
          "description": "输入参数Iby_ATTR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "遍历数组中的元素，并找出其中的最大值。用ST语言编程",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_MAX : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\nFOR i := 1 TO stop DO\n\tIF pt[i] > array_max THEN array_max := pt[i]; END_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_MAX",
          "type": "REAL",
          "description": "输出参数ARRAY_MAX"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据系统定时器和给定的速度来计算时间差",
      "input": "",
      "output": "VAR_INPUT\n\tSTART : UDINT;\n\tSPEED : REAL := 1.0;\nEND_VAR\n\nVAR_OUTPUT\n\tDTS : UDINT;\nEND_VAR\n\nVAR\n\ttc : UDINT;\n\tinit : BOOL;\n\tlast : UDINT;\n\ttx : UDINT;\n\ttd : UDINT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* read system timer *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\ntc := _REAL_TO_UDINT(UDINT_TO_REAL(tx - last) * speed);\n\nIF NOT init THEN\n\tinit := TRUE;\n\tDTS := Start;\ntc := UDINT#0;\n\tlast := tx;\nELSIF SPEED = 0.0 THEN\n\tDTS := DTS + UDINT#1;\nELSIF tc >= UDINT#1000 THEN\n\ttd := (tc / UDINT#1000) * UDINT#1000;\n\tDTS := DTS + td;\n\tlast := last + _REAL_TO_UDINT(UDINT_TO_REAL(td) / speed);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "START",
          "type": "UDINT",
          "description": "输入参数START"
        },
        {
          "name": "SPEED",
          "type": "REAL",
          "description": "输入参数SPEED"
        }
      ],
      "outputs": [
        {
          "name": "DTS",
          "type": "UDINT",
          "description": "输出参数DTS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "输入一段字符串，查找第一个数字的起始位置，用ST语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFIND_NUM : INT;\nEND_VAR\n\nVAR\n\tX : INT;\n\tstop : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIND_NUM\nIEC_LANGUAGE: ST\n*)\nstop := LEN(str);\nFOR pos := MAX(pos,1) TO stop DO;\n\tX := GET_CHAR(str,pos);\n\tIF (X > 47 AND X < 58) OR X = 46 THEN\n\t\tfind_num := pos;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nfind_num := 0;",
      "description": "字符串数字字符查找函数，定位第一个数字或小数点的位置。支持数字0-9和小数点的识别，常用于数值提取、字符串解析、数据转换等应用。在工业应用中可用于解析测量数据、配置参数等包含数值的文本信息。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "待搜索的字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "搜索起始位置"
        }
      ],
      "outputs": [
        {
          "name": "FIND_NUM",
          "type": "INT",
          "description": "第一个数字字符位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: GET_CHAR函数",
      "iec_standard": "IEC 61131-3 字符识别，数字字符检测",
      "tags": [
        "数字查找",
        "数值提取",
        "字符串解析",
        "数据转换",
        "测量数据",
        "配置解析"
      ]
    },
    {
      "instruction": "怎么计算数组中所有元素的和？给出代码",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_SUM : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\n\narray_sum := pt[1];\nFOR i := 2 TO stop DO\n\tarray_sum := array_sum + pt[i];\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_SUM",
          "type": "REAL",
          "description": "输出参数ARRAY_SUM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入四舍五入为整数并返回对应的整数值怎么用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF REAL_TO_DINT(0.5) = DINT#1 THEN\n\t_REAL_TO_DINT := REAL_TO_DINT(x);\n\tRETURN;\nEND_IF;\n\nIF X > 0.0 THEN\n\t_REAL_TO_DINT := REAL_TO_DINT(x+0.5);\nELSIF X < 0.0 THEN\n\t_REAL_TO_DINT := REAL_TO_DINT(x-0.5);\nELSE\n\t_REAL_TO_DINT := DINT#0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入值计算一个缩放值？在PLC上",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tK : REAL;\n\tO : REAL;\n\tMX : REAL;\n\tMN : REAL;\nEND_VAR\n\nSCALE := LIMIT(MN, X * K + O, MX);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "O",
          "type": "REAL",
          "description": "输入参数O"
        },
        {
          "name": "MX",
          "type": "REAL",
          "description": "输入参数MX"
        },
        {
          "name": "MN",
          "type": "REAL",
          "description": "输入参数MN"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用于生成字节型斜坡信号的功能块怎么用ST代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tDIR : BOOL;\n\tE : BOOL := TRUE;\n\tTR : TIME;\nEND_VAR\n\nVAR_IN_OUT\n\tRMP : BYTE;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttx : TIME;\n\ttl : TIME;\n\ttn : TIME;\n\tinit : BOOL;\n\tlast_dir : BOOL;\n\tstart : BYTE;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF E AND init AND (dir = last_dir) AND (RMP <> SEL(DIR, BYTE#0, BYTE#255)) AND TR = tn THEN\n\tRMP := FRMP_B(start, DIR, tx - tl, TR);\nELSE\n\tinit := TRUE;\n\ttl := tx;\n\ttn := tr;\n\tstart := RMP;\nEND_IF;\nlast_dir := dir;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DIR",
          "type": "BOOL",
          "description": "输入参数DIR"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "TR",
          "type": "TIME",
          "description": "输入参数TR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过使用一个模块来计算并输出一个平滑过渡值",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tF : BOOL;\n\tTF : TIME;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\trmx : RMP_W;\nEND_VAR\n\nrmx(rst := rst AND NOT F, set := rst AND F, pt := TF, up := F);\nY := (IN2 - IN1) / 65535.0 * _WORD_TO_REAL(rmx.out) + IN1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "F",
          "type": "BOOL",
          "description": "频率参数"
        },
        {
          "name": "TF",
          "type": "TIME",
          "description": "输入参数TF"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言实现线性混合",
      "input": "",
      "output": "VAR_INPUT\n\tA : REAL;\n\tB : REAL;\n\tM : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MIX\nIEC_LANGUAGE: ST\n*)\nMIX := (1.0 - M) * A + M * B;",
      "description": "MIX功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "REAL",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "REAL",
          "description": "输入值B"
        },
        {
          "name": "M",
          "type": "REAL",
          "description": "输入参数M"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何检测输入值R0至R3是否发生变化",
      "input": "",
      "output": "VAR_INPUT\n\tR0 : REAL;\n\tA0 : oscat_STRING10;\n\tS0 : REAL;\n\tR1 : REAL;\n\tA1 : oscat_STRING10;\n\tS1 : REAL;\n\tR2 : REAL;\n\tA2 : oscat_STRING10;\n\tS2 : REAL;\n\tR3 : REAL;\n\tA3 : oscat_STRING10;\n\tS3 : REAL;\n\tDT_IN : UDINT;\nEND_VAR\n\nVAR_IN_OUT\n\tESR_OUT : oscat_ESR_3;\nEND_VAR\n\nVAR_OUTPUT\n\tESR_FLAG : BOOL;\nEND_VAR\n\nVAR\n\tx0 : REAL;\n\tx1 : REAL;\n\tx2 : REAL;\n\tx3 : REAL;\n\ttx : TIME;\n\tcnt : INT;\n\tT_PLC_MS : T_PLC_MS;\n\tREAL_TO_DW : REAL_TO_DW;\n\ttmp : DWORD;\nEND_VAR\n\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nESR_FLAG := FALSE;\nesr_out[3].typ := BYTE#0;\nesr_out[2].typ := BYTE#0;\nesr_out[1].typ := BYTE#0;\nesr_out[0].typ := BYTE#0;\ncnt := 0;\n\n(* check if inputs have changed and fill buffer *)\nIF differ(R0, X0, S0) THEN\n\tREAL_TO_DW(X := R0);\n\ttmp := REAL_TO_DW.REAL_TO_DW;\n\n\tesr_out[cnt].typ := BYTE#20;\n\tesr_out[cnt].adress := A0;\n\tesr_out[cnt].DS := DT_IN;\n\tesr_out[cnt].TS := TX;\n\tesr_out[cnt].data[0] := Byte_of_Dword(tmp, BYTE#0);\n\tesr_out[cnt].data[1] := Byte_of_Dword(tmp, BYTE#1);\n\tesr_out[cnt].data[2] := Byte_of_Dword(tmp, BYTE#2);\n\tesr_out[cnt].data[3] := Byte_of_Dword(tmp, BYTE#3);\n\tX0 := R0;\n\tcnt := cnt + 1;\n\tesr_flag := TRUE;\nEND_IF;\nIF differ(R1, X1, S1) THEN\n\tREAL_TO_DW(X := R1);\n\ttmp := REAL_TO_DW.REAL_TO_DW;\n\n\tesr_out[cnt].typ := BYTE#20;\n\tesr_out[cnt].adress := A1;\n\tesr_out[cnt].DS := DT_IN;\n\tesr_out[cnt].TS := TX;\n\tesr_out[cnt].data[0] := Byte_of_Dword(tmp, BYTE#0);\n\tesr_out[cnt].data[1] := Byte_of_Dword(tmp, BYTE#1);\n\tesr_out[cnt].data[2] := Byte_of_Dword(tmp, BYTE#2);\n\tesr_out[cnt].data[3] := Byte_of_Dword(tmp, BYTE#3);\n\tX1 := R1;\n\tcnt := cnt + 1;\n\tesr_flag := TRUE;\nEND_IF;\nIF differ(R2, X2, S2) THEN\n\tREAL_TO_DW(X := R2);\n\ttmp := REAL_TO_DW.REAL_TO_DW;\n\n\tesr_out[cnt].typ := BYTE#20;\n\tesr_out[cnt].adress := A2;\n\tesr_out[cnt].DS := DT_IN;\n\tesr_out[cnt].TS := TX;\n\tesr_out[cnt].data[0] := Byte_of_Dword(tmp, BYTE#0);\n\tesr_out[cnt].data[1] := Byte_of_Dword(tmp, BYTE#1);\n\tesr_out[cnt].data[2] := Byte_of_Dword(tmp, BYTE#2);\n\tesr_out[cnt].data[3] := Byte_of_Dword(tmp, BYTE#3);\n\tX2 := R2;\n\tcnt := cnt + 1;\n\tesr_flag := TRUE;\nEND_IF;\nIF differ(R3, X3, S3) THEN\n\tREAL_TO_DW(X := R3);\n\ttmp := REAL_TO_DW.REAL_TO_DW;\n\n\tesr_out[cnt].typ := BYTE#20;\n\tesr_out[cnt].adress := A3;\n\tesr_out[cnt].DS := DT_IN;\n\tesr_out[cnt].TS := TX;\n\tesr_out[cnt].data[0] := Byte_of_Dword(tmp, BYTE#0);\n\tesr_out[cnt].data[1] := Byte_of_Dword(tmp, BYTE#1);\n\tesr_out[cnt].data[2] := Byte_of_Dword(tmp, BYTE#2);\n\tesr_out[cnt].data[3] := Byte_of_Dword(tmp, BYTE#3);\n\tX3 := R3;\n\tcnt := cnt + 1;\n\tesr_flag := TRUE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "R0",
          "type": "REAL",
          "description": "输入参数R0"
        },
        {
          "name": "A0",
          "type": "oscat_STRING10",
          "description": "输入参数A0"
        },
        {
          "name": "S0",
          "type": "REAL",
          "description": "输入参数S0"
        },
        {
          "name": "R1",
          "type": "REAL",
          "description": "输入参数R1"
        },
        {
          "name": "A1",
          "type": "oscat_STRING10",
          "description": "输入参数A1"
        },
        {
          "name": "S1",
          "type": "REAL",
          "description": "输入参数S1"
        },
        {
          "name": "R2",
          "type": "REAL",
          "description": "输入参数R2"
        },
        {
          "name": "A2",
          "type": "oscat_STRING10",
          "description": "输入参数A2"
        },
        {
          "name": "S2",
          "type": "REAL",
          "description": "输入参数S2"
        },
        {
          "name": "R3",
          "type": "REAL",
          "description": "输入参数R3"
        },
        {
          "name": "A3",
          "type": "oscat_STRING10",
          "description": "输入参数A3"
        },
        {
          "name": "S3",
          "type": "REAL",
          "description": "输入参数S3"
        },
        {
          "name": "DT_IN",
          "type": "UDINT",
          "description": "输入参数DT_IN"
        }
      ],
      "outputs": [
        {
          "name": "ESR_FLAG",
          "type": "BOOL",
          "description": "输出参数ESR_FLAG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个带有时间限制和方向控制的斜坡计算器",
      "input": "",
      "output": "VAR_INPUT\n\tSTART : BYTE;\n\tDIR : BOOL;\n\tTD : TIME;\n\tTR : TIME;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FRMP_B\nIEC_LANGUAGE: ST\n*)\nIF TD < TR THEN\n\tFRMP_B := MIN(UDINT_TO_BYTE(DWORD_TO_UDINT(SHL(TIME_TO_DWORD(TD), 8)) / TIME_TO_UDINT(TR)), SEL(DIR, START, USINT_TO_BYTE(USINT#255 - BYTE_TO_USINT(START))));\n\tIF DIR THEN\n\t\tFRMP_B := USINT_TO_BYTE(BYTE_TO_USINT(START) + BYTE_TO_USINT(FRMP_B));\n\tELSE\n\t\tFRMP_B := USINT_TO_BYTE(BYTE_TO_USINT(START) - BYTE_TO_USINT(FRMP_B));\n\tEND_IF;\nELSE\n\tFRMP_B := SEL(DIR, BYTE#0, BYTE#255);\nEND_IF;",
      "description": "字节类型斜坡函数发生器，支持上升/下降斜坡和时间比例控制。根据方向参数和斜坡时间计算当前输出值，实现平滑的数值过渡。适用于电机软启动、阀门渐进控制、亮度调节等需要平滑过渡的工业控制应用。",
      "inputs": [
        {
          "name": "START",
          "type": "BYTE",
          "description": "起始值"
        },
        {
          "name": "DIR",
          "type": "BOOL",
          "description": "方向控制(0=下降,1=上升)"
        },
        {
          "name": "TD",
          "type": "TIME",
          "description": "当前经过时间"
        },
        {
          "name": "TR",
          "type": "TIME",
          "description": "斜坡总时间"
        }
      ],
      "outputs": [
        {
          "name": "FRMP_B",
          "type": "BYTE",
          "description": "斜坡输出值"
        }
      ],
      "library_dependency": "OSCAT库: SEL选择函数, SHL移位函数",
      "iec_standard": "IEC 61131-3 斜坡函数算法，时间比例控制",
      "tags": [
        "斜坡函数",
        "软启动",
        "平滑过渡",
        "时间控制",
        "电机控制",
        "渐进控制"
      ]
    },
    {
      "instruction": "如何用st语言实现多项式插值算法",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tXY : oscat_Polynom_XY;\nEND_VAR\n\nVAR\n\tXY2 : oscat_Polynom_XY;\nEND_VAR\n\nVAR_INPUT\n\tPTS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tPOLYNOM_INT : REAL;\nEND_VAR\n\nVAR\n\tI : INT;\n\tJ : INT;\n\tJ_1 : INT;\n\tJ_I : INT;\n\tINIT : BOOL;\nEND_VAR\n\n(* 确保 n 在数组大小内 *)\npts := MIN_INT(pts, 5);\n\nIF (init = FALSE) THEN\n\tinit := TRUE;\n\n\t(* 复制数据 *)\n\tFOR i := 1 TO pts DO\n\t\tFOR j := 0 TO 1 DO\n\t\t\tXY2[i][j] := XY[i][j];\n\t\tEND_FOR;\n\tEND_FOR;\n\n\tFOR i := 1 TO pts DO\n\t\tJ := pts;\n\t\tWHILE (J >= i+1) DO\n\t\t\tj_i := j-i;\n\t\t\tj_1 := J-1;\n\t\t\tXY2[j][1] := (XY2[j][1] - XY2[j_1][1]) / (XY2[j][0] - XY2[j_i][0]);\n\t\t\tj := j - 1;\n\t\tEND_WHILE;\n\tEND_FOR;\nEND_IF;\n\n(* 这部分是实际的计算 *)\ni := pts;\nPOLYNOM_INT := 0.0;\n\nWHILE (i >= 1) DO\n\tPOLYNOM_INT := POLYNOM_INT * (X - XY2[i][0]) + XY2[i][1];\n\ti := i - 1;\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "XY",
          "type": "oscat_Polynom_XY",
          "description": "输入参数XY"
        }
      ],
      "outputs": [
        {
          "name": "POLYNOM_INT",
          "type": "REAL",
          "description": "多项式插值结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码根据温度和相对湿度计算空气的焓值",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tRH : REAL;\nEND_VAR\n\nAir_enthalpy := 1.00482 * T + (1.86 * T + 2500.78) * dew_con(RH, T);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "RH",
          "type": "REAL",
          "description": "输入参数RH"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "输入一段字符串，查找第一个控制字符的起始位置，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFIND_CTRL : INT;\nEND_VAR\n\nVAR\n\tx : INT;\n\tstop : INT;\n\ti : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIND_CTRL\nIEC_LANGUAGE: ST\n*)\nstop := LEN(str);\nFOR i := MAX(pos,1) TO stop DO;\n\tx := GET_CHAR(str,i);\n\tIF (x < 32) OR (x = 127) THEN\n\t\tFIND_CTRL := i;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nFIND_CTRL := 0;",
      "description": "字符串控制字符查找函数，定位第一个控制字符的位置。控制字符包括ASCII码0-31的控制字符和删除字符（127）。适用于协议解析、文本清理、特殊字符检测等应用场景，有助于识别和处理不可打印字符。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "待搜索的字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "搜索起始位置"
        }
      ],
      "outputs": [
        {
          "name": "FIND_CTRL",
          "type": "INT",
          "description": "第一个控制字符位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: GET_CHAR函数",
      "iec_standard": "IEC 61131-3 字符处理，控制字符识别",
      "tags": [
        "控制字符",
        "字符检测",
        "协议解析",
        "文本清理",
        "特殊字符",
        "ASCII控制"
      ]
    },
    {
      "instruction": "将摄氏温度转换为开尔文温度怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tCELSIUS : REAL;\nEND_VAR\n\nC_to_K := Celsius - 273.15;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CELSIUS",
          "type": "REAL",
          "description": "输入参数CELSIUS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言检查字符串是否仅包含十六进制字符",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_HEX : BOOL;\nEND_VAR\n\nVAR\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_HEX\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nIF NOT ISC_HEX(INT_TO_BYTE(GET_CHAR(str,pos))) THEN\nIS_HEX := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_HEX := I > 0;",
      "description": "IS_HEX检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_HEX",
          "type": "BOOL",
          "description": "输出参数IS_HEX"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "如何根据输入的字符串解析并转换其包含的时间单位",
      "input": "",
      "output": "VAR_INPUT\n\t_TIME : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tSTRING_TO_TIME : TIME;\nEND_VAR\n\nVAR\n\tpos1 : INT;\n\tpos2 : INT;\n\ttmp : oscat_STRING20;\n\ttmp2 : oscat_STRING20;\n\tUPPERCASE : UPPERCASE;\n\tFINDB_NONUM : FINDB_NONUM;\n\tFINDB_NUM : FINDB_NUM;\n\tfaktor : UDINT;\n\tIS_ALNUM : IS_ALNUM;\nEND_VAR\n\nUPPERCASE(str := _TIME);\ntmp := UPPERCASE.UPPERCASE;\n\nSTRING_TO_TIME := T#0s;\n\nWHILE (TRUE) DO\n\tFAKTOR := UDINT#0;\n\n\tFINDB_NONUM(str := tmp);\n\tpos2 := FINDB_NONUM.findB_nonum;\n\n\tFINDB_NUM(str := tmp);\n\tpos1 := FINDB_NUM.findB_num;\n\n\t(* 找到标识符 *)\n\tIF POS1 > 0 AND (POS2 > POS1) THEN\n\t\ttmp2 := RIGHT(tmp, POS2 - POS1);\n\t\ttmp := LEFT(tmp, pos1);\n\n\t\tIF EQ_STRING(tmp2, 'MS') THEN\n\t\t\tFAKTOR := UDINT#1;\n\t\tELSIF EQ_STRING(tmp2, 'S') THEN\n\t\t\tFAKTOR := UDINT#1000;\n\t\tELSIF EQ_STRING(tmp2, 'M') THEN\n\t\t\tFAKTOR := UDINT#60000;\n\t\tELSIF EQ_STRING(tmp2, 'H') THEN\n\t\t\tFAKTOR := UDINT#3600000;\n\t\tELSIF EQ_STRING(tmp2, 'D') THEN\n\t\t\tFAKTOR := UDINT#864000000;\n\t\tEND_IF;\n\tELSE\n\t\tEXIT;\n\tEND_IF;\n\n\tIF FAKTOR > UDINT#0 THEN\n\n\t\tFINDB_NONUM(str := tmp);\n\t\tpos1 := FINDB_NONUM.findB_nonum;\n\t\tIF pos1 > 0 THEN\n\t\t\ttmp2 := RIGHT(tmp, LEN(tmp) - pos1);\n\t\t\ttmp := LEFT(tmp, pos1);\n\t\t\tIS_ALNUM(str := tmp2);\n\t\t\tIF IS_ALNUM.IS_ALNUM THEN\n\t\t\t\tSTRING_TO_TIME := STRING_TO_TIME + UDINT_TO_TIME(faktor * STRING_TO_UDINT(tmp2));\n\t\t\tEND_IF;\n\t\tELSE\n\t\t\tEXIT;\n\t\tEND_IF;\n\tEND_IF;\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "_TIME",
          "type": "STRING",
          "description": "输入参数_TIME"
        }
      ],
      "outputs": [
        {
          "name": "STRING_TO_TIME",
          "type": "TIME",
          "description": "输出参数STRING_TO_TIME"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在ST语言中如何进行逻辑或运算",
      "input": "",
      "output": "VAR_INPUT\n\tX : BOOL;\nEND_VAR\n\n(* 设置参数 *)\nSETUP_EXTENDED_ASCII := X OR TRUE; (* 为了使 VAR_INPUT 被使用，添加虚拟操作 *)",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "BOOL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言怎么控制遮阳板的手动与自动位置调节",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tAI : BYTE;\n\tIN : BOOL;\n\tPX : BYTE;\n\tAX : BYTE;\n\tOVERRIDE_MANUAL : BOOL;\n\tRESTORE_POSITION : BOOL;\n\tRESTORE_TIME : TIME := T#60s;\nEND_VAR\n\nVAR_OUTPUT\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\n\tPO : BYTE;\n\tAO : BYTE;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttx : TIME;\n\tps : BYTE;\n\tas : BYTE;\n\tlast : TIME;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 检查输入 *)\nIF IN THEN\n\tIF override_manual OR (UP AND DN) THEN\n\t\tstatus := 178;\n\tEND_IF;\nEND_IF;\n\n(* 状态机 *)\nCASE STATUS OF\n\t0: (* 上电状态 *)\n\t\tstatus := S_IN;\n\n\t178: (* 强制使用PX和AX的值 *)\n\t\tPO := PX;\n\t\tAO := AX;\n\t\tQU := TRUE;\n\t\tQD := TRUE;\n\t\t(* 检查强制位置结束 *)\n\t\tIF NOT in THEN\n\t\t\tSTATUS := SEL(RESTORE_POSITION, S_IN, 179);\n\t\t\tlast := tx;\n\t\tEND_IF;\n\n\t179: (* 恢复先前位置 *)\n\t\tPO := ps;\n\t\tAO := as;\n\t\tIF ((PO = PI) AND (AO = AI)) OR tx - last >= RESTORE_TIME THEN\n\t\t\tstatus := S_IN;\n\t\tEND_IF;\n\nELSE\n\t(* 无操作，传递输入到输出 *)\n\t\tPO := PI;\n\t\tps := PI;\n\t\tAO := AI;\n\t\tas := AI;\n\t\tSTATUS := S_IN;\n\t\tQU := UP;\n\t\tQD := DN;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "AI",
          "type": "BYTE",
          "description": "输入参数AI"
        },
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PX",
          "type": "BYTE",
          "description": "输入参数PX"
        },
        {
          "name": "AX",
          "type": "BYTE",
          "description": "输入参数AX"
        },
        {
          "name": "OVERRIDE_MANUAL",
          "type": "BOOL",
          "description": "输入参数OVERRIDE_MANUAL"
        },
        {
          "name": "RESTORE_POSITION",
          "type": "BOOL",
          "description": "输入参数RESTORE_POSITION"
        },
        {
          "name": "RESTORE_TIME",
          "type": "TIME",
          "description": "输入参数RESTORE_TIME"
        }
      ],
      "outputs": [
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输出参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输出参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        },
        {
          "name": "PO",
          "type": "BYTE",
          "description": "输出参数PO"
        },
        {
          "name": "AO",
          "type": "BYTE",
          "description": "输出参数AO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入的值和阈值计算死区带",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tL : REAL;\nEND_VAR\n\nIF X > L THEN\n\tDEAD_BAND := X - L;\nELSIF X < -L THEN\n\tDEAD_BAND := X + L;\nELSE\n\tDEAD_BAND := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "L",
          "type": "REAL",
          "description": "长度参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在PLC上生成一个字宽度的斜坡信号",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tPT : TIME;\n\tE : BOOL := TRUE;\n\tUP : BOOL := TRUE;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : WORD;\n\tBUSY : BOOL;\n\tHIGH : BOOL;\n\tLOW : BOOL;\nEND_VAR\n\nVAR\n\trmp : _RMP_W;\nEND_VAR\n\n(* 生成斜坡 *)\nrmp(dir := UP, E := E, TR := PT, rmp := out);\nout := rmp.RMP;\n\n(* 设置或复位操作 *)\nIF RST THEN\n\tout := WORD#0;\nELSIF SET THEN\n\tout := WORD#65535;\nEND_IF;\n\n(* 检查输出是否稳定并复位或设置忙标志 *)\nlow := out = WORD#0;\nhigh := out = WORD#65535;\nbusy := NOT (low OR high) AND E;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "WORD",
          "description": "输出值"
        },
        {
          "name": "BUSY",
          "type": "BOOL",
          "description": "忙碌状态"
        },
        {
          "name": "HIGH",
          "type": "BOOL",
          "description": "输出参数HIGH"
        },
        {
          "name": "LOW",
          "type": "BOOL",
          "description": "输出参数LOW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何在plc上实现双曲正切函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF X > 20.0 THEN\n\tTANH := 1.0;\nELSIF X < -20.0 THEN\n\tTANH := -1.0;\nELSE\n\tTANH := 1.0 - 2.0 / (EXP(2.0 * x) + 1.0);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算复数的倒数",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCINV : oscat_complex;\nEND_VAR\n\nVAR\n\ttemp : REAL;\nEND_VAR\n\ntemp := X.re * X.re + X.im * X.im;\nIF temp = 0.0 THEN\n\tCINV.re := 0.0;\n\tCINV.im := 0.0;\n\tRETURN;\nEND_IF;\nCINV.re := X.re / temp;\nCINV.im := -X.im / temp;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CINV",
          "type": "oscat_complex",
          "description": "输出参数CINV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在一个字符串中查找并替换所有出现的指定子字符串的ST语言代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tSRC : STRING;\n\tREP : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tREPLACE_ALL : STRING;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tlp : INT;\n\tlx : INT;\n\tFINDP : FINDP;\n\tst_tmp : oscat_STRING250;\nEND_VAR\n\nREPLACE_ALL := str;\nlx := LEN(src);\nlp := LEN(rep);\n\nFINDP.str := REPLACE_ALL;\nFINDP.src := src;\nFINDP.pos := 1;\nFINDP();\npos := FINDP.FINDP;\n\nWHILE pos > 0 DO\n\tst_tmp := REPLACE_ALL;\n\tREPLACE_ALL := REPLACE(st_tmp,rep,lx,pos);\n\n\tFINDP.str := REPLACE_ALL;\n\tFINDP.src := src;\n\tFINDP.pos := pos + lp;\n\tFINDP();\n\tpos := FINDP.FINDP;\n\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "SRC",
          "type": "STRING",
          "description": "输入参数SRC"
        },
        {
          "name": "REP",
          "type": "STRING",
          "description": "输入参数REP"
        }
      ],
      "outputs": [
        {
          "name": "REPLACE_ALL",
          "type": "STRING",
          "description": "输出参数REPLACE_ALL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "PLC怎么根据给定的坐标，将指定的属性写入到屏幕的相应位置",
      "input": "",
      "output": "VAR\n\tin_Offset : INT;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y : INT;\n\tIin_X : INT;\n\tIby_ATTR : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY_ERROR(Iin_X,Iin_Y) THEN RETURN; END_IF;\n\nin_Offset := (Iin_Y * 80) + Iin_X;\nXus_TN_SCREEN.bya_COLOR[in_Offset] := Iby_ATTR; (* 写入属性 *);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        },
        {
          "name": "Iby_ATTR",
          "type": "BYTE",
          "description": "输入参数Iby_ATTR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算并返回字符串中包含子字符串的次数",
      "input": "",
      "output": "VAR_INPUT\n\tSEARCH : STRING;\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tCOUNT_SUBSTRING : INT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tsize : INT;\nEND_VAR\n\nCOUNT_SUBSTRING := 0;\nsize := LEN(SEARCH);\nREPEAT\n\tpos := FIND(STR,SEARCH);\n\tIF pos > 0 THEN\n\t\tSTR := REPLACE(STR, '', size,pos);\n\t\tCOUNT_SUBSTRING := COUNT_SUBSTRING + 1;\n\tEND_IF;\nUNTIL pos = 0\nEND_REPEAT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEARCH",
          "type": "STRING",
          "description": "输入参数SEARCH"
        },
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "COUNT_SUBSTRING",
          "type": "INT",
          "description": "输出参数COUNT_SUBSTRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现控制流程中的阀门",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tREQ : BOOL;\n\tENQ : BOOL;\n\tRST : BOOL := FALSE;\n\tT_AUTO : TIME := T#1h;\n\tT_DELAY : TIME := T#23h;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\ttimer : TP_1D;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FLOW_CONTROL\nIEC_LANGUAGE: ST\n*)\nSTATUS := BYTE#100;\nIF RST THEN\n\tQ := FALSE;\n\ttimer(rst := TRUE);\n\ttimer.RST := FALSE;\n\tSTATUS := BYTE#103;\nELSIF ENQ THEN\n\tIF IN THEN\n\t\tstatus := BYTE#101;\n\tEND_IF;\n\tIF REQ THEN\n\t\t(* 定时器在 TP 高电平后会生成一个定时脉冲 *)\n\t\ttimer.PT1 := T_AUTO;\n\t\ttimer.PTD := T_DELAY;\n\t\ttimer.IN := TRUE;\n\t\tSTATUS := BYTE#102;\n\tEND_IF;\nEND_IF;\n\n(* 设置输出并运行定时器 *)\ntimer();\ntimer.IN := FALSE;\nQ := (IN AND ENQ) OR timer.Q;",
      "description": "工业流程控制阀门功能块，实现阀门的自动控制和安全保护。支持手动/自动模式切换、定时控制、状态指示等功能。包含复位、请求和使能输入，提供阀门输出和状态反馈。适用于液体/气体流量控制、过程自动化、安全联锁系统等工业应用。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "阀门输入信号"
        },
        {
          "name": "REQ",
          "type": "BOOL",
          "description": "请求信号，触发定时控制"
        },
        {
          "name": "ENQ",
          "type": "BOOL",
          "description": "使能信号，允许阀门操作"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，关闭阀门并重置定时器"
        },
        {
          "name": "T_AUTO",
          "type": "TIME",
          "description": "自动模式时间设定"
        },
        {
          "name": "T_DELAY",
          "type": "TIME",
          "description": "延迟时间设定"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "阀门输出控制信号"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "阀门状态指示"
        }
      ],
      "library_dependency": "OSCAT库: TP_1D定时器功能块",
      "iec_standard": "IEC 61131-3 工业控制逻辑，阀门控制算法",
      "tags": [
        "阀门控制",
        "流程控制",
        "定时控制",
        "安全联锁",
        "过程自动化",
        "流量调节"
      ]
    },
    {
      "instruction": "如何根据外部温度、内部温度、偏移量等参数来调整加热值",
      "input": "",
      "output": "VAR_INPUT\n\tT_EXT : REAL;\n\tT_INT : REAL;\n\tOFFSET : REAL;\n\tT_REQ : REAL;\n\tTY_MAX : REAL := REAL#70.0;\n\tTY_MIN : REAL := REAL#25.0;\n\tTY_CONFIG : REAL := REAL#70.0;\n\tT_INT_CONFIG : REAL := REAL#20.0;\n\tT_EXT_CONFIG : REAL := REAL#-15.0;\n\tT_DIFF : REAL := REAL#10.0;\n\tC : REAL := REAL#1.33;\n\tH : REAL := REAL#3.0;\nEND_VAR\n\nVAR_OUTPUT\n\tTY : REAL;\n\tHEAT : BOOL;\nEND_VAR\n\nVAR\n\ttr : REAL;\n\ttx : REAL;\nEND_VAR\n\ntr := T_INT + OFFSET;\ntx := (tr - T_EXT) / (T_INT_CONFIG - T_EXT_CONFIG);\n\nIF T_EXT + H > tr THEN\n\tTY := 0.0;\nELSE\n\tTY := LIMIT(TY_MIN, tr + T_DIFF * 0.5 * tx + (TY_CONFIG - T_DIFF * 0.5 - tr) * EXPT(tx, 1.0 / C), TY_MAX);\nEND_IF;\n\nTY := MAX(TY, T_REQ);\nHEAT := TY > 0.0;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T_EXT",
          "type": "REAL",
          "description": "输入参数T_EXT"
        },
        {
          "name": "T_INT",
          "type": "REAL",
          "description": "输入参数T_INT"
        },
        {
          "name": "OFFSET",
          "type": "REAL",
          "description": "输入参数OFFSET"
        },
        {
          "name": "T_REQ",
          "type": "REAL",
          "description": "输入参数T_REQ"
        },
        {
          "name": "TY_MAX",
          "type": "REAL",
          "description": "输入参数TY_MAX"
        },
        {
          "name": "TY_MIN",
          "type": "REAL",
          "description": "输入参数TY_MIN"
        },
        {
          "name": "TY_CONFIG",
          "type": "REAL",
          "description": "输入参数TY_CONFIG"
        },
        {
          "name": "T_INT_CONFIG",
          "type": "REAL",
          "description": "输入参数T_INT_CONFIG"
        },
        {
          "name": "T_EXT_CONFIG",
          "type": "REAL",
          "description": "输入参数T_EXT_CONFIG"
        },
        {
          "name": "T_DIFF",
          "type": "REAL",
          "description": "输入参数T_DIFF"
        },
        {
          "name": "C",
          "type": "REAL",
          "description": "字符参数"
        },
        {
          "name": "H",
          "type": "REAL",
          "description": "输入参数H"
        }
      ],
      "outputs": [
        {
          "name": "TY",
          "type": "REAL",
          "description": "输出参数TY"
        },
        {
          "name": "HEAT",
          "type": "BOOL",
          "description": "输出参数HEAT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个实数向下舍入到小数点后n位的st代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tN : INT;\nEND_VAR\n\nVAR\n\tX : REAL;\nEND_VAR\n\nIF N < 4 THEN\n\tIF N < 2 THEN\n\t\tIF N = 0 THEN X := 1.0; ELSE X := 10.0; END_IF;\n\tELSE\n\t\tIF N = 2 THEN X := 100.0; ELSE X := 1000.0; END_IF;\n\tEND_IF;\nELSE\n\tIF N < 6 THEN\n\t\tIF N = 4 THEN X := 10000.0; ELSE X := 100000.0; END_IF;\n\tELSE\n\t\tIF N = 6 THEN X := 1000000.0; ELSE X := 10000000.0; END_IF;\n\tEND_IF;\nEND_IF;\n\nROUND := DINT_TO_REAL(_REAL_TO_DINT(in * X)) / X;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言将数组中的每个元素转换为大写字母",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_BUFFER_UPPERCASE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tsize2 : INT;\nEND_VAR\n\npos := 0;\nsize2 := UINT_TO_INT(SIZE);\n\nWHILE pos < size2 DO\n\tPT[pos] := TO_UPPER(PT[pos]);\n\tpos := pos + 1;\nEND_WHILE;\n\n_BUFFER_UPPERCASE := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_BUFFER_UPPERCASE",
          "type": "BOOL",
          "description": "输出参数_BUFFER_UPPERCASE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个双精度实数除以一个单精度实数用st语言怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL2;\n\tY : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tR2_DIV : REAL2;\nEND_VAR\n\nR2_DIV.RX := X.RX / Y;\nR2_DIV.R1 := X.R1 / Y;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL2",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "R2_DIV",
          "type": "REAL2",
          "description": "输出参数R2_DIV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用ST语言实现时间延迟功能",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tTMAX : TIME := t#10d;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tPT : TIME;\n\tET : TIME;\nEND_VAR\n\nVAR\n\tedge : BOOL;\n\tstart : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: M_T\nIEC_LANGUAGE: ST\n*)\n(* 读取系统定时器 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF RST OR ET >= TMAX THEN\n\tPT := t#0s;\n\tET := PT;\nELSIF IN THEN\n\tIF NOT edge THEN start := tx; END_IF;\n\tET := tx - start;\nELSE\n\tPT := ET;\nEND_IF;\nedge := IN;",
      "description": "M_T功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "TMAX",
          "type": "TIME",
          "description": "输入参数TMAX"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "输出参数PT"
        },
        {
          "name": "ET",
          "type": "TIME",
          "description": "输出参数ET"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将字符串插入到缓冲区指定位置",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_BUFFER_INSERT : INT;\nEND_VAR\n\nVAR\n\tend : INT;\n\tlx : INT;\n\ti : INT;\n\ti2 : INT;\n\t_STRING_TO_BUFFER : _STRING_TO_BUFFER;\nEND_VAR\n\ni := UINT_TO_INT(SIZE) - 1;\npos := LIMIT_INT(0, POS, i);\nlx := LEN(STR);\nend := pos + lx;\n(* 先移动缓冲区的上部分，为字符串腾出空间 *)\ni2 := i - lx;\nWHILE i >= end DO\n\tpt[i] := pt[i2];\n\ti := i - 1;\n\ti2 := i2 - 1;\nEND_WHILE;\n\n_STRING_TO_BUFFER(STR := STR, POS := POS, SIZE := SIZE, PT := PT);\n_BUFFER_INSERT := _STRING_TO_BUFFER._STRING_TO_BUFFER;\nPT := _STRING_TO_BUFFER.pt;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "_BUFFER_INSERT",
          "type": "INT",
          "description": "输出参数_BUFFER_INSERT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将三个二进制传感器连接到一个信号上咋用st代码编写",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tIN3 : BOOL;\n\tTD : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tW : BOOL;\nEND_VAR\n\nVAR\n\tTDEL : TON;\nEND_VAR\n\nQ := (IN1 AND IN2) OR (IN1 AND IN3) OR (IN2 AND IN3);\nTDEL(IN := (IN1 XOR IN2) OR (IN1 XOR IN3) OR (IN2 XOR IN3), PT := TD);\nW := TDEL.Q;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "TD",
          "type": "TIME",
          "description": "输入参数TD"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "W",
          "type": "BOOL",
          "description": "输出参数W"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何解码红外传输协议的数据",
      "input": "",
      "output": "VAR_OUTPUT\n\tCMD : BOOL;\n\tDEV : STRING;\n\tKEY : STRING;\n\tERROR : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;(*IP_Control Verwaltungsstruktur*)\n\tR_BUF : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\treceived_string : STRING;\n\tchar : STRING;\n\tCHR_TO_STRING : CHR_TO_STRING;\n\tz : BYTE;\nEND_VAR\n\ni := UINT_TO_INT(R_BUF.SIZE);\n(* 如果缓冲区为空则不做任何处理 *)\nIF i >= 5 AND (i <= 82) AND IP_C.MAILBOX[1] <> z THEN (* 最大大小为82字节（最后两个字符为 $R$N） *)\n\terror := TRUE;\n\ti := i - 1; (* 索引从0开始 *)\n\n\t(* 检查最后两个字符是否为 $R$N 13, 10 *)\n\tIF R_BUF.BUFFER[i] <> BYTE#10 THEN RETURN; END_IF;\n\ti := i - 1;\n\tIF R_BUF.BUFFER[i] <> BYTE#13 THEN RETURN; END_IF;\n\ti := i - 1;\n\n\tstop := 0;\n\treceived_string := '';\n\n\tWHILE stop <= i DO\n\t\tCHR_TO_STRING(C:=R_BUF.BUFFER[stop]);\n\t\tchar := CHR_TO_STRING.CHR_TO_STRING;\n\t\treceived_string := CONCAT(received_string,char);\n\t\tstop := stop + INT#1;\n\tEND_WHILE;\n\n\tstop := FIND(received_string,',');\n\tIF stop > 0 AND stop - 1 < i THEN\n\t\tDEV := LEFT(received_string,stop - 1);\n\t\tkey := RIGHT(received_string,i - stop + 1);\n\t\tIF LEN(DEV) = 0 OR LEN(key) = 0 THEN RETURN; END_IF;\n\t\tcmd := TRUE;\n\t\terror := FALSE;\n\tEND_IF;\nELSE\n\tcmd := FALSE;\n\terror := FALSE;\nEND_IF;\n\nz := IP_C.MAILBOX[1];",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "CMD",
          "type": "BOOL",
          "description": "输出参数CMD"
        },
        {
          "name": "DEV",
          "type": "STRING",
          "description": "输出参数DEV"
        },
        {
          "name": "KEY",
          "type": "STRING",
          "description": "输出参数KEY"
        },
        {
          "name": "ERROR",
          "type": "BOOL",
          "description": "输出参数ERROR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST语言根据时钟信号的变化生成脉冲输出",
      "input": "",
      "output": "VAR_INPUT\n\tN : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\tedge : BOOL;\n\tclk : BOOL;\nEND_VAR\n\nT_PLC_MS();\nclk := BIT_OF_DWORD(SHR(UDINT_TO_DWORD(T_PLC_MS.T_PLC_MS), N), 0);\nQ := clk XOR edge;\nedge := clk;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何两个字节B1和B0合并成一个16位的字",
      "input": "",
      "output": "VAR_INPUT\n\tB1 : BYTE;\n\tB0 : BYTE;\nEND_VAR\n\nWORD_OF_BYTE := SHL_WORD(BYTE_TO_WORD(B1), 8) OR BYTE_TO_WORD(B0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "B1",
          "type": "BYTE",
          "description": "输入参数B1"
        },
        {
          "name": "B0",
          "type": "BYTE",
          "description": "输入参数B0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言在PT缓冲区中搜索与STR匹配的子串",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\n\tSTR : oscat_STRING250;\n\tPOS : INT;\n\tIGN : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_SEARCH : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tend : INT;\n\tk : INT;\n\tk2 : INT;\n\tlx : INT;\n\tchar : BYTE;\n\tchx : BYTE;\nEND_VAR\n\nlx := LEN(str);\nIF pos >= 0 AND lx > 0 THEN\n\tend := UINT_TO_INT(size) - lx;\n\tlx := lx - 1;\n\tFOR i := pos TO end DO\n\t\tFOR k := 0 TO lx DO\n\t\t\tchar := INT_TO_BYTE(GET_CHAR(str,k + 1));\n\t\t\tk2 := i + k;\n\t\t\tIF IGN THEN\n\t\t\t\tchx := TO_UPPER(pt[k2]);\n\t\t\tELSE\n\t\t\t\tchx := pt[k2];\n\t\t\tEND_IF;\n\t\t\tIF char <> chx THEN EXIT; END_IF;\n\t\tEND_FOR;\n\t\tIF k > lx THEN\n\t\t\tBUFFER_SEARCH := i;\n\t\t\tRETURN;\n\t\tEND_IF;\n\tEND_FOR;\nEND_IF;\nBUFFER_SEARCH := -1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        },
        {
          "name": "IGN",
          "type": "BOOL",
          "description": "输入参数IGN"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_SEARCH",
          "type": "INT",
          "description": "输出参数BUFFER_SEARCH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码实现一个随机信号生成器",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME;\n\tAM : REAL := REAL#1.0;\n\tOS : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tOut : REAL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tlast : TIME;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\n\tFB_rdm : rdm;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_RDM\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间并准备输入数据 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS) - last;\n\n(* 初始化部分 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\ttx := T#0s;\nEND_IF;\n\n(* 如果一个周期已完成，则添加到 last *)\nIF tx >= pt THEN\n\tlast := last + pt;\n\ttx := tx - pt;\n\n\t(* 生成输出信号 *)\n\tFB_rdm(last := 0.0);\n\tout := am * (FB_rdm.RDM - 0.5) + os;\n\tq := TRUE;\nELSE\n\tq := FALSE;\nEND_IF;",
      "description": "GEN_RDM信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "AM",
          "type": "REAL",
          "description": "幅值参数"
        },
        {
          "name": "OS",
          "type": "REAL",
          "description": "偏移量参数"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "Out",
          "type": "REAL",
          "description": "输出参数Out"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "怎么编程实现两个复数的除法运算",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\n\tY : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCDIV : oscat_complex;\nEND_VAR\n\nVAR\n\ttemp : REAL;\nEND_VAR\n\ntemp := Y.re * Y.re + Y.im * Y.im;\nIF temp = 0.0 THEN\n\tCDIV.re := 0.0;\n\tCDIV.im := 0.0;\n\tRETURN;\nEND_IF;\nCDIV.re := (X.re * Y.re + X.im * Y.im) / temp;\nCDIV.im := (X.im * Y.re - X.re * Y.im) / temp;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "oscat_complex",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "CDIV",
          "type": "oscat_complex",
          "description": "输出参数CDIV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的星期几、语言和选项，将相应的星期名称转换为字符串。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tWDAY : INT;\n\tLANG : INT;\n\tLX : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tWEEKDAY_TO_STRING : oscat_STRING10;\nEND_VAR\n\nVAR\n\tLY : INT;\n\tSETUP_LANGUAGE : SETUP_LANGUAGE;\n\tLANGUAGE : oscat_LANGUAGE;\n\tWEEKDAYS : oscat_WEEKDAYS;\n\tWEEKDAYS2 : oscat_WEEKDAYS2;\n\tSETUP_WEEKDAYS : SETUP_WEEKDAYS;\n\tSETUP_WEEKDAYS2 : SETUP_WEEKDAYS2;\nEND_VAR\n\nSETUP_WEEKDAYS(WEEKDAYS:=WEEKDAYS);\nWEEKDAYS := SETUP_WEEKDAYS.WEEKDAYS;\nSETUP_WEEKDAYS2(WEEKDAYS2:=WEEKDAYS2);\nWEEKDAYS2 := SETUP_WEEKDAYS2.WEEKDAYS2;\nSETUP_LANGUAGE(LANGUAGE:=LANGUAGE);\nLANGUAGE := SETUP_LANGUAGE.LANGUAGE;\n\nIF LANG = 0 THEN\n\tly := LANGUAGE.DEFAULT;\nELSE\n\tly := MIN(LANG, LANGUAGE.LMAX);\nEND_IF;\nIF wday < 1 OR wday > 7 THEN\n\tRETURN;\nELSIF LX = 0 THEN\n\tWEEKDAY_TO_STRING := WEEKDAYS[ly][WDAY];\nELSIF Lx = 2 THEN\n\tWEEKDAY_TO_STRING := WEEKDAYS2[ly][WDAY];\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "WDAY",
          "type": "INT",
          "description": "输入参数WDAY"
        },
        {
          "name": "LANG",
          "type": "INT",
          "description": "输入参数LANG"
        },
        {
          "name": "LX",
          "type": "INT",
          "description": "输入参数LX"
        }
      ],
      "outputs": [
        {
          "name": "WEEKDAY_TO_STRING",
          "type": "oscat_STRING10",
          "description": "输出参数WEEKDAY_TO_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "解码HTML实体字符的ST语言代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tHTML_DECODE : oscat_STRING250;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tend : INT;\n\ttmp : oscat_STRING10;\n\tcode : BYTE;\n\tsize : INT;\n\tCHR_TO_STRING : CHR_TO_STRING;\n\tCHARCODE : CHARCODE;\n\tHEX_TO_DWORD : HEX_TO_DWORD;\n\tFINDP : FINDP;\nEND_VAR\n\nHTML_DECODE := IN;\n\n(* 解码由字符位置编码的字符 *)\npos := FIND(HTML_DECODE, '&');\nWHILE pos > 0 DO\n\ttmp := MID(HTML_DECODE, 2, pos + 1);\n\tIF EQ_STRING(tmp,'#x') OR EQ_STRING(tmp,'#X') THEN\n\t\t(* 找到十六进制表示 *)\n\n\t\tIF pos+13 > LEN(HTML_DECODE) THEN\n\t\t\tsize := LEN(HTML_DECODE) - pos - 2;\n\t\tELSE\n\t\t\tsize := 10;\n\t\tEND_IF;\n\n\t\ttmp := MID(HTML_DECODE, size, pos + 3);\n\t\tend := FIND(tmp, ';');\n\t\tHEX_TO_DWORD(Hex:=LEFT(tmp, end - 1));\n\t\tCODE := DWORD_TO_BYTE(HEX_TO_DWORD.HEX_TO_DWORD);\n\t\tCHR_TO_STRING(C:=CODE);\n\t\tHTML_DECODE := REPLACE(HTML_DECODE, CHR_TO_STRING.CHR_TO_STRING, end + 3, pos);\n\tELSE\n\t\ttmp := LEFT(tmp,1);\n\t\tIF EQ_STRING(tmp,'#') THEN\n\n\t\t\tIF pos+12 > LEN(HTML_DECODE) THEN\n\t\t\t\tsize := LEN(HTML_DECODE) - pos - 1;\n\t\t\tELSE\n\t\t\t\tsize := 10;\n\t\t\tEND_IF;\n\n\t\t\ttmp := MID(HTML_DECODE, size, pos + 2);\n\t\t\tend := FIND(tmp, ';');\n\t\t\ttmp := LEFT(tmp, end - 1);\n\t\t\tCODE := INT_TO_BYTE(STRING_TO_INT(tmp));\n\t\t\tCHR_TO_STRING(C:=CODE);\n\t\t\tHTML_DECODE := REPLACE(HTML_DECODE, CHR_TO_STRING.CHR_TO_STRING, end + 2, pos);\n\t\tELSE\n\t\t\tIF pos+11 > LEN(HTML_DECODE) THEN\n\t\t\t\tsize := LEN(HTML_DECODE) - pos ;\n\t\t\tELSE\n\t\t\t\tsize := 10;\n\t\t\tEND_IF;\n\n\t\t\t(* 替换所有命名字符 *)\n\t\t\ttmp := MID(HTML_DECODE, size, pos + 1);\n\t\t\tend := FIND(tmp, ';');\n\t\t\tCHARCODE(STR:=LEFT(tmp, end - 1));\n\t\t\tCODE := CHARCODE.CHARCODE;\n\t\t\tCHR_TO_STRING(C:=CODE);\n\t\t\tHTML_DECODE := REPLACE(HTML_DECODE, CHR_TO_STRING.CHR_TO_STRING, end + 1, pos);\n\t\tEND_IF;\n\tEND_IF;\n\t(* 搜索下一个编码字符的出现位置 *)\n\tFINDP(str:=HTML_DECODE,src:='&',pos:=pos + 1);\n\tpos := FINDP.FINDP;\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING250",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "HTML_DECODE",
          "type": "oscat_STRING250",
          "description": "输出参数HTML_DECODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的字节根据特定的值转换为对应的字符或字符串的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tTO_UML : STRING;\nEND_VAR\n\nCASE _BYTE_TO_INT(in) OF\n\t196:\n\t\tTO_UML := 'Ae';\n\t214:\n\t\tTO_UML := 'Oe';\n\t220:\n\t\tTO_UML := 'Ue';\n\t223:\n\t\tTO_UML := 'ss';\n\t228:\n\t\tTO_UML := 'ae';\n\t246:\n\t\tTO_UML := 'oe';\n\t252:\n\t\tTO_UML := 'ue';\nELSE\n\tTO_UML := BYTE_TO_STRING(IN, '%c');\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "TO_UML",
          "type": "STRING",
          "description": "输出参数TO_UML"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将一个状态字节转换为ESR数据格式？用st语言",
      "input": "",
      "output": "VAR_INPUT\n\tSTATUS : BYTE;\n\tADRESS : oscat_STRING10;\n\tDT_IN : UDINT;\n\tTS : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tSTATUS_TO_ESR : oscat_esr_data;\nEND_VAR\n\nIF status < BYTE#100 THEN\n\tstatus_to_ESR.typ := BYTE#1;\nELSIF status < BYTE#200 THEN\n\tstatus_to_ESR.typ := BYTE#2;\nELSE\n\tstatus_to_ESR.typ := BYTE#3;\nEND_IF;\nstatus_to_ESR.adress := adress;\nstatus_to_ESR.DS := DT_in;\nstatus_to_ESR.TS := TS;\nstatus_to_ESR.data[0] := status;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "输入参数STATUS"
        },
        {
          "name": "ADRESS",
          "type": "oscat_STRING10",
          "description": "输入参数ADRESS"
        },
        {
          "name": "DT_IN",
          "type": "UDINT",
          "description": "输入参数DT_IN"
        },
        {
          "name": "TS",
          "type": "TIME",
          "description": "输入参数TS"
        }
      ],
      "outputs": [
        {
          "name": "STATUS_TO_ESR",
          "type": "oscat_esr_data",
          "description": "输出参数STATUS_TO_ESR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st语言实现将一个 32 位常量与输入值进行按位移位操作",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tN : INT;\nEND_VAR\n\nSHR1 := SHL(DWORD#16#FF_FF_FF_FF,32-N) OR SHR(IN,N);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言生成可控制高低电平时间的脉冲信号生成器",
      "input": "",
      "output": "VAR_INPUT\n\tENQ : BOOL := TRUE;\n\tPTH : TIME;\n\tPTL : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttx : TIME;\n\ttn : TIME;\n\tinit : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_PULSE\nIEC_LANGUAGE: ST\n*)\nIF enq THEN\n\tT_PLC_MS(); (* 读取系统定时器 *)\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\tIF NOT init THEN init := TRUE; tn := tx; END_IF;\n\tIF tx - tn >= SEL(Q, PTL, PTH) THEN\n\t\ttn := tn + SEL(Q, PTL, PTH);\n\t\tQ := NOT Q;\n\tEND_IF;\nELSE\n\tQ := FALSE;\n\tinit := FALSE;\nEND_IF;",
      "description": "脉冲信号生成器，可配置高低电平时间，生成精确的方波信号。适用于定时控制、PWM生成、信号测试等应用场景。",
      "inputs": [
        {
          "name": "ENQ",
          "type": "BOOL",
          "description": "请求信号，触发功能块执行"
        },
        {
          "name": "PTH",
          "type": "TIME",
          "description": "输入参数PTH"
        },
        {
          "name": "PTL",
          "type": "TIME",
          "description": "输入参数PTL"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：定时器和脉冲生成",
      "tags": [
        "脉冲生成",
        "方波信号",
        "定时控制",
        "PWM生成",
        "信号测试"
      ]
    },
    {
      "instruction": "用ST语言实现DINT类型整数的向下取整函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FLOOR2\nIEC_LANGUAGE: ST\n*)\nFLOOR2 := _REAL_TO_DINT(X);\nIF DINT_TO_REAL(FLOOR2) > X THEN\n\tFLOOR2 := FLOOR2 - DINT#1;\nEND_IF;",
      "description": "REAL到DINT类型的向下取整函数，提供双精度整数输出。相比标准FLOOR函数，支持更大范围的整数结果（-2,147,483,648到2,147,483,647）。适用于大范围数值计算、高精度坐标转换、大数据量统计等需要大整数结果的应用。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入的实数值"
        }
      ],
      "outputs": [
        {
          "name": "FLOOR2",
          "type": "DINT",
          "description": "DINT类型的向下取整结果"
        }
      ],
      "library_dependency": "OSCAT库: _REAL_TO_DINT扩展类型转换函数",
      "iec_standard": "IEC 61131-3 扩展精度数学函数，大整数处理",
      "tags": [
        "DINT取整",
        "双精度",
        "大整数",
        "高精度计算",
        "坐标转换",
        "大数据统计"
      ]
    },
    {
      "instruction": "计算并返回字符串中目标字符出现的次数",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tCHR : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tCOUNT_CHAR : INT;\nEND_VAR\n\nVAR\n\tI : INT;\n\tpos : INT;\nEND_VAR\n\nI := LEN(str);\nCOUNT_CHAR := 0;\nFOR pos := 1 TO I DO\n\tIF INT_TO_BYTE(GET_CHAR(str,pos)) = CHR THEN COUNT_CHAR := COUNT_CHAR + 1; END_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "CHR",
          "type": "BYTE",
          "description": "输入参数CHR"
        }
      ],
      "outputs": [
        {
          "name": "COUNT_CHAR",
          "type": "INT",
          "description": "输出参数COUNT_CHAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查总长度是否小于等于250，如果符合条件，则将分隔符和输入字符串添加到现有列表中。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\n\tINS : oscat_STRING250;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLIST_ADD : BOOL;\nEND_VAR\n\nVAR\n\tCHR_TO_STRING : CHR_TO_STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_ADD\nIEC_LANGUAGE: ST\n*)\nIF LEN(LIST) + LEN(INS) + 1 <= 250 THEN \n\tCHR_TO_STRING(C:=SEP);\n\tLIST := CONCAT(LIST, CHR_TO_STRING.CHR_TO_STRING);\n\tLIST := CONCAT(LIST, INS);\n\tLIST_ADD := TRUE;\nELSE\n\tLIST_ADD := FALSE;\nEND_IF;",
      "description": "LIST_ADD功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        },
        {
          "name": "INS",
          "type": "oscat_STRING250",
          "description": "输入参数INS"
        }
      ],
      "outputs": [
        {
          "name": "LIST_ADD",
          "type": "BOOL",
          "description": "输出参数LIST_ADD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言将长度为20的十六进制字符串转换为双字",
      "input": "",
      "output": "VAR_INPUT\n\tHEX : oscat_STRING20;\nEND_VAR\n\nVAR_OUTPUT\n\tHEX_TO_DWORD : DWORD;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\tX : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HEX_TO_DWORD\nIEC_LANGUAGE: ST\n*)\nHEX_TO_DWORD := DWORD#0;\nstop := LEN(Hex);\nFOR I := 1 TO stop DO\n\t(* 读取第一个字符并减去48得到十进制值，0 = 48 *)\n\tX := GET_CHAR(Hex, I);\n\t(* 计算数字的值 *)\n\tIF X > 47 AND X < 58 THEN\n\t\tHEX_TO_DWORD := SHL_DWORD(HEX_TO_DWORD, 4) OR INT_TO_DWORD(X - 48);\n\tELSIF X > 64 AND X < 71 THEN\n\t\tHEX_TO_DWORD := SHL_DWORD(HEX_TO_DWORD, 4) OR INT_TO_DWORD(X - 55);\n\tELSIF X > 96 AND X < 103 THEN\n\t\tHEX_TO_DWORD := SHL_DWORD(HEX_TO_DWORD, 4) OR INT_TO_DWORD(X - 87);\n\tEND_IF;\nEND_FOR;",
      "description": "HEX_TO_DWORD功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "HEX",
          "type": "oscat_STRING20",
          "description": "输入参数HEX"
        }
      ],
      "outputs": [
        {
          "name": "HEX_TO_DWORD",
          "type": "DWORD",
          "description": "输出参数HEX_TO_DWORD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据给定的坐标和选项，在屏幕上生成阴影效果的ST语言代码是什么",
      "input": "",
      "output": "VAR\n\tin_Offset : INT;\n\tin_X : INT;\n\tin_Y : INT;\nEND_VAR\n\n(*Group:IN_OUT*)\n\nVAR_INPUT\n\tIin_Y1 : INT;\n\tIin_X1 : INT;\n\tIin_Y2 : INT;\n\tIin_X2 : INT;\n\tIin_OPTION : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY2_ERROR(Iin_X1,Iin_Y1,Iin_X2,Iin_Y2) THEN RETURN; END_IF;\n\nin_Offset := (Iin_Y1 * 80) + Iin_X2;\n\nIF Iin_OPTION = INT#00 THEN\n\t(* 通过调整颜色生成阴影 *)\n\tFOR in_Y := Iin_Y1 TO Iin_Y2 DO\n\t\tXus_TN_SCREEN.bya_COLOR[in_Offset] := TN_SC_SHADOW_ATTR(Xus_TN_SCREEN.bya_COLOR[in_Offset]);\n\t\tin_Offset := in_Offset + 80;\n\t\tXus_TN_SCREEN.bya_Line_Update[in_Y] := TRUE;\n\tEND_FOR;\nELSE\n\t(* 通过黑色和空格生成阴影 *)\n\tFOR in_Y := Iin_Y1 TO Iin_Y2 DO\n\t\tXus_TN_SCREEN.bya_COLOR[in_Offset] := BYTE#00;\n\t\tXus_TN_SCREEN.bya_CHAR[in_Offset] := BYTE#32;\n\t\tin_Offset := in_Offset + 80;\n\t\tXus_TN_SCREEN.bya_Line_Update[in_Y] := TRUE;\n\tEND_FOR;\nEND_IF;\n\nin_Offset := (Iin_Y2 * 80) + Iin_X1;\n\nIF Iin_OPTION = INT#00 THEN\n\t(* 通过调整颜色生成阴影 *)\n\tFOR in_X := Iin_X1 TO Iin_X2 DO\n\t\tXus_TN_SCREEN.bya_COLOR[in_Offset] := TN_SC_SHADOW_ATTR(Xus_TN_SCREEN.bya_COLOR[in_Offset]);\n\t\tin_Offset := in_Offset + 1;\n\tEND_FOR;\nELSE\n\t(* 通过黑色和空格生成阴影 *)\n\tFOR in_X := Iin_X1 TO Iin_X2 DO\n\t\tXus_TN_SCREEN.bya_COLOR[in_Offset] := BYTE#00;\n\t\tXus_TN_SCREEN.bya_CHAR[in_Offset] := BYTE#32;\n\t\tin_Offset := in_Offset + 1;\n\tEND_FOR;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y1",
          "type": "INT",
          "description": "输入参数Iin_Y1"
        },
        {
          "name": "Iin_X1",
          "type": "INT",
          "description": "输入参数Iin_X1"
        },
        {
          "name": "Iin_Y2",
          "type": "INT",
          "description": "输入参数Iin_Y2"
        },
        {
          "name": "Iin_X2",
          "type": "INT",
          "description": "输入参数Iin_X2"
        },
        {
          "name": "Iin_OPTION",
          "type": "INT",
          "description": "输入参数Iin_OPTION"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个基于PID控制的控制器，给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tTN : REAL := 1.0;\n\tTV : REAL := 1.0;\n\tILIM_L : REAL := -1.0E38;\n\tILIM_H : REAL := 1.0E38;\n\tIEN : BOOL := TRUE;\n\tRST : BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tinteg : FT_INT;\n\tdiff : FT_DERIV;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PID\nIEC_LANGUAGE: ST\n*)\n(* 仅当TN > 0时运行积分器 *)\nIF TN > 0.0 THEN\n\tinteg(IN := IN, K := 1.0 / TN, RUN := IEN, RST := RST, OUT_MIN := ILIM_L, OUT_MAX := ILIM_H);\nELSE\n\tinteg(RST := FALSE);\nEND_IF;\n\n(* 运行微分器 *)\ndiff(IN := IN, K := TV);\n\n(* 组合两个值 *)\nY := KP * (integ.Out + diff.out + IN);\n\n(* 检查积分器是否达到极限并设置溢出标志 *)\nLIM := integ.LIM;",
      "description": "完整PID控制器实现，结合比例、积分、微分三环节控制。提供积分限幅和复位功能，支持参数调节。适用于大多数工业过程控制场景，如温度控制、压力控制、流量控制、位置控制等。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "TN",
          "type": "REAL",
          "description": "积分时间常数"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "微分时间常数"
        },
        {
          "name": "ILIM_L/H",
          "type": "REAL",
          "description": "积分限幅范围"
        },
        {
          "name": "IEN",
          "type": "BOOL",
          "description": "积分使能信号"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "积分器复位"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PID控制器输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "积分限幅状态"
        }
      ],
      "library_dependency": "OSCAT库: FT_INT积分器, FT_DERIV微分器",
      "iec_standard": "IEC 61131-3 PID控制算法，工业标准",
      "tags": [
        "PID控制",
        "比例积分微分",
        "工业标准",
        "过程控制",
        "参数调节",
        "反馈控制"
      ]
    },
    {
      "instruction": "用ST语言怎么根据角度和三边计算三角形的面积",
      "input": "",
      "output": "VAR_INPUT\n\tS1 : REAL;\n\tA : REAL;\n\tS2 : REAL;\n\tS3 : REAL;\nEND_VAR\n\nIF A = 0.0 THEN\n\tTRIANGLE_A := SQRT((s1 + s2 + S3) * (s1 + s2 - S3) * (S2 + S3 - S1) * (S3 + S1 - S2)) * 0.25;\nELSE\n\tTRIANGLE_A := S1 * S2 * SIN(RAD(A)) * 0.5;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "S1",
          "type": "REAL",
          "description": "输入参数S1"
        },
        {
          "name": "A",
          "type": "REAL",
          "description": "输入值A"
        },
        {
          "name": "S2",
          "type": "REAL",
          "description": "输入参数S2"
        },
        {
          "name": "S3",
          "type": "REAL",
          "description": "输入参数S3"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么基于PLC根据电压和电流计算电阻",
      "input": "",
      "output": "VAR_INPUT\n\tVOLTAGE : REAL;\n\tCURRENT : REAL;\n\tRP : REAL;\n\tRS : REAL;\nEND_VAR\n\nVAR\n\tRG : REAL;\nEND_VAR\n\nIF current <> 0.0 THEN\n\tRG := voltage / current;\n\tSENSOR_INT := RP * (RG - RS) / (RP + RS - RG);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "VOLTAGE",
          "type": "REAL",
          "description": "输入参数VOLTAGE"
        },
        {
          "name": "CURRENT",
          "type": "REAL",
          "description": "输入参数CURRENT"
        },
        {
          "name": "RP",
          "type": "REAL",
          "description": "输入参数RP"
        },
        {
          "name": "RS",
          "type": "REAL",
          "description": "输入参数RS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入四舍五入为无符号双字整数并返回结果怎么用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF REAL_TO_DWORD(0.5) = DWORD#1 THEN\n\t_REAL_TO_DWORD := REAL_TO_DWORD(x);\nELSIF X > 0.0 THEN\n\t_REAL_TO_DWORD := REAL_TO_DWORD(x+0.5);\nELSIF X < 0.0 THEN\n\t_REAL_TO_DWORD := REAL_TO_DWORD(x-0.5);\nELSE\n\t_REAL_TO_DWORD := DWORD#0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个实数转换为分数形式怎么用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tN : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tREAL_TO_FRAC : oscat_FRACTION;\nEND_VAR\n\nVAR\n\ttemp : DINT;\n\tsign : BOOL;\n\tX_gerundet : DINT;\n\tX_ohne_Nachkomma : REAL;\n\tNumerator : DINT := 1;\n\tDenominator : DINT := 0;\n\tNumerator_old : DINT := 0;\n\tDenominator_old : DINT := 1;\nEND_VAR\n\nIF X < 0.0 THEN\n\tsign := TRUE; (* 记住符号 *)\n\tX := ABS(X); (* 计算绝对值 *)\nEND_IF;\n\nREPEAT\n\tX_gerundet := REAL_TO_DINT(X);\n\n\t(* 计算分子 *)\n\ttemp := numerator * X_gerundet + numerator_old; (* 用整数部分扩展分子 *)\n\tnumerator_old := numerator; (* 保存上次计算的分子 *)\n\tnumerator := temp; (* 保存当前计算的分子 *)\n\n\t(* 计算分母 *)\n\ttemp := denominator * X_gerundet + denominator_old; (* 用整数部分扩展分母 *)\n\tdenominator_old := denominator; (* 保存上次计算的分母 *)\n\tdenominator := temp; (* 保存当前计算的分母 *)\n\n\t(* 计算余数 *)\n\tX_ohne_Nachkomma := DINT_TO_REAL(X_gerundet);\n\tIF X = X_ohne_Nachkomma THEN (* 分数没有余数 *)\n\t\tIF ABS(denominator) <= INT_TO_DINT(N) THEN (* 没有舍入误差 *)\n\t\t\tnumerator_old := numerator; (* 返回函数中的 Numerator_old *)\n\t\t\tsdenominator_old := denominator; (* 返回函数中的 Denominator_old *)\n\t\tEND_IF;\n\t\tEXIT; (* 不再需要进一步计算 *)\n\tELSE\n\t\tX := 1.0 / (X - X_ohne_Nachkomma); (* 对余数求倒数 -> 新的分数 *)\n\tEND_IF;\n\nUNTIL\n\t( ABS(Denominator) > INT_TO_DINT(N))\nEND_REPEAT;\n\n(* 如果 X 是负数，调整符号 *)\nIF sign THEN\n\tREAL_TO_FRAC.NUMERATOR := -1 * ABS(DINT_TO_INT(numerator_old));\nELSE\n\tREAL_TO_FRAC.NUMERATOR := ABS(DINT_TO_INT(numerator_old));\nEND_IF;\n\nREAL_TO_FRAC.DENOMINATOR := ABS(DINT_TO_INT(denominator_old));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [
        {
          "name": "REAL_TO_FRAC",
          "type": "oscat_FRACTION",
          "description": "输出参数REAL_TO_FRAC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算并返回三个实数值中的最小值",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tIN3 : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MIN3\nIEC_LANGUAGE: ST\n*)\nMIN3 := MIN(MIN(IN1,IN2),IN3);",
      "description": "MIN3功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "REAL",
          "description": "输入参数IN3"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言计算余数",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tDIVI : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MODR\nIEC_LANGUAGE: ST\n*)\nIF divi = 0.0 THEN\n\tMODR := 0.0;\nELSE\n\tMODR := in - DINT_TO_REAL(FLOOR2(in / divi)) * divi;\nEND_IF;",
      "description": "MODR功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "DIVI",
          "type": "REAL",
          "description": "输入参数DIVI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何判断输入值IN是否在LOW和HIGH之间",
      "input": "",
      "output": "VAR_INPUT\n\tLOW : REAL;\n\tIN : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nwindow := (in < high) AND (in > low);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将字节IN的低4位和高4位分别转换为十六进制字符怎么编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tBYTE_TO_STRH : STRING;\nEND_VAR\ntemp := '''';\nFOR i := 1 TO 2 DO\n\tX := _BYTE_TO_INT(IN AND BYTE#2#0000_1111);\n\tIF X <= 9 THEN X := X + 48; ELSE X := X + 55; END_IF;\n\n\tCHR(C:=INT_TO_BYTE(X));\n\n\ttemp2 := temp;\n\ttemp := CONCAT(CHR.CHR, temp2);\n\tIN := SHR(IN, 4);\nEND_FOR;\nBYTE_TO_STRH := temp;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "BYTE_TO_STRH",
          "type": "STRING",
          "description": "输出参数BYTE_TO_STRH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言记录和存储字符串数据，并根据需求添加数据头",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tCOLUMN : oscat_STRING40;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_DLOG_DATA;\nEND_VAR\n\nVAR\n\tucb : UNI_CIRCULAR_BUFFER;\n\tinit : BOOL;\n\tid : WORD;\n\tstr_last : STRING;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tid := WORD#16#0101;\nEND_IF;\n\nIF X.ADD_HEADER THEN\n\tX.UCB.D_STRING := COLUMN;\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\nELSIF X.ADD_DATA THEN\n\tX.UCB.D_STRING := str_last;\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\nEND_IF;\nstr_last := STR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "COLUMN",
          "type": "oscat_STRING40",
          "description": "输入参数COLUMN"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将字符串从指定位置开始，根据大小逐个将字符存储到数组中。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tPOS : INT;\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_STRING_TO_BUFFER : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR\n\ti : INT;\n\tend : INT;\n\tx : INT;\nEND_VAR\n\nIF pos < 0 THEN RETURN; END_IF;\nend := MIN(pos + LEN(str), UINT_TO_INT(size)) - 1;\nx := 1;\nFOR i := pos TO end DO\n\tpt[i] := INT_TO_BYTE(GET_CHAR(str, x));\n\tx := x + 1;\nEND_FOR;\n\n_STRING_TO_BUFFER := i;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        },
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_STRING_TO_BUFFER",
          "type": "INT",
          "description": "输出参数_STRING_TO_BUFFER"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言怎么实现一个按钮点击计数器",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tT_DEBOUNCE : TIME := T#10ms;\n\tT_SHORT : TIME := T#200ms;\n\tT_PAUSE : TIME := T#500ms;\n\tT_RECONFIG : TIME := T#1m;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tSINGLE : BOOL;\n\tDOUBLE : BOOL;\n\tTRIPLE : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\ts_in : SW_RECONFIG;\n\ttx : TIME;\n\tstate : INT;\n\tlast : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 重新配置和去抖电路 *)\ns_in(in := in, TD := T_debounce, TR := T_reconfig);\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 计算按键点击次数 *)\nIF s_in.Q XOR Q THEN\n\tlast := tx;\n\tIF s_in.Q THEN state := state + 1; END_IF;\nEND_IF;\nQ := s_in.Q;\n\n(* 设置输出 *)\nIF state > 0 THEN\n\tIF (Q AND tx - last > t_short) OR (NOT Q AND tx - last > t_pause) THEN\n\t\tCASE state OF\n\t\t\t1: single := TRUE;\n\t\t\t\tstatus := BYTE#111;\n\t\t\t2: double := TRUE;\n\t\t\t\tstatus := BYTE#112;\n\t\t\t3: triple := TRUE;\n\t\t\t\tstatus := BYTE#113;\n\t\tEND_CASE;\n\t\tstate := 0;\n\tEND_IF;\nELSIF NOT q THEN\n\tsingle := FALSE;\n\tdouble := FALSE;\n\ttriple := FALSE;\n\tstatus := BYTE#110;\n\tlast := tx;\n\tstate := 0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "T_DEBOUNCE",
          "type": "TIME",
          "description": "输入参数T_DEBOUNCE"
        },
        {
          "name": "T_SHORT",
          "type": "TIME",
          "description": "输入参数T_SHORT"
        },
        {
          "name": "T_PAUSE",
          "type": "TIME",
          "description": "输入参数T_PAUSE"
        },
        {
          "name": "T_RECONFIG",
          "type": "TIME",
          "description": "输入参数T_RECONFIG"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "SINGLE",
          "type": "BOOL",
          "description": "输出参数SINGLE"
        },
        {
          "name": "DOUBLE",
          "type": "BOOL",
          "description": "输出参数DOUBLE"
        },
        {
          "name": "TRIPLE",
          "type": "BOOL",
          "description": "输出参数TRIPLE"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言实现用于管理IP控制的访问队列",
      "input": "",
      "output": "VAR_IN_OUT\n\tFIFO : oscat_IP_FIFO_DATA;\n\tID : BYTE;\n\tSTATE : BYTE;\nEND_VAR\n\nVAR\n\ttmp : INT;\nEND_VAR\n\nIF NOT FIFO.INIT THEN\n\tFIFO.INIT := TRUE;\n\tFIFO.NW := 1;\n\tFIFO.NR := 1;\n\tFIFO.EMPTY := TRUE;\n\tFIFO.FULL := FALSE;\n\tFIFO.TOP := 128;\n\tFIFO.MAX_ID := BYTE#1;\nEND_IF;\n\n(* 如果没有 ID，则分配下一个空闲 ID *)\nIF ID = BYTE#00 THEN\n\tIF FIFO.ID < INT_TO_BYTE(FIFO.TOP) THEN\n\t\tID := USINT_TO_BYTE(BYTE_TO_USINT(FIFO.ID) + USINT#1); (* ID +1 *)\n\t\tFIFO.ID := ID; (* 输入 ID *)\n\n\tELSIF STATE < BYTE#200 THEN\n\t\tSTATE := BYTE#255;\n\t\tRETURN;\n\tEND_IF;\nEND_IF;\n\nIF STATE = BYTE#1 AND NOT FIFO.FULL THEN (* 注册 *)\n\ttmp := _BYTE_TO_INT(ID);\n\tIF FIFO.Y[tmp] < FIFO.MAX_ID THEN\n\t\tFIFO.Y[tmp] := USINT_TO_BYTE(BYTE_TO_USINT(FIFO.Y[tmp]) + USINT#1);\n\t\ttmp := FIFO.NW; (* 这里不行，暂时采用这种方式 *)\n\t\tFIFO.X[tmp] := ID;\n\t\tIF FIFO.NW = FIFO.TOP THEN FIFO.NW := 1; ELSE FIFO.NW := FIFO.NW + 1; END_IF;\n\t\tFIFO.FULL := FIFO.NW = FIFO.NR;\n\t\tFIFO.EMPTY := FALSE;\n\t\tSTATE := BYTE#2; (* 切换到“等待释放”状态 *)\n\tEND_IF;\nEND_IF;\n\nIF STATE = BYTE#2 AND NOT FIFO.EMPTY THEN (* 检查当前堆栈元素 *)\n\ttmp := FIFO.NR; (* 这里不行，暂时采用这种方式 *)\n\tIF ID = FIFO.X[tmp] THEN\n\t\tSTATE := BYTE#3; (* 切换到“访问授权”状态 *)\n\tEND_IF;\nEND_IF;\n\nIF STATE = BYTE#4 AND NOT FIFO.EMPTY THEN (* 从堆栈中移除 *)\n\ttmp := FIFO.NR; (* 这里不行，暂时采用这种方式 *)\n\tIF ID = FIFO.X[tmp] THEN\n\t\ttmp := _BYTE_TO_INT(ID); (* 这里不行，暂时采用这种方式 *)\n\t\tFIFO.Y[tmp] := USINT_TO_BYTE(BYTE_TO_USINT(FIFO.Y[tmp]) - USINT#1);\n\n\t\tIF FIFO.NR = FIFO.TOP THEN FIFO.NR := 1; ELSE FIFO.NR := FIFO.NR + 1; END_IF;\n\t\tFIFO.EMPTY := FIFO.NR = FIFO.NW;\n\t\tFIFO.FULL := FALSE;\n\tEND_IF;\n\tSTATE := BYTE#5; (* “移除完成” *)\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST代码判断X和Y之间的差是否在指定的精度范围内",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tY : REAL;\n\tN : INT;\nEND_VAR\n\nVAR\n\ttmp : REAL;\nEND_VAR\n\ntmp := ABS(x);\nIF tmp > 0.0 THEN\n\ttmp := EXP10(INT_TO_REAL(FLOOR(LOG(tmp)) - N + 1));\nELSE\n\ttmp := EXP10(tmp);\nEND_IF;\nCMP := ABS(X - Y) < tmp;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过计算对应的年份中的天数，判断是否跨年，给出ST语言代码",
      "input": "",
      "output": "VAR\n\tday1 : INT;\n\tday2 : INT;\n\tdayx : INT;\nEND_VAR\n\nVAR_INPUT\n\tD1 : UDINT;\n\tDx : UDINT;\n\tD2 : UDINT;\nEND_VAR\n\nday1 := day_of_year(d1);\nday2 := day_of_year(d2);\ndayx := day_of_year(dx);\nIF NOT leap_of_Date(dx) AND dayx > 58 THEN dayx := dayx + 1; END_IF;\nIF NOT leap_of_Date(d1) AND day1 > 58 THEN day1 := day1 + 1; END_IF;\nIF NOT leap_of_Date(d2) AND day2 > 58 THEN day2 := day2 + 1; END_IF;\n\nIF day2 < day1 THEN\n\t(* 跨年周期 *)\n\tperiod := dayx <= day2 OR dayx >= day1;\nELSE\n\tperiod := dayx >= day1 AND dayx <= day2;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D1",
          "type": "UDINT",
          "description": "输入参数D1"
        },
        {
          "name": "Dx",
          "type": "UDINT",
          "description": "输入参数Dx"
        },
        {
          "name": "D2",
          "type": "UDINT",
          "description": "输入参数D2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个带有去抖动、自动重新配置、调光、单击、双击和长按控制功能的调光器逻辑",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tVAL : BYTE := BYTE#255;\n\tIN : BOOL;\n\tRST : BOOL;\n\tT_DEBOUNCE : TIME := T#10ms;\n\tT_RECONFIG : TIME := T#10s;\n\tT_ON_MAX : TIME := T#0h;\n\tT_DIMM_START : TIME := T#1s;\n\tT_DIMM : TIME := T#3s;\n\tMIN_ON : BYTE := BYTE#50;\n\tMAX_ON : BYTE := BYTE#255;\n\tSOFT_DIMM : BOOL := TRUE;\n\tDBL_TOGGLE : BOOL;\n\tRST_OUT : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tDBL : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tOUT : BYTE := BYTE#0;\nEND_VAR\n\nVAR\n\tconfig : SW_RECONFIG;\n\tdecode : CLICK_MODE;\n\tt3 : TON;\n\tdim : _RMP_B;\n\tdir : BOOL;\nEND_VAR\n\n(* 输入首先通过自动重新配置和去抖动处理 *)\nconfig(IN := IN, TD := T_DEBOUNCE, TR := T_RECONFIG);\ndecode(in := config.Q, T_LONG := T_DIMM_START);\n\nIF RST THEN\n\tIF rst_out THEN out := BYTE#0; END_IF;\n\tQ := FALSE;\n\tdir := out > BYTE#127;\nELSIF set THEN\n\tout := val;\n\tQ := TRUE;\n\t(* 当值小于127时设置方向为上，否则设置为下，方向反转因为下一个动作会再次反转 *)\ndir := out > BYTE#127;\nELSIF decode.SINGLE THEN\n\t(* 单击反转输出Q *)\n\tQ := NOT Q;\n\t(* 当调光器打开时，我们需要限制输出在最小和最大限制之间 *)\n\tIF Q THEN OUT := INT_TO_BYTE(LIMIT_INT(MAX(_BYTE_TO_INT(MIN_ON),1), _BYTE_TO_INT(out), _BYTE_TO_INT(MAX_ON))); END_IF;\n\t(* 设置调光器的适当方向，方向反转因为下一个动作会再次反转 *)\ndir := OUT > BYTE#127;\nELSIF decode.TP_LONG THEN\n\tIF NOT Q THEN\n\t\tIF SOFT_DIMM THEN\n\t\t\tOUT := BYTE#1;\n\t\t\tdir := TRUE;\n\t\tELSE\n\t\t\tout := INT_TO_BYTE(LIMIT_INT(MAX(_BYTE_TO_INT(MIN_ON),1), _BYTE_TO_INT(out), _BYTE_TO_INT(MAX_ON)));\n\t\t\tDIR := out < BYTE#127;\n\t\tEND_IF;\n\t\tQ := TRUE;\n\tELSE\n\t\t(* 每次长按反转方向 *)\n\t\tdir := NOT dir;\n\tEND_IF;\nEND_IF;\n\n(* 设置双击输出 *)\nIF NOT dbl_toggle THEN dbl := FALSE; END_IF;\nIF decode.DOUBLE THEN dbl := NOT dbl; END_IF;\n\n(* 当调光器处于活动状态时，逐渐调节输出的升降 *)\ndim(DIR := dir, e := decode.LONG AND Q, TR := T_DIMM, rmp := out);\nOUT := dim.RMP;\n(* 达到限制时反转方向 *)\nIF out = BYTE#0 THEN\n\tdir := TRUE;\nELSIF out = BYTE#255 THEN\n\tdir := FALSE;\nEND_IF;\n\n(* 限制最大运行时间 *)\nIF t_ON_MAX > t#0s THEN\n\tt3(in := q, pt := T_ON_MAX);\n\tQ := Q XOR t3.Q;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "VAL",
          "type": "BYTE",
          "description": "比较值"
        },
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "T_DEBOUNCE",
          "type": "TIME",
          "description": "输入参数T_DEBOUNCE"
        },
        {
          "name": "T_RECONFIG",
          "type": "TIME",
          "description": "输入参数T_RECONFIG"
        },
        {
          "name": "T_ON_MAX",
          "type": "TIME",
          "description": "输入参数T_ON_MAX"
        },
        {
          "name": "T_DIMM_START",
          "type": "TIME",
          "description": "输入参数T_DIMM_START"
        },
        {
          "name": "T_DIMM",
          "type": "TIME",
          "description": "输入参数T_DIMM"
        },
        {
          "name": "MIN_ON",
          "type": "BYTE",
          "description": "输入参数MIN_ON"
        },
        {
          "name": "MAX_ON",
          "type": "BYTE",
          "description": "输入参数MAX_ON"
        },
        {
          "name": "SOFT_DIMM",
          "type": "BOOL",
          "description": "输入参数SOFT_DIMM"
        },
        {
          "name": "DBL_TOGGLE",
          "type": "BOOL",
          "description": "输入参数DBL_TOGGLE"
        },
        {
          "name": "RST_OUT",
          "type": "BOOL",
          "description": "输入参数RST_OUT"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "DBL",
          "type": "BOOL",
          "description": "输出参数DBL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言计算平面上两点之间的直线距离",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tY : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HYPOT\nIEC_LANGUAGE: ST\n*)\nHYPOT := SQRT(x*x + y*y);",
      "description": "HYPOT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入的浮动值限制在指定的范围内，并通过指定的比特宽度计算相应的输出值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tBIT_0 : INT;\n\tBIT_N : INT;\n\tSIGN : INT;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nVAR\n\tin2 : REAL;\n\tsx : BOOL;\nEND_VAR\n\n(* 如果定义了符号位 *)\nIF sign < 32 THEN\n\tsx := sign_R(in);\n\tin2 := ABS(in);\nELSE\n\tsx := FALSE;\n\tin2 := in;\nEND_IF;\n\n(* 将in限制在允许的值范围内 *)\n\tin2 := LIMIT_REAL(low, in2, high);\n\n(* 计算输出值 *)\n\tAOUT1 := SHL_DWORD(_REAL_TO_DWORD((in2 - low) / (high - low) * UDINT_TO_REAL(DWORD_TO_UDINT(SHL(DWORD#2#1,bit_n - Bit_0 + 1)) - UDINT#1)),Bit_0);\nIF sx THEN AOUT1 := SHL(DWORD#2#1,sign) OR AOUT1; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "BIT_0",
          "type": "INT",
          "description": "输入参数BIT_0"
        },
        {
          "name": "BIT_N",
          "type": "INT",
          "description": "输入参数BIT_N"
        },
        {
          "name": "SIGN",
          "type": "INT",
          "description": "输入参数SIGN"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st代码将两个三维向量A和B相加",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tB : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_ADD : oscat_vector_3;\nEND_VAR\n\nV3_ADD.X := A.X + B.X;\nV3_ADD.Y := A.Y + B.Y;\nV3_ADD.Z := A.Z + B.Z;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "oscat_vector_3",
          "description": "输入值B"
        }
      ],
      "outputs": [
        {
          "name": "V3_ADD",
          "type": "oscat_vector_3",
          "description": "输出参数V3_ADD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "控制两点式执行器的st代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\n\tTEST : BOOL;\n\tARE : BOOL := TRUE;\n\tCYCLE_TIME : TIME;\n\tSENS : BYTE;\n\tSELF_ACT_TIME : TIME;\n\tSELF_ACT_PULSE : TIME;\n\tSELF_ACT_CYCLES : INT := 1;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : BOOL;\n\tARO : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tARX : BOOL;\nEND_VAR\n\nVAR\n\ttimer : AUTORUN;\n\tpwgen : GEN_PULSE;\nEND_VAR\n\n(* 运行自动定时器 *)\ntimer(trun := MUL_T_AI(SELF_ACT_PULSE,2 * SELF_ACT_CYCLES), toff := SELF_ACT_TIME, Test := TEST, ARE := ARE, arx := ARX);\nARX := timer.ARX;\nARO := timer.ARO;\n\n(* 运行脉冲宽度生成器 *)\nIF ARO THEN\n\tpwgen(PTL := SELF_ACT_PULSE, PTH := SELF_ACT_PULSE);\n\tOUT := pwgen.Q;\nELSIF IN < SENS THEN\n\tOUT := FALSE;\nELSIF BYTE_TO_USINT(IN) > USINT#255 - BYTE_TO_USINT(SENS) THEN\n\tOUT := TRUE;\nELSE\n\tpwgen.PTH := (CYCLE_TIME * BYTE_TO_TIME(BAND_B(IN,SENS))) / BYTE_TO_TIME(BYTE#255);\npwgen.PTL := CYCLE_TIME - pwgen.PTH;\npwgen();\n\tOUT := pwgen.Q;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        },
        {
          "name": "TEST",
          "type": "BOOL",
          "description": "输入参数TEST"
        },
        {
          "name": "ARE",
          "type": "BOOL",
          "description": "输入参数ARE"
        },
        {
          "name": "CYCLE_TIME",
          "type": "TIME",
          "description": "输入参数CYCLE_TIME"
        },
        {
          "name": "SENS",
          "type": "BYTE",
          "description": "输入参数SENS"
        },
        {
          "name": "SELF_ACT_TIME",
          "type": "TIME",
          "description": "输入参数SELF_ACT_TIME"
        },
        {
          "name": "SELF_ACT_PULSE",
          "type": "TIME",
          "description": "输入参数SELF_ACT_PULSE"
        },
        {
          "name": "SELF_ACT_CYCLES",
          "type": "INT",
          "description": "输入参数SELF_ACT_CYCLES"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "BOOL",
          "description": "输出值"
        },
        {
          "name": "ARO",
          "type": "BOOL",
          "description": "输出参数ARO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据铂金传感器的电阻值计算温度怎么用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tRES : REAL;\n\tR0 : REAL;\nEND_VAR\n\nVAR\n\tstep : REAL := REAL#50.0;\n\tX : REAL;\n\tY : REAL;\n\tt1 : REAL;\nEND_VAR\n\nX := 3.9083E-3 * R0;\nY := -5.775E-7 * R0;\nIF Res >= R0 THEN\n\tt1 := X * X - 4.0 * Y * (R0 - Res);\n\tIF t1 < 0.0 THEN\n\t\tTEMP_PT := 10000.0;\n\tELSE\n\t\tTEMP_PT := (-X + SQRT(t1)) / (2.0 * Y);\n\tEND_IF;\nELSE\n\t(* 由于公式无法解出，因此使用逐次逼近法 *)\n\tTEMP_PT := -100.0;\n\tWHILE step > 0.01 DO\n\t\t(* 测试结果是大于还是小于 *)\n\t\tIF RES_PT(TEMP_PT, R0) < res THEN TEMP_PT := TEMP_PT + step; ELSE TEMP_PT := TEMP_PT - step; END_IF;\n\t\tstep := step * 0.5;\n\tEND_WHILE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RES",
          "type": "REAL",
          "description": "输入参数RES"
        },
        {
          "name": "R0",
          "type": "REAL",
          "description": "输入参数R0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用状态机控制不同的步进操作，确保输出在给定的限制范围内。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tSU : BOOL;\n\tSD : BOOL;\n\tFU : BOOL;\n\tFD : BOOL;\n\tRST : BOOL;\n\tSS : REAL := 0.1;\n\tFS : REAL := 5.0;\n\tLIMIT_L : REAL;\n\tLIMIT_H : REAL := 100.0;\n\tRST_VAL : REAL;\n\tSET_VAL : REAL := 100.0;\n\tTR : TIME := T#500ms;\n\tS1 : REAL := 2.0;\n\tS2 : REAL := 10.0;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\ttx : UDINT;\n\tstart : UDINT;\n\tstate : INT;\n\tin : BOOL;\n\tstep : REAL;\n\tspeed : REAL;\n\tY_start : REAL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* read system time *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\nIF rst THEN\n\tY := RST_val;\n\tstate := 0;\nELSIF set THEN\n\tY := SET_val;\n\tstate := 0;\nELSIF state > 0 THEN\n\t(* key has been pushed state machine operating *)\n\t(* first read the correct input *)\n\tCASE state OF\n\t\t1 : (* slow up *)\n\t\t\tin := su;\n\t\t2 : (* slow down *)\n\t\t\tin := sd;\n\t\t3 : (* fast up *)\n\t\t\tin := fu;\n\t\t4 : (* fast down *)\n\t\t\tin := fd;\n\tEND_CASE;\n\t(* check for single step operation *)\n\tIF NOT in AND tx - start <= TIME_TO_UDINT(TR) THEN\n\t\tY := Y_start + step;\n\t\tstate := 0;\n\t(* check if ramp needs to be generated *)\n\tELSIF in AND tx - start >= TIME_TO_UDINT(TR) THEN\n\t\tY := Y_start + UDINT_TO_REAL(tx - start - TIME_TO_UDINT(TR)) * speed;\n\tELSIF NOT in THEN\n\t\tstate := 0;\nEND_IF;\nELSIF su THEN\n\t(* slow step up *)\n\tstate := 1;\n\tstart := tx;\n\tstep := ss;\n\tspeed := s1 * 1.0E-3;\n\tY_start := Y;\nELSIF sd THEN\n\t(* slow step down *)\n\tstate := 2;\n\tstart := tx;\n\tstep := -ss;\n\tspeed := -s1 * 1.0E-3;\n\tY_start := Y;\nELSIF fu THEN\n\t(* fast step up *)\n\tstate := 3;\n\tstart := tx;\n\tstep := fs;\n\tspeed := s2 * 1.0E-3;\n\ty_start := Y;\nELSIF fd THEN\n\t(* fast step down *)\n\tstate := 4;\n\tstart := tx;\n\tstep := -fs;\n\tspeed := -s2 * 1.0E-3;\n\ty_start := Y;\nEND_IF;\n\n(* make sure output does not exceed limits *)\nY := LIMIT(LIMIT_L, Y, LIMIT_H);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "SU",
          "type": "BOOL",
          "description": "输入参数SU"
        },
        {
          "name": "SD",
          "type": "BOOL",
          "description": "输入参数SD"
        },
        {
          "name": "FU",
          "type": "BOOL",
          "description": "输入参数FU"
        },
        {
          "name": "FD",
          "type": "BOOL",
          "description": "输入参数FD"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "SS",
          "type": "REAL",
          "description": "输入参数SS"
        },
        {
          "name": "FS",
          "type": "REAL",
          "description": "输入参数FS"
        },
        {
          "name": "LIMIT_L",
          "type": "REAL",
          "description": "输入参数LIMIT_L"
        },
        {
          "name": "LIMIT_H",
          "type": "REAL",
          "description": "输入参数LIMIT_H"
        },
        {
          "name": "RST_VAL",
          "type": "REAL",
          "description": "输入参数RST_VAL"
        },
        {
          "name": "SET_VAL",
          "type": "REAL",
          "description": "输入参数SET_VAL"
        },
        {
          "name": "TR",
          "type": "TIME",
          "description": "输入参数TR"
        },
        {
          "name": "S1",
          "type": "REAL",
          "description": "输入参数S1"
        },
        {
          "name": "S2",
          "type": "REAL",
          "description": "输入参数S2"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么基于PLC检查输入信号X是否超出两对设定的上下限，并根据这些限制发出警报信号",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tLO_1 : REAL;\n\tHI_1 : REAL;\n\tLO_2 : REAL;\n\tHI_2 : REAL;\n\tHYS : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ1_LO : BOOL;\n\tQ1_HI : BOOL;\n\tQ2_LO : BOOL;\n\tQ2_HI : BOOL;\nEND_VAR\n\nVAR\n\ttmp : REAL;\nEND_VAR\n\ntmp := X - HYS * 0.5;\nIF tmp > LO_1 THEN Q1_LO := FALSE; END_IF;\nIF tmp > LO_2 THEN Q2_LO := FALSE; END_IF;\nIF tmp > HI_1 THEN Q1_HI := TRUE; END_IF;\nIF tmp > HI_2 THEN Q2_HI := TRUE; END_IF;\ntmp := tmp + HYS;\nIF tmp < LO_1 THEN Q1_LO := TRUE; END_IF;\nIF tmp < LO_2 THEN Q2_LO := TRUE; END_IF;\nIF tmp < HI_1 THEN Q1_HI := FALSE; END_IF;\nIF tmp < HI_2 THEN Q2_HI := FALSE; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "LO_1",
          "type": "REAL",
          "description": "输入参数LO_1"
        },
        {
          "name": "HI_1",
          "type": "REAL",
          "description": "输入参数HI_1"
        },
        {
          "name": "LO_2",
          "type": "REAL",
          "description": "输入参数LO_2"
        },
        {
          "name": "HI_2",
          "type": "REAL",
          "description": "输入参数HI_2"
        },
        {
          "name": "HYS",
          "type": "REAL",
          "description": "输入参数HYS"
        }
      ],
      "outputs": [
        {
          "name": "Q1_LO",
          "type": "BOOL",
          "description": "输出参数Q1_LO"
        },
        {
          "name": "Q1_HI",
          "type": "BOOL",
          "description": "输出参数Q1_HI"
        },
        {
          "name": "Q2_LO",
          "type": "BOOL",
          "description": "输出参数Q2_LO"
        },
        {
          "name": "Q2_HI",
          "type": "BOOL",
          "description": "输出参数Q2_HI"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据VALUE和DELTA的变化将数据写入循环缓冲区怎么用st语言写代码",
      "input": "",
      "output": "VAR_INPUT\n\tVALUE : DINT;\n\tCOLUMN : oscat_STRING40;\n\tDELTA : DINT;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_DLOG_DATA;\nEND_VAR\n\nVAR\n\tucb : UNI_CIRCULAR_BUFFER;\n\tinit : BOOL;\n\tid : WORD;\n\tdelta_last : DINT;\n\tvalue_last : DINT;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tid := WORD#16#0801;\nEND_IF;\n\nIF X.ADD_HEADER THEN\n\tX.UCB.D_STRING := COLUMN;\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\nELSIF X.ADD_DATA THEN\n\tX.UCB.D_STRING := DINT_TO_STRING(value_last, '%d');\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\n\tdelta_last := value_last;\nELSIF DELTA <> DINT#0 THEN\n\tIF VALUE <= (delta_last - DELTA) OR VALUE >= (delta_last + DELTA) THEN\n\t\tX.ADD_DATA_REQ := TRUE;\n\t\tdelta_last := VALUE;\n\tEND_IF;\nEND_IF;\nvalue_last := VALUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "VALUE",
          "type": "DINT",
          "description": "输入参数VALUE"
        },
        {
          "name": "COLUMN",
          "type": "oscat_STRING40",
          "description": "输入参数COLUMN"
        },
        {
          "name": "DELTA",
          "type": "DINT",
          "description": "输入参数DELTA"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据传入的UTC时间计算是否处于夏令时",
      "input": "",
      "output": "VAR_INPUT\n\tUTC : UDINT;\nEND_VAR\n\nVAR\n\tyr : INT;\n\tyr4 : UDINT;\n\tltc : UDINT;\n\tidate : UDINT;\nEND_VAR\n\nyr := YEAR_OF_DATE(DT_TO_DATE(UTC));\nltc := UTC;\nidate := SET_DT(yr, 3, 31, 1, 0, 0);\nyr4 := DWORD_TO_UDINT(SHR(INT_TO_DWORD(5 * yr), 2)) + UDINT#1;\nDST := (idate - ((yr4 + UDINT#3) MOD UDINT#7) * UDINT#86400 <= ltc) AND (idate + (UDINT#214 - (yr4) MOD UDINT#7) * UDINT#86400 > ltc);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UTC",
          "type": "UDINT",
          "description": "输入参数UTC"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何生成循环冗余校验",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\n\tPL : UINT;\n\tPN : DWORD;\n\tINIT : DWORD;\n\tREV_IN : BOOL;\n\tREV_OUT : BOOL;\n\tXOR_OUT : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tCRC_GEN : DWORD;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tshift : INT;\n\tdx : BYTE;\n\tbits : INT;\nEND_VAR\n\n(* 对齐多边形 *)\nshift := 32 - UINT_TO_INT(PL);\nPN := SHL(PN, shift);\n\n(* 将前4个字节加载到寄存器中，最小消息大小为4字节\n\t对于更小的消息，从开头填充0#s*)\nFOR pos := 0 TO 3 DO\n\tIF REV_IN THEN CRC_GEN := SHL(CRC_GEN, 8) OR BYTE_TO_DWORD(REVERSE(PT[pos])); ELSE CRC_GEN := SHL(CRC_GEN, 8) OR BYTE_TO_DWORD(PT[pos]); END_IF;\nEND_FOR;\npos := 4;\n\n(* 与初始化值进行异或运算 *)\nCRC_GEN := CRC_GEN XOR SHL(init, shift);\n\n(* 为每个字节计算CRC *)\nWHILE pos < UINT_TO_INT(size) DO\n\tIF REV_IN THEN DX := REVERSE(PT[pos]); ELSE DX := PT[pos]; END_IF;\n\tpos := pos + 1;\n\t(* 对一个字节进行CRC计算 *)\n\tFOR bits := 0 TO 7 DO\n\t\tIF (CRC_GEN AND DWORD#16#8000_0000) > DWORD#0 THEN (* CRC_GEN.31 *)\n\t\t\tCRC_GEN := (SHL(CRC_GEN, 1) OR BOOL_TO_DWORD((DX AND BYTE#16#80) > BYTE#0)) XOR PN; (* DX.7 *)\n\t\tELSE\n\t\t\tCRC_GEN := SHL(CRC_GEN, 1) OR BOOL_TO_DWORD((DX AND BYTE#16#80) > BYTE#0); (* DX.7 *)\n\t\tEND_IF;\n\t\tdx := SHL(dx, 1);\n\tEND_FOR;\nEND_WHILE;\n\n(* 所有字节都处理完，需要完成32位寄存器 *)\nFOR bits := 0 TO 31 DO\n\tIF (CRC_GEN AND DWORD#16#8000_0000) > DWORD#0 THEN (* CRC_GEN.31 *)\n\t\tCRC_GEN := (SHL(CRC_GEN, 1) OR BOOL_TO_DWORD((DX AND BYTE#16#80) > BYTE#0)) XOR PN; (* DX.7 *)\n\tELSE\n\t\tCRC_GEN := SHL(CRC_GEN, 1) OR BOOL_TO_DWORD((DX AND BYTE#16#80) > BYTE#0); (* DX.7 *)\n\tEND_IF;\nEND_FOR;\n\n(* 最后的异或运算 *)\nCRC_GEN := SHR(CRC_GEN, shift) XOR XOR_OUT;\n\n(* 如果需要，反转输出的CRC值 *)\nIF REV_OUT THEN CRC_GEN := REFLECT(CRC_GEN, UINT_TO_INT(PL)); END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "PL",
          "type": "UINT",
          "description": "输入参数PL"
        },
        {
          "name": "PN",
          "type": "DWORD",
          "description": "输入参数PN"
        },
        {
          "name": "INIT",
          "type": "DWORD",
          "description": "输入参数INIT"
        },
        {
          "name": "REV_IN",
          "type": "BOOL",
          "description": "输入参数REV_IN"
        },
        {
          "name": "REV_OUT",
          "type": "BOOL",
          "description": "输入参数REV_OUT"
        },
        {
          "name": "XOR_OUT",
          "type": "DWORD",
          "description": "输入参数XOR_OUT"
        }
      ],
      "outputs": [
        {
          "name": "CRC_GEN",
          "type": "DWORD",
          "description": "输出参数CRC_GEN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入信号的上升沿和下降沿，以及设定的短脉冲和长脉冲时间，生成相应的脉冲输出",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tT_SHORT : TIME := T#100ms;\n\tT_LONG : TIME := T#1s;\nEND_VAR\n\nVAR_OUTPUT\n\tSHORT : BOOL;\n\tMIDDLE : BOOL;\n\tLONG : BOOL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\ttn : TIME;\n\tedge : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 重置输出，它们应只在一个周期内激活 *)\nshort := FALSE;\nMiddle := FALSE;\nlong := FALSE;\n\n(* 检测上升沿 *)\nIF in AND NOT edge THEN\n\tedge := TRUE;\n\ttn := tx;\n\n(* 检测下降沿 *)\nELSIF NOT in AND edge THEN\n\tedge := FALSE;\n\ttn := tx - tn;\n\tIF tn < t_short THEN\n\t\tshort := TRUE;\n\tELSIF tn > t_long THEN\n\t\tlong := TRUE;\n\tELSE\n\t\tMiddle := TRUE;\n\tEND_IF;\n\n(* 当达到T_long时生成长脉冲 *)\nELSIF in AND tx - tn > t_long THEN\n\tlong := TRUE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "T_SHORT",
          "type": "TIME",
          "description": "输入参数T_SHORT"
        },
        {
          "name": "T_LONG",
          "type": "TIME",
          "description": "输入参数T_LONG"
        }
      ],
      "outputs": [
        {
          "name": "SHORT",
          "type": "BOOL",
          "description": "输出参数SHORT"
        },
        {
          "name": "MIDDLE",
          "type": "BOOL",
          "description": "输出参数MIDDLE"
        },
        {
          "name": "LONG",
          "type": "BOOL",
          "description": "输出参数LONG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么根据输入X与上次的值进行比较，以检测输入值的变化",
      "input": "",
      "output": "VAR_INPUT\n\tX : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tTU : BOOL;\n\tTD : BOOL;\n\tD : DWORD;\nEND_VAR\n\nVAR\n\tLAST_X : DWORD;\nEND_VAR\n\nIF X > last_X THEN\n\tTU := TRUE;\n\tTD := FALSE;\n\tD := UDINT_TO_DWORD(DWORD_TO_UDINT(X) - DWORD_TO_UDINT(last_X));\n\tQ := TRUE;\nELSIF X < last_X THEN\n\tTD := TRUE;\n\tTU := FALSE;\n\tD := UDINT_TO_DWORD(DWORD_TO_UDINT(last_X) - DWORD_TO_UDINT(X));\n\tQ := FALSE;\nELSE\n\tTU := FALSE;\n\tTD := FALSE;\n\tD := DWORD#0;\nEND_IF;\n\nlast_X := X;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "DWORD",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "TU",
          "type": "BOOL",
          "description": "输出参数TU"
        },
        {
          "name": "TD",
          "type": "BOOL",
          "description": "输出参数TD"
        },
        {
          "name": "D",
          "type": "DWORD",
          "description": "输出参数D"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "判断字节值是否是URL中允许的字符怎么用ST代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nIS_URLCHR := ((IN>BYTE#47) AND (IN<BYTE#58)) OR ((IN>BYTE#64) AND (IN<BYTE#91)) OR ((IN>BYTE#96) AND (IN<BYTE#123)) OR (in=BYTE#126) OR (in=BYTE#95) OR (in=BYTE#45) OR (in=BYTE#46);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将DWORD类型的输入转换为UDINT类型",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nDWORD_TO_DATE := DWORD_TO_UDINT(IN);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么基于st语言使用选择器根据输入信号的值为输出赋值",
      "input": "",
      "output": "VAR_INPUT\n\tD0 : BOOL;\n\tD1 : BOOL;\n\tA0 : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MUX_2\nIEC_LANGUAGE: ST\n*)\nMUX_2 := SEL(A0, D0, D1);",
      "description": "MUX_2功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D1",
          "type": "BOOL",
          "description": "输入参数D1"
        },
        {
          "name": "A0",
          "type": "BOOL",
          "description": "输入参数A0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码将向量A的每个分量与标量M相乘",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tM : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_SMUL : oscat_vector_3;\nEND_VAR\n\nV3_SMUL.X := A.X * M;\nV3_SMUL.Y := A.Y * M;\nV3_SMUL.Z := A.Z * M;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "M",
          "type": "REAL",
          "description": "输入参数M"
        }
      ],
      "outputs": [
        {
          "name": "V3_SMUL",
          "type": "oscat_vector_3",
          "description": "输出参数V3_SMUL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算复数X的双曲余弦值怎么编",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCCOSH : oscat_complex;\nEND_VAR\n\nCCOSH.re := cosH(X.re) * COS(X.im);\nCCOSH.im := sinH(X.re) * SIN(X.im);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CCOSH",
          "type": "oscat_complex",
          "description": "输出参数CCOSH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言计算并更新一个周期性变化的相位值",
      "input": "",
      "output": "VAR_INPUT\n\tXDT : UDINT;\n\tSCALE : BYTE := BYTE#12;\n\tUPDATE : TIME := T#1h;\nEND_VAR\n\nVAR_OUTPUT\n\tPHASE : BYTE;\nEND_VAR\n\nVAR\n\tx : UDINT;\n\tlast_dt : UDINT;\nEND_VAR\n\nIF XDT - last_dt > TIME_TO_UDINT(UPDATE) THEN\n\tx := (XDT - UDINT#603240) MOD UDINT#2551392;\n\tPHASE := UDINT_TO_BYTE(BYTE_TO_UDINT(SCALE) * x / UDINT#2551392);\n\tlast_dt := XDT;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "XDT",
          "type": "UDINT",
          "description": "输入参数XDT"
        },
        {
          "name": "SCALE",
          "type": "BYTE",
          "description": "输入参数SCALE"
        },
        {
          "name": "UPDATE",
          "type": "TIME",
          "description": "输入参数UPDATE"
        }
      ],
      "outputs": [
        {
          "name": "PHASE",
          "type": "BYTE",
          "description": "输出参数PHASE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的年份、月份和日期计算出自纪元以来的秒数，给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tYEAR : INT;\n\tMONTH : INT;\n\tDAY : INT;\nEND_VAR\n\nVAR\n\tcount : INT;\nEND_VAR\n\nIF month > 2 THEN\n\tcount := (month - 1) * 30;\n\tIF month > 7 THEN\n\t\tcount := count + DWORD_TO_INT(SHR_DWORD(DINT_TO_DWORD(INT_TO_DINT(month) - INT_TO_DINT(3)), 1));\n\tELSE\n\t\tcount := count + DWORD_TO_INT(SHR_DWORD(DINT_TO_DWORD(INT_TO_DINT(month) - INT_TO_DINT(4)), 1));\n\tEND_IF;\n\t(* 检查是否为闰年，如果是则加一天 *)\n\tIF SHL_WORD(INT_TO_WORD(year), 14) = WORD#0 THEN\n\t\tcount := count + 1;\n\tEND_IF;\nELSE\n\tcount := (month - 1) * 31;\nEND_IF;\nSET_DATE := (_INT_TO_UDINT(count + day - 1) + DWORD_TO_UDINT(SHR(UDINT_TO_DWORD(_INT_TO_UDINT(year) * UDINT#1461 - UDINT#2878169), 2))) * UDINT#86400;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "YEAR",
          "type": "INT",
          "description": "输入参数YEAR"
        },
        {
          "name": "MONTH",
          "type": "INT",
          "description": "输入参数MONTH"
        },
        {
          "name": "DAY",
          "type": "INT",
          "description": "输入参数DAY"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将缓冲区中的所有字符转换为大写",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_BUFFER_UPPERCASE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tsize2 : INT;\nEND_VAR\n\npos := 0;\nsize2 := UINT_TO_INT(SIZE);\n\nWHILE pos < size2 DO\n\tPT[pos] := TO_UPPER(PT[pos]);\n\tpos := pos + 1;\nEND_WHILE;\n\n_BUFFER_UPPERCASE := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_BUFFER_UPPERCASE",
          "type": "BOOL",
          "description": "输出参数_BUFFER_UPPERCASE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算数组中的最大值与最小值之差？给出代码",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_SPR : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\tarray_max : REAL;\n\tarray_min : REAL;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\n\narray_min := pt[1];\narray_max := pt[1];\nFOR i := 2 TO stop DO\n\tIF pt[i] > array_max THEN array_max := pt[i];\n\tELSIF pt[i] < array_min THEN array_min := pt[i];\n\tEND_IF;\nEND_FOR;\narray_spr := array_max - array_min;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_SPR",
          "type": "REAL",
          "description": "输出参数ARRAY_SPR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成一个具有可配置的上电延时和断电延时的信号，用ST语言",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tT_ON : TIME;\n\tT_OFF : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tX : TON;\n\told : BOOL;\n\tmode : BOOL;\nEND_VAR\n\nIF IN XOR old THEN\n\tX(IN := FALSE, PT := SEL_TIME(IN, T_OFF, T_ON));\n\tmode := IN;\n\told := IN;\nEND_IF;\nX(IN := TRUE);\nIF X.Q THEN Q := mode; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "T_ON",
          "type": "TIME",
          "description": "输入参数T_ON"
        },
        {
          "name": "T_OFF",
          "type": "TIME",
          "description": "输入参数T_OFF"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将输入的整数BFT转换为一个浮点数",
      "input": "",
      "output": "VAR_INPUT\n\tBFT : INT;\nEND_VAR\n\nBFT_TO_MS := EXPT(INT_TO_REAL(BFT), 1.5) * 0.836;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "BFT",
          "type": "INT",
          "description": "输入参数BFT"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用PLC测量和计算电流消耗的代码是什么？",
      "input": "",
      "output": "VAR_INPUT\n\tM1 : REAL;\n\tM2 : REAL;\n\tI1 : BOOL;\n\tI2 : BOOL;\n\tD : REAL := 1.0;\n\tRST : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tMX : REAL;\nEND_VAR\n\nVAR RETAIN\n\tMR : REAL2;\nEND_VAR\n\nVAR\n\tMX1 : REAL;(* 当前 M1 和 M2 的消耗值 *)\n\tMX2 : REAL;(* 当前 M1 和 M2 的消耗值 *)\n\ttx : UDINT;\n\tlast : UDINT;\n\ttc : REAL;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\n\tR2_ADD : R2_ADD;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: METER\nIEC_LANGUAGE: ST\n*)\n(* 测量上一个周期时间，并确保每毫秒执行一次 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\tmr.RX := mx;\n\tmr.R1 := 0.0;\nELSIF tx = last THEN\n\tRETURN;\nELSE\n\ttc := UDINT_TO_REAL(tx - last) * 0.001;\nEND_IF;\nlast := tx;\n\n(* 重置 *)\nIF rst THEN\n\tmr.R1 := 0.0;\n\tmr.RX := 0.0;\nELSE\n\t(* 当前消耗测量 *)\n\tMX1 := SEL(I1,0.0,M1);\n\tMX2 := SEL(I2,0.0,M2);\n\t(* 将当前值加总为双精度浮点数 *)\n\tR2_ADD(X := MR, Y := (SEL(I1, 0.0, MX1) + SEL(I2, 0.0, MX2)) / D * TC);\n\tMR := R2_ADD.R2_ADD;\n\t(* 设置当前输出值 *)\n\tMX := mr.RX;\nEND_IF;",
      "description": "METER功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "M1",
          "type": "REAL",
          "description": "输入参数M1"
        },
        {
          "name": "M2",
          "type": "REAL",
          "description": "输入参数M2"
        },
        {
          "name": "I1",
          "type": "BOOL",
          "description": "输入信号1"
        },
        {
          "name": "I2",
          "type": "BOOL",
          "description": "输入信号2"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "输入参数D"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个带有PID控制的闭环控制系统",
      "input": "",
      "output": "VAR_INPUT\n\tACT : REAL;\n\tSET : REAL;\n\tSUP : REAL;\n\tOFS : REAL;\n\tM_I : REAL;\n\tMAN : BOOL;\n\tRST : BOOL := FALSE;\n\tKP : REAL := 1.0;\n\tTN : REAL := 1.0;\n\tTV : REAL := 1.0;\n\tLL : REAL := -1000.0;\n\tLH : REAL := 1000.0;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tDIFF : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tpid : FT_PIDWL;\n\tco : CTRL_OUT;\nEND_VAR\n\nDIFF := CTRL_IN(SET, ACT, SUP);\npid(in := DIFF, kp := KP, tn := TN, tv := TV, lim_l := LL, lim_h := LH, rst := RST);\nco(ci := pid.Y, OFFSET := OFS, man_in := M_I, lim_l := LL, lim_h := LH, manual := MAN);\nY := co.Y;\nLIM := co.LIM;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ACT",
          "type": "REAL",
          "description": "输入参数ACT"
        },
        {
          "name": "SET",
          "type": "REAL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "SUP",
          "type": "REAL",
          "description": "输入参数SUP"
        },
        {
          "name": "OFS",
          "type": "REAL",
          "description": "输入参数OFS"
        },
        {
          "name": "M_I",
          "type": "REAL",
          "description": "输入参数M_I"
        },
        {
          "name": "MAN",
          "type": "BOOL",
          "description": "手动模式"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "输入参数KP"
        },
        {
          "name": "TN",
          "type": "REAL",
          "description": "输入参数TN"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "输入参数TV"
        },
        {
          "name": "LL",
          "type": "REAL",
          "description": "输入参数LL"
        },
        {
          "name": "LH",
          "type": "REAL",
          "description": "输入参数LH"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        },
        {
          "name": "DIFF",
          "type": "REAL",
          "description": "输出参数DIFF"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "输出参数LIM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算复数的双曲正弦值，并将结果存储在复数的实部和虚部中",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCSINH : oscat_complex;\nEND_VAR\n\nCSINH.re := sinH(X.re) * COS(X.im);\nCSINH.im := cosH(X.re) * SIN(X.im);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CSINH",
          "type": "oscat_complex",
          "description": "输出参数CSINH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的ITOD时间转换为字符串格式的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tITOD : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tTOD_STRING : STRING;\nEND_VAR\n\nVAR\n\tst_tmp1 : STRING;\n\tst_tmp2 : STRING;\n\tcur_hours : INT;\nEND_VAR\n\ncur_hours := hour(ITOD);\nIF cur_hours = 0 THEN\n\tst_tmp2 := '%01dh';\nELSE\n\tst_tmp2 := '%dh';\nEND_IF;\n\nst_tmp1 := CONCAT(INT_TO_STRING(cur_hours, st_tmp2), INT_TO_STRING(minute(ITOD), '%02dm'));\nTOD_STRING := CONCAT(st_tmp1, UDINT_TO_STRING(ITOD MOD UDINT#60000 / UDINT#1000, '%02us'));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ITOD",
          "type": "UDINT",
          "description": "输入参数ITOD"
        }
      ],
      "outputs": [
        {
          "name": "TOD_STRING",
          "type": "STRING",
          "description": "输出参数TOD_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算以10为底的指数函数怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nexp10 := EXP(X * 2.30258509299405);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言编程实现一个基于触发器和时钟信号的移位寄存器，具有复位、设定和数据移位功能，能根据时钟的上升沿将数据在多个输出之间传递",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tD0 : BOOL;\n\tD7 : BOOL;\n\tCLK : BOOL;\n\tDN : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQ4 : BOOL;\n\tQ5 : BOOL;\n\tQ6 : BOOL;\n\tQ7 : BOOL;\nEND_VAR\n\nVAR\n\ttrig : R_TRIG;\nEND_VAR\n\n(* trig.Q 信号表示 clk 的上升沿 *)\ntrig(clk := clk);\n\nIF set OR rst THEN\n\tQ0 := NOT RST;\n\tQ1 := Q0;\n\tQ2 := Q0;\n\tQ3 := Q0;\n\tQ4 := Q0;\n\tQ5 := Q0;\n\tQ6 := Q0;\n\tQ7 := Q0;\nELSIF trig.Q THEN\n\tIF dn THEN\n\t\tQ0 := Q1;\n\t\tQ1 := Q2;\n\t\tQ2 := Q3;\n\t\tQ3 := Q4;\n\t\tQ4 := Q5;\n\t\tQ5 := Q6;\n\t\tQ6 := Q7;\n\t\tQ7 := D7;\n\tELSE\n\t\tQ7 := Q6;\n\t\tQ6 := Q5;\n\t\tQ5 := Q4;\n\t\tQ4 := Q3;\n\t\tQ3 := Q2;\n\t\tQ2 := Q1;\n\t\tQ1 := Q0;\n\t\tQ0 := D0;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D7",
          "type": "BOOL",
          "description": "输入参数D7"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "Q7",
          "type": "BOOL",
          "description": "输出参数Q7"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据布尔变量D的值，执行不同的位操作怎么实现",
      "input": "",
      "output": "VAR_INPUT\n\tI : DWORD;\n\tD : BOOL;\n\tP : INT;\n\tN : INT;\nEND_VAR\n\nIF D THEN\n\tBIT_LOAD_DW2 := ROL(SHR(DWORD#16#FFFFFFFF, 32 - N) OR ROR(I, P), P);\nELSE\n\tBIT_LOAD_DW2 := ROL(SHL(DWORD#16#FFFFFFFF, N) AND ROR(I, P), P);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I",
          "type": "DWORD",
          "description": "输入参数I"
        },
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "P",
          "type": "INT",
          "description": "输入参数P"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入的字符串转换为HTML编码格式",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING250;\n\tM : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tHTML_ENCODE : oscat_STRING250;\nEND_VAR\n\nVAR\n\tpt_out : oscat_aB1_255;\n\tpos_in : INT;\n\tpos_out : INT;\n\tstop : INT;\n\tB : INT;\n\ttmp : oscat_STRING10;\n\ti : INT;\n\tBUF_TO_STRING : BUF_TO_STRING;\n\tCHARNAME : CHARNAME;\n\tCODE : CODE;\nEND_VAR\n\n(* 扫描输入字符串并转换不允许的字符 *)\npos_in := 1;\nstop := LEN(in);\nFOR pos_out := 1 TO 250 DO\n\tIF pos_in > stop THEN EXIT; END_IF;\n\tB := GET_CHAR(IN,pos_in);\n\tCASE B OF\n\t\t34:\n\t\t\tIF pos_out > 244 THEN EXIT; END_IF;\n\t\t\tpt_out[pos_out] := BYTE#38;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#113;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#117;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#111;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#116;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#59;\n\t\t38: (* 检测到 & *)\n\t\t\tIF pos_out > 245 THEN EXIT; END_IF;\n\t\t\tpt_out[pos_out] := BYTE#38;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#97;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#109;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#112;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#59;\n\t\t60: (* 检测到 < *)\n\t\t\tIF pos_out > 246 THEN EXIT; END_IF;\n\t\t\tpt_out[pos_out] := BYTE#38;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#108;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#116;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#59;\n\t\t62: (* 检测到 > *)\n\t\t\tIF pos_out > 246 THEN EXIT; END_IF;\n\t\t\tpt_out[pos_out] := BYTE#38;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#103;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#116;\n\t\t\tpos_out := pos_out + 1;\n\t\t\tpt_out[pos_out] := BYTE#59;\n\t\tELSE\n\t\t\tIF M AND B > 127 THEN\n\t\t\t\tCHARNAME(C:=INT_TO_BYTE(B));\n\t\t\t\ttmp := CHARNAME.CHARNAME;\n\t\t\t\t(* 如果输出字符串没有足够空间则退出 *)\n\t\t\t\tIF pos_out + LEN(tmp) + 2 <= 250 THEN\n\t\t\t\t\tpt_out[pos_out] := BYTE#38;\n\t\t\t\t\tpos_out := pos_out + 1;\n\t\t\t\t\tFOR i := 1 TO LEN(tmp) DO\n\t\t\t\t\t\tCODE(STR:=tmp,POS:=i);\n\t\t\t\t\t\tpt_out[pos_out] := CODE.CODE;\n\t\t\t\t\t\tpos_out := pos_out + 1;\n\t\t\t\t\tEND_FOR;\n\t\t\t\t\tpt_out[pos_out] := BYTE#59;\n\t\t\t\tEND_IF;\n\t\t\tELSE\n\t\t\t\tpt_out[pos_out] := INT_TO_BYTE(B);\n\t\t\tEND_IF;\n\t\tEND_CASE;\n\t\t(* 增加输入位置索引 *)\n\t\tpos_in := pos_in + 1;\nEND_FOR;\n\npos_out := pos_out - 1;\n\nFOR pos_in := 0 TO 1 DO\n\tBUF_TO_STRING.REQ := pos_in>0;\n\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\tBUF_TO_STRING.BUF_OFFS := DINT#0;\n\tBUF_TO_STRING.BUF_CNT := INT_TO_DINT(pos_out);\n\tBUF_TO_STRING.BUFFER := pt_out;\n\tBUF_TO_STRING.DST := HTML_ENCODE;\n\tBUF_TO_STRING();\n\tpt_out := BUF_TO_STRING.BUFFER;\n\tHTML_ENCODE := BUF_TO_STRING.DST;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING250",
          "description": "输入信号值"
        },
        {
          "name": "M",
          "type": "BOOL",
          "description": "输入参数M"
        }
      ],
      "outputs": [
        {
          "name": "HTML_ENCODE",
          "type": "oscat_STRING250",
          "description": "输出参数HTML_ENCODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "读取系统时间并计算与上次时间的差值怎么在plc上实现",
      "input": "",
      "output": "VAR_OUTPUT\n\tTC : DWORD;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ttx : UDINT;\n\tlast : UDINT;\n\tT_PLC_US : T_PLC_US;\nEND_VAR\n\n(* 读取系统时间并准备输入数据 *)\nT_PLC_US();\ntx := T_PLC_US.T_PLC_US;\n\nIF NOT init THEN\n\tinit := TRUE;\n\tTC := DWORD#0;\nELSE\n\ttc := UDINT_TO_DWORD(tx - last);\nEND_IF;\nlast := tx;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "TC",
          "type": "DWORD",
          "description": "输出参数TC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成一段ST语言代码，去除字符串中的前导和尾随空格",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tTRIME : STRING;\nEND_VAR\n\nTRIME := str;\nIF LEN(TRIME) < 1 THEN RETURN; END_IF;\n\nWHILE (GET_CHAR(TRIME, 1) = 32) DO\n\tTRIME := DELETE(TRIME, 1, 1);\nEND_WHILE;\n\n(* 去除结尾的空格 *)\nWHILE (GET_CHAR(TRIME, LEN(TRIME)) = 32) DO\n\tTRIME := DELETE(TRIME, 1, LEN(TRIME));\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "TRIME",
          "type": "STRING",
          "description": "输出参数TRIME"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "Base64编码和MD5哈希计算怎么在PLC上实现",
      "input": "",
      "output": "VAR_IN_OUT\n\tRUN : BOOL;\n\tUSERNAME : oscat_STRING64;\n\tPASSWORD : oscat_STRING64;\n\tB64_TS : oscat_STRING64;(*Base64 编码的服务器时间戳*)\n\tAUTH_KEY : oscat_STRING192;\nEND_VAR\n\nVAR\n\tBASE64_DECODE_STR : BASE64_DECODE_STR;\n\tBASE64_ENCODE_STR : BASE64_ENCODE_STR;\n\tMD5_STREAM : MD5_STREAM;\n\tstep : INT;\n\tmd5_mode : INT;\n\tbuf : oscat_aB0_63;\n\tmd5 : oscat_aB0_15;\n\tmd5_first : oscat_aB0_15;\n\tmd5_str1 : oscat_STRING64;\n\tmd5_str2 : oscat_STRING64;\n\tsize : UDINT;\n\tn1 : INT;\n\tn2 : INT;\n\tpos : UDINT;\n\tb64d_run : BOOL;\n\tb64d_done : BOOL;\n\tb64e_run : BOOL;\n\tb64e_done : BOOL;\n\tstr_192 : oscat_STRING192;\n\tstr_144 : oscat_STRING144;\n\txpad : BYTE;\n\tCODE : CODE;\n\tMD5_TO_STRH : MD5_TO_STRH;\nEND_VAR\n\nCASE step OF\n\n0: IF RUN THEN\n\t\tstep := 5;\n\t\tstr_192 := B64_TS;\n\t\tb64d_run := TRUE;\nEND_IF;\n\n5: IF B64D_DONE THEN\n\t\tb64d_run := FALSE;\n\t\txpad := BYTE#16#36;\n\t\tmd5_str1 := PASSWORD;\n\t\tmd5_str2 := str_144;\n\t\tsize := INT_TO_UDINT(64 + LEN(md5_str2));\n\t\tmd5_mode := 1;\n\t\tstep := 10;\nEND_IF;\n\n10: IF md5_mode = 3 THEN\n\t\tmd5_first := md5;\n\t\txpad := BYTE#16#5C;\n\t\tsize := INT_TO_UDINT(64 + 16);\n\t\tmd5_mode := 1;\n\t\tstep := 20;\nEND_IF;\n\n20: IF md5_mode = 3 THEN\n\t\tmd5_mode := 0;\n\t\tMD5_TO_STRH(MD5:=md5);\n\t\tstr_144 := CONCAT(USERNAME , ' ');\n\t\tstr_144 := CONCAT(str_144 , MD5_TO_STRH.MD5_TO_STRH);\n\t\tb64e_run := TRUE;\n\t\tstep := 30;\nEND_IF;\n\n30: IF B64E_DONE THEN\n\t\tAUTH_KEY := str_192;\n\t\tb64e_run := FALSE;\n\t\tRUN := FALSE;\n\t\tstep := 0;\nEND_IF;\n\nEND_CASE;\n\nCASE md5_mode OF\n\n1: n2 := LEN(md5_str1) - 1;\n\tFOR n1 := 0 TO n2 DO\n\t\tCODE(STR:=md5_str1,POS:=n1+1);\n\t\tbuf[n1] := CODE.CODE XOR xpad;\n\tEND_FOR;\n\tFOR n1 := n2 + 1 TO 63 DO\n\t\tbuf[n1] := xpad;\n\tEND_FOR;\n\n2: (* 数据复制和计算 *)\n\tIF size > UDINT#0 AND pos >= UDINT#64 THEN\n\t\tIF step = 20 THEN\n\t\t\tFOR n1 := 0 TO 15 DO\n\t\t\t\tbuf[n1] := md5_first[n1];\n\t\t\tEND_FOR;\n\t\tELSE\n\t\t\tn2 := LEN(md5_str2) - 1;\n\t\t\tFOR n1 := 0 TO n2 DO\n\t\t\t\tCODE(STR:=md5_str2,POS:=n1+1);\n\t\t\t\tbuf[n1] := CODE.CODE;\n\t\t\tEND_FOR;\n\t\tEND_IF;\n\tEND_IF;\n\nEND_CASE;\n\nIF md5_mode > 0 THEN\n\tMD5_STREAM.MODE := md5_mode;\n\tMD5_STREAM.BUF := buf;\n\tMD5_STREAM.MD5 := md5;\n\tMD5_STREAM.SIZE := size;\n\tMD5_STREAM();\n\tmd5_mode := MD5_STREAM.MODE;\n\tbuf := MD5_STREAM.BUF;\n\tmd5 := MD5_STREAM.MD5;\n\tsize := MD5_STREAM.SIZE;\n\tpos := MD5_STREAM.POS;\nEND_IF;\n\nBASE64_DECODE_STR.RUN := b64d_run;\nBASE64_DECODE_STR.STR1 := str_192;\nBASE64_DECODE_STR.STR2 := str_144;\nBASE64_DECODE_STR();\nb64d_done := BASE64_DECODE_STR.DONE;\nstr_192 := BASE64_DECODE_STR.STR1;\nstr_144 := BASE64_DECODE_STR.STR2;\n\nBASE64_ENCODE_STR.RUN := b64e_run;\nBASE64_ENCODE_STR.STR1 := str_144;\nBASE64_ENCODE_STR.STR2 := str_192;\nBASE64_ENCODE_STR();\nb64e_done := BASE64_ENCODE_STR.DONE;\nstr_144 := BASE64_ENCODE_STR.STR1;\nstr_192 := BASE64_ENCODE_STR.STR2;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给我比较输入值和前一个输入值的ST代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tX : DWORD;\nEND_VAR\n\nVAR\n\tlast_in : DWORD;\nEND_VAR\n\nQ := in <> last_in;\nX := UDINT_TO_DWORD(DWORD_TO_UDINT(in) - DWORD_TO_UDINT(last_in));\nlast_in := in;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "X",
          "type": "DWORD",
          "description": "输出参数X"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的角度，通过一定的位运算和转换，计算出一个方向字符串。这个程序的代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tDEG : INT;\n\tN : INT;\n\tL : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tDEG_TO_DIR : oscat_STRING3;\nEND_VAR\n\nVAR\n\tly : INT;\n\ty : INT;\n\tSETUP_DIRS : SETUP_DIRS;\n\tDIRS : oscat_DIRS;\n\tSETUP_LANGUAGE : SETUP_LANGUAGE;\n\tLANGUAGE : oscat_LANGUAGE;\nEND_VAR\n\nSETUP_DIRS(DIRS := DIRS);\nDIRS := SETUP_DIRS.DIRS;\nSETUP_LANGUAGE(LANGUAGE := LANGUAGE);\nLANGUAGE := SETUP_LANGUAGE.LANGUAGE;\n\nIF L = 0 THEN ly := LANGUAGE.DEFAULT; ELSE ly := MIN(L, LANGUAGE.LMAX); END_IF;\n\ny := ((WORD_TO_INT(SHL(INT_TO_WORD(DEG), N - 1)) + 45) / 90) MOD WORD_TO_INT(SHL(WORD#2, N)) * WORD_TO_INT(SHR(WORD#8, N));\nDEG_TO_DIR := DIRS[ly][y];",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEG",
          "type": "INT",
          "description": "输入参数DEG"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "L",
          "type": "INT",
          "description": "长度参数"
        }
      ],
      "outputs": [
        {
          "name": "DEG_TO_DIR",
          "type": "oscat_STRING3",
          "description": "输出参数DEG_TO_DIR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "编写一个plc程序，计算双精度实数的绝对值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL2;\nEND_VAR\n\nVAR_OUTPUT\n\tR2_ABS : REAL2;\nEND_VAR\n\nIF X.RX >= 0.0 THEN\n\tR2_ABS.RX := X.RX;\n\tR2_ABS.R1 := X.R1;\nELSE\n\tR2_ABS.RX := -X.RX;\n\tR2_ABS.R1 := -X.R1;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL2",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "R2_ABS",
          "type": "REAL2",
          "description": "双精度绝对值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入日期和偏移量计算新的日期",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\n\tD : INT;\n\tW : INT;\n\tM : INT;\n\tY : INT;\nEND_VAR\n\nVAR\n\tmo : INT;\n\tyr : INT;\n\tdm : INT;\nEND_VAR\n\nDATE_ADD := IDATE + INT_TO_UDINT(D + W * 7) * UDINT#86400;\nyr := Y + YEAR_OF_DATE(DATE_ADD);\nmo := M + MONTH_OF_DATE(DATE_ADD);\ndm := DAY_OF_MONTH(DATE_ADD);\nWHILE mo > 12 DO\n\tmo := mo - 12;\n\tyr := yr + 1;\nEND_WHILE;\nWHILE mo < 1 DO\n\tmo := mo + 12;\n\tyr := yr - 1;\nEND_WHILE;\nDATE_ADD := SET_DATE(yr, mo, dm);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        },
        {
          "name": "D",
          "type": "INT",
          "description": "输入参数D"
        },
        {
          "name": "W",
          "type": "INT",
          "description": "输入参数W"
        },
        {
          "name": "M",
          "type": "INT",
          "description": "输入参数M"
        },
        {
          "name": "Y",
          "type": "INT",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据手动模式和自动模式选择不同的输入，并将输出限制在指定的范围内",
      "input": "",
      "output": "VAR_INPUT\n\tCI : REAL;\n\tOFFSET : REAL;\n\tMAN_IN : REAL;\n\tLIM_L : REAL;\n\tLIM_H : REAL;\n\tMANUAL : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nY := SEL(manual, CI, MAN_IN) + OFFSET;\n\n(* 限制输出值 *)\nIF Y >= LIM_H THEN\n\tY := LIM_H;\n\tLIM := TRUE;\nELSIF Y <= lim_L THEN\n\tY := LIM_L;\n\tLIM := TRUE;\nELSE\n\tLIM := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CI",
          "type": "REAL",
          "description": "输入参数CI"
        },
        {
          "name": "OFFSET",
          "type": "REAL",
          "description": "输入参数OFFSET"
        },
        {
          "name": "MAN_IN",
          "type": "REAL",
          "description": "输入参数MAN_IN"
        },
        {
          "name": "LIM_L",
          "type": "REAL",
          "description": "输入参数LIM_L"
        },
        {
          "name": "LIM_H",
          "type": "REAL",
          "description": "输入参数LIM_H"
        },
        {
          "name": "MANUAL",
          "type": "BOOL",
          "description": "输入参数MANUAL"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "输出参数LIM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st语言编程提取输入整数IN的符号位",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DINT;\nEND_VAR\n\nsign_I := BIT_OF_DWORD(DINT_TO_DWORD(in),31);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DINT",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用随机数生成器和给定区间，生成一个在范围内的整数，怎么用st语言编写代码",
      "input": "",
      "output": "VAR_INPUT\nLAST : INT;\nLOW : INT;\nHIGH : INT;\nEND_VAR\n\nVAR_OUTPUT\nRDM2 : INT;\nEND_VAR\n\nVAR\nrdm : rdm;\nEND_VAR\n\nrdm(last := fract(INT_TO_REAL(last) * 3.14159265358979323846264338327950288));\nRDM2 := TRUNC_INT(rdm.RDM * INT_TO_REAL(high - low + 1)) + low;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LAST",
          "type": "INT",
          "description": "输入参数LAST"
        },
        {
          "name": "LOW",
          "type": "INT",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "INT",
          "description": "高阈值"
        }
      ],
      "outputs": [
        {
          "name": "RDM2",
          "type": "INT",
          "description": "输出参数RDM2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算双曲余弦的值怎么在PLC上写程序",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nVAR\n\tt : REAL;\nEND_VAR\n\nT := EXP(X);\nCOSH := (1.0 / T + T) * 0.5;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将内部实数值转换为适用于D/A转换器或其他输出设备的字或双字",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tBITS : BYTE;\n\tSIGN : BYTE;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nVAR\n\tin2 : REAL;\n\tsx : BOOL;\nEND_VAR\n\nIF sign < BYTE#32 THEN\n\tsx := sign_R(in);\n\tin2 := ABS(in);\nELSE\n\tin2 := in;\nEND_IF;\n\n(* 限制in在允许的值范围内 *)\n\tin2 := LIMIT(low, in2, high);\n\n(* 计算输出值 *)\n\tAout := _REAL_TO_DWORD((in2 - low) / (high - low) * (_DWORD_TO_REAL(SHL(DWORD#2#1,_BYTE_TO_INT(bits))) - 1.0));\nIF sx THEN Aout := SHL_DWORD(DWORD#2#1,_BYTE_TO_INT(sign)) OR Aout; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "BITS",
          "type": "BYTE",
          "description": "输入参数BITS"
        },
        {
          "name": "SIGN",
          "type": "BYTE",
          "description": "输入参数SIGN"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算复数的反正弦值怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCASIN : oscat_complex;\nEND_VAR\n\nVAR\n\tY : oscat_complex;\n\tCASINH : CASINH;\nEND_VAR\n\nY.re := -X.im;\nY.im := X.re;\nCASINH(X := Y);\nY := CASINH.CASINH;\nCASIN.re := Y.im;\nCASIN.im := -Y.re;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CASIN",
          "type": "oscat_complex",
          "description": "输出参数CASIN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言编一个简单的计算数值积分函数",
      "input": "",
      "output": "VAR_INPUT\nE : BOOL := TRUE;\nX : REAL;\nK : REAL := 1.0;\nEND_VAR\n\nVAR_IN_OUT\nY : REAL;\nEND_VAR\n\nVAR\nX_last : REAL;\ninit : BOOL;\nT_PLC_MS : T_PLC_MS;\nlast : UDINT;\ntx : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INTEGRATE\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\nIF NOT init THEN\ninit := TRUE;\nX_last := X;\nELSIF E THEN\nY := (X + X_LAST) * 0.5E-3 * UDINT_TO_REAL(tx - last) * K + Y;\nX_last := X;\nEND_IF;\nlast := tx;",
      "description": "数值积分功能，实现输入信号的积分运算。适用于流量累计、能量计算、位置跟踪等需要积分运算的应用场景。",
      "inputs": [
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        }
      ],
      "outputs": [],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第6章：数学函数和积分运算",
      "tags": [
        "数值积分",
        "信号积分",
        "流量累计",
        "能量计算",
        "位置跟踪"
      ]
    },
    {
      "instruction": "怎么用ST语言控制场景模式的选择，根据输入的条件启用或禁用特定场景",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tAI : BYTE;\n\tENABLE : BOOL;\n\tSWRITE : BOOL;\n\tSCENE : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\n\tPO : BYTE;\n\tAO : BYTE;\nEND_VAR\n\nVAR\n\tx : INT;\nEND_VAR\n\nVAR RETAIN\n\tsx : oscat_blind_scene_array;\nEND_VAR\n\n(* 删除场景中的所有位，保留最低的4位 *)\nx := _BYTE_TO_INT(scene AND BYTE#2#0000_1111);\n\nIF enable AND (sx[x][2] > BYTE#0) AND UP AND DN THEN\n\tpo := sx[x][0];\n\tao := sx[x][1];\n\tstatus := INT_TO_BYTE(160 + x); (* 状态编号是160到175，表示16个场景 *)\n\tQU := TRUE;\n\tQD := TRUE;\nELSE\n\tQU := UP;\n\tQD := DN;\n\tstatus := S_IN;\n\tpo := pi;\n\tao := ai;\nEND_IF;\n\n(* 如果需要写入场景 *)\nIF swrite THEN\n\tstatus := BYTE#176; (* 写入场景 *)\n\tsx[x][0] := pi;\n\tsx[x][1] := ai;\n\tIF enable THEN sx[x][2] := BYTE#1; ELSE sx[x][2] := BYTE#0; END_IF; (* 如果 sx[x][2] = 0，场景被禁用 *)\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "AI",
          "type": "BYTE",
          "description": "输入参数AI"
        },
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "SWRITE",
          "type": "BOOL",
          "description": "输入参数SWRITE"
        },
        {
          "name": "SCENE",
          "type": "BYTE",
          "description": "输入参数SCENE"
        }
      ],
      "outputs": [
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输出参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输出参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        },
        {
          "name": "PO",
          "type": "BYTE",
          "description": "输出参数PO"
        },
        {
          "name": "AO",
          "type": "BYTE",
          "description": "输出参数AO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入限制在一定范围内，并将其按比例转换为一个字节，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nRange_to_Byte := REAL_TO_BYTE(TRUNC_REAL((LIMIT(low,X,high)-low) * 255.0 / (high - low)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算复数的反正切值的ST代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCATAN : oscat_complex;\nEND_VAR\n\nVAR\n\tr2 : REAL;\n\tnum : REAL;\n\ts : REAL;\nEND_VAR\n\nr2 := X.re * X.re;\nden := 1.0 - r2 - X.im * X.im;\nCATAN.re := 0.5 * ATAN(2.0 * X.re / den);\nnum := X.im + 1.0;\nnum := r2 + num * num;\nden := X.im - 1.0;\nden := r2 + den * den;\nCATAN.im := 0.25 * (LN(num) - LN(den));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CATAN",
          "type": "oscat_complex",
          "description": "输出参数CATAN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据镍传感器的电阻值计算温度怎么用st语言写",
      "input": "",
      "output": "VAR_INPUT\n\tRES : REAL;\n\tR0 : REAL;\nEND_VAR\n\nTEMP_NI := (SQRT(0.30085225 - 2.66E-3 * (R0 - Res)) - 0.5485) * 751.8796992;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RES",
          "type": "REAL",
          "description": "输入参数RES"
        },
        {
          "name": "R0",
          "type": "REAL",
          "description": "输入参数R0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "遍历数组中的元素，并找出其中的最小值。用ST语言编程",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_MIN : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\narray_min := pt[1];\nFOR i := 2 TO stop DO\n\tIF pt[i] < array_min THEN array_min := pt[i]; END_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_MIN",
          "type": "REAL",
          "description": "输出参数ARRAY_MIN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个双精度实数与一个单精度实数相加怎么用st语言编写",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL2;\n\tY : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tR2_ADD : REAL2;\nEND_VAR\n\nVAR\n\ttemp : REAL;\nEND_VAR\n\ntemp := X.RX;\nR2_ADD.RX := Y + X.R1 + X.RX;\nR2_ADD.R1 := temp - R2_ADD.RX + Y + X.R1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL2",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "R2_ADD",
          "type": "REAL2",
          "description": "双精度加法结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现带有动态风限复位的PID控制器，给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tTN : REAL := 1.0;\n\tTV : REAL := 1.0;\n\tLIM_L : REAL := -1.0E38;\n\tLIM_H : REAL := 1.0E38;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tpiwl : FT_PIWL;\n\tdiff : FT_DERIV;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PIDWL\nIEC_LANGUAGE: ST\n*)\n(* 如果rst为真 *)\nIF rst THEN\n\tpiwl(rst := TRUE);\n\tpiwl.RST := FALSE;\nELSE\n\t(* 先运行PIWL控制器 *)\n\t(* 我们需要检查TN是否为0，并进行替代调用 *)\n\tIF TN = 0.0 THEN\n\t\tpiwl(in := IN * KP, KP := 1.0, KI := 0.0, LIM_L := LIM_L, LIM_H := LIM_H);\n\tELSE\n\t\tpiwl(in := IN * KP, KP := 1.0, KI := 1.0 / TN, LIM_L := LIM_L, LIM_H := LIM_H);\n\tEND_IF;\n\n\t(* 运行微分器并将结果加到输出中 *)\ndiff(IN := IN, K := KP * TV);\nY := piwl.Y + diff.out;\n\n\t(* 限制输出 *)\n\tIF Y < LIM_L THEN\n\t\tLIM := TRUE;\n\t\tY := LIM_L;\n\tELSIF Y > LIM_H THEN\n\t\tLIM := TRUE;\n\t\tY := LIM_H;\n\tELSE\n\t\tLIM := FALSE;\n\tEND_IF;\nEND_IF;",
      "description": "带有动态风限复位的PID控制器，结合抗积分饱和和微分先行技术。提供完整的PID功能同时避免积分饱和问题，适用于复杂工业过程控制，特别是需要频繁设定值变化或存在大扰动的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "TN",
          "type": "REAL",
          "description": "积分时间常数"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "微分时间常数"
        },
        {
          "name": "LIM_L/H",
          "type": "REAL",
          "description": "输出限幅范围"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "控制器复位"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PID控制器输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "限幅状态指示"
        }
      ],
      "library_dependency": "OSCAT库: FT_PIWL抗饱和PI控制器, FT_DERIV微分器",
      "iec_standard": "IEC 61131-3 改进型PID算法，抗饱和技术",
      "tags": [
        "风限复位",
        "抗饱和PID",
        "微分先行",
        "复杂过程",
        "设定值跟踪",
        "改进控制"
      ]
    },
    {
      "instruction": "如何编程将两个实数存储到复数的实部和虚部中",
      "input": "",
      "output": "VAR_INPUT\n\tRE : REAL;\n\tIM : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tCSET : oscat_complex;\nEND_VAR\n\nCSET.re := RE;\nCSET.im := IM;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RE",
          "type": "REAL",
          "description": "输入参数RE"
        },
        {
          "name": "IM",
          "type": "REAL",
          "description": "输入参数IM"
        }
      ],
      "outputs": [
        {
          "name": "CSET",
          "type": "oscat_complex",
          "description": "输出参数CSET"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么根据输入值和阈值计算输出值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tL : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nIF ABS(x) > L THEN\n\tY := X;\nELSIF Y > 0.0 THEN\n\tY := L;\nELSE\n\tY := -L;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "L",
          "type": "REAL",
          "description": "长度参数"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言编程计算复数X和Y的幂",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\n\tY : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCPOW : oscat_complex;\nEND_VAR\n\nVAR\n\tCLOG : CLOG;\n\tCEXP : CEXP;\n\tCMUL : CMUL;\nEND_VAR\n\nCLOG(X:=X);\nCMUL(X:=Y,Y:=CLOG.CLOG);\nCEXP(X:=CMUL.CMUL);\nCPOW := CEXP.CEXP;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "oscat_complex",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "CPOW",
          "type": "oscat_complex",
          "description": "输出参数CPOW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言计算X的N次方根",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tN : INT;\nEND_VAR\n\nIF N > 0 THEN\n\tSQRTN := EXP(LN(x) / INT_TO_REAL(n));\nELSE\n\tSQRTN := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算输入值的奇偶校验",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nVAR\n\tin2 : DWORD;\nEND_VAR\n\nin2:=in;\nWHILE in2 > DWORD#0 DO\n\tparity := parity XOR BIT_OF_DWORD(in2,0) XOR BIT_OF_DWORD(in2,1) XOR BIT_OF_DWORD(in2,2) XOR BIT_OF_DWORD(in2,3);\n\tin2 := SHR(in2,4);\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过ST语言将DWORD类型的输入转换为一个8位的十六进制字符串",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tDWORD_TO_STRH : STRING;\nEND_VAR\n\nDWORD_TO_STRH := DWORD_TO_STRING(IN, '%08X');",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "DWORD_TO_STRH",
          "type": "STRING",
          "description": "输出参数DWORD_TO_STRH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将字符串进行BASE64编码",
      "input": "",
      "output": "VAR_INPUT\n\tRUN : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDONE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tSTR1 : oscat_STRING144;\n\tSTR2 : oscat_STRING192;\nEND_VAR\n\nVAR\n\tBASE64_ENCODE_STREAM : BASE64_ENCODE_STREAM;\n\trun_last : BOOL;\n\tbuf1 : oscat_aB0_47;\n\tbuf2 : oscat_aB0_63;\n\tmode : INT;\n\tsize1 : INT;\n\tsize2 : INT;\n\tend : INT;\n\tpos : INT;\n\ti1 : INT;\n\ti2 : INT;\n\ti3 : INT;\n\tSTRx : oscat_STRING64;\n\tBTS : BUF_TO_STRING;\nEND_VAR\n\nCASE mode OF\n0: IF RUN AND NOT run_last THEN\n\tDONE := FALSE;\n\tmode := 1;\n\tend := LEN(STR1);\n\tpos := 0;\n\tSTR2 := '';\nEND_IF;\n1:\n\tSIZE1 := MIN(48, end - pos);\n\tIF SIZE1 > 0 THEN\n\n\t\ti2 := SIZE1 - 1;\n\t\ti3 := pos + 1;\n\t\tFOR i1 := 0 TO i2 DO\n\t\t\tbuf1[i1] := INT_TO_BYTE(GET_CHAR(STR1, i3));\n\t\t\ti3 := i3 + 1;\n\t\tEND_FOR;\n\n\t\tBASE64_ENCODE_STREAM(BUF1 := buf1, BUF2 := buf2, SIZE1 := SIZE1);\n\t\tbuf1 := BASE64_ENCODE_STREAM.BUF1;\n\t\tbuf2 := BASE64_ENCODE_STREAM.BUF2;\n\t\tSIZE2 := BASE64_ENCODE_STREAM.SIZE2;\n\n\t\tFOR i1 := 0 TO 1 DO\n\t\t\tBTS.REQ := i1 > 0;\n\t\t\tBTS.BUF_FORMAT := TRUE;\n\t\t\tBTS.BUF_OFFS := DINT#0;\n\t\t\tBTS.BUF_CNT := INT_TO_DINT(SIZE2);\n\t\t\tBTS.BUFFER := buf2;\n\t\t\tBTS.DST := STRx;\n\t\t\tBTS();\n\t\t\tbuf2 := BTS.BUFFER;\n\t\t\tSTRx := BTS.DST;\n\t\tEND_FOR;\n\t\tSTR2 := CONCAT(STR2, STRx);\n\tELSE\n\t\tmode := 0;\n\t\tDONE := TRUE;\n\tEND_IF;\n\tpos := pos + SIZE1;\nEND_CASE;\n\nrun_last := RUN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "输入参数RUN"
        }
      ],
      "outputs": [
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言编写四输入多路选择器",
      "input": "",
      "output": "VAR_INPUT\n\tD0 : BOOL;\n\tD1 : BOOL;\n\tD2 : BOOL;\n\tD3 : BOOL;\n\tA0 : BOOL;\n\tA1 : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MUX_4\nIEC_LANGUAGE: ST\n*)\nIF A1 THEN\n\tMUX_4 := SEL(A0, D2, D3);\nELSE\n\tMUX_4 := SEL(A0, D0, D1);\nEND_IF;",
      "description": "MUX_4功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D1",
          "type": "BOOL",
          "description": "输入参数D1"
        },
        {
          "name": "D2",
          "type": "BOOL",
          "description": "输入参数D2"
        },
        {
          "name": "D3",
          "type": "BOOL",
          "description": "输入参数D3"
        },
        {
          "name": "A0",
          "type": "BOOL",
          "description": "输入参数A0"
        },
        {
          "name": "A1",
          "type": "BOOL",
          "description": "输入参数A1"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入字符串中的字符按需要转换为UML格式的ST代码是？",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tREPLACE_UML : STRING;\nEND_VAR\n\nVAR\n\tpos1 : INT;\n\tpos2 : INT;\n\tl : INT;\n\tpto : BYTE;\n\ttemp : STRING;\n\tTO_UML : TO_UML;\nEND_VAR\n\nL := LEN(str);\nREPLACE_UML := str;\npos1 := 1;\npos2 := 1;\nWHILE pos1 <= L AND pos2 <= 80 DO\n\tpto := INT_TO_BYTE(GET_CHAR(str,pos1));\n\tIF pto > BYTE#127 THEN\n\t\tTO_UML(IN:=pto);\n\t\tIF LEN(TO_UML.TO_UML) = 2 THEN\n\t\t\ttemp := REPLACE_UML;\n\t\t\tIF pos2 >= 80 THEN\n\t\t\t\tTO_UML.TO_UML := LEFT(TO_UML.TO_UML,1);\n\t\t\t\tREPLACE_UML := REPLACE(temp,TO_UML.TO_UML,1,pos2);\n\t\t\tELSE\n\t\t\t\tREPLACE_UML := REPLACE(temp,TO_UML.TO_UML,1,pos2);\n\t\t\t\tPOS2 := POS2 + 1;\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tEND_IF;\npos1 := POS1 + 1;\npos2 := POS2 + 1;\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "REPLACE_UML",
          "type": "STRING",
          "description": "输出参数REPLACE_UML"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST代码编程，根据输入的压力，计算氨气的蒸气温度",
      "input": "",
      "output": "VAR_INPUT\n\tP : REAL;\nEND_VAR\n\nIF P < 1.0E-3 THEN\n\tSDT_NH3 := -110.0;\nELSIF P < 1.0 THEN\n\tSDT_NH3 := 506.713 / (3.18757 - LOG(P)) - 192.37;\nELSE\n\tSDT_NH3 := 1113.928 / (4.86886 - LOG(P)) - 262.71;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "P",
          "type": "REAL",
          "description": "输入参数P"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将指定区域的字符和颜色数据从屏幕上备份到数组中怎么用st语言编程",
      "input": "",
      "output": "VAR\n\tin_Offset_1 : INT;\n\tin_Offset_2 : INT;\n\tin_Y : INT;\n\tin_X : INT;\nEND_VAR\n\n(*Group:IN_OUT*)\n\nVAR_INPUT\n\tIin_Y1 : INT;\n\tIin_X1 : INT;\n\tIin_Y2 : INT;\n\tIin_X2 : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY2_ERROR(Iin_X1,Iin_Y1,Iin_X2,Iin_Y2) THEN RETURN; END_IF;\n\n(* 存储参数 *)\nXus_TN_SCREEN.bya_BACKUP[0] := BYTE#1;\nXus_TN_SCREEN.bya_BACKUP[1] := INT_TO_BYTE(Iin_X1);\nXus_TN_SCREEN.bya_BACKUP[2] := INT_TO_BYTE(Iin_Y1);\nXus_TN_SCREEN.bya_BACKUP[3] := INT_TO_BYTE(Iin_X2);\nXus_TN_SCREEN.bya_BACKUP[4] := INT_TO_BYTE(Iin_Y2);\n\nin_Offset_2 := 5;\n(* 保存BUFFER中的字符和颜色 *)\nFOR in_Y := Iin_Y1 TO Iin_Y2 DO\n\n\tin_Offset_1 := (in_Y * 80) + Iin_X1;\n\tFOR in_X := Iin_X1 TO Iin_X2 DO\n\n\t\tXus_TN_SCREEN.bya_BACKUP[in_Offset_2] := Xus_TN_SCREEN.bya_CHAR[in_Offset_1];\n\t\tin_Offset_2 := in_Offset_2 + INT#01;\n\n\t\tXus_TN_SCREEN.bya_BACKUP[in_Offset_2] := Xus_TN_SCREEN.bya_COLOR[in_Offset_1];\n\t\tin_Offset_2 := in_Offset_2 + INT#01;\n\t\tin_Offset_1 := in_Offset_1 + INT#01;\n\n\tEND_FOR;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y1",
          "type": "INT",
          "description": "输入参数Iin_Y1"
        },
        {
          "name": "Iin_X1",
          "type": "INT",
          "description": "输入参数Iin_X1"
        },
        {
          "name": "Iin_Y2",
          "type": "INT",
          "description": "输入参数Iin_Y2"
        },
        {
          "name": "Iin_X2",
          "type": "INT",
          "description": "输入参数Iin_X2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个简单的序列控制器？在PLC上",
      "input": "",
      "output": "VAR_INPUT\n\tSTART : BOOL;\n\tSMAX : INT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tSTATE : INT := INT#-1;\n\tTRIG : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPROG : oscat_array64_time;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttx : TIME;\n\tlast : TIME;\n\tedge : BOOL;\nEND_VAR\n\n(* 读取系统定时器 *)\nT_PLC_MS();\n\ttx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\nTRIG := FALSE;\n\nIF RST THEN\n\tSTATE := -1;\n\n(* 启动序列 *)\nELSIF START AND NOT edge THEN\n\tSTATE := 0;\n\tlast := tx;\n\tTRIG := TRUE;\n\n(* 序列生成器 *)\nELSIF (STATE >= 0) THEN\n\tIF (tx - last) >= PROG[STATE] THEN\n\t\tSTATE := INC2(STATE, 1, -1, SMAX);\n\t\tlast := tx;\n\t\tTRIG := TRUE;\n\tEND_IF;\nEND_IF;\n\nedge := START;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "START",
          "type": "BOOL",
          "description": "输入参数START"
        },
        {
          "name": "SMAX",
          "type": "INT",
          "description": "输入参数SMAX"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "STATE",
          "type": "INT",
          "description": "输出参数STATE"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在输入的字符串中从后向前查找，返回最后一个不是数字的字符的位置，给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tFINDB_NONUM : INT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tx : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FINDB_NONUM\nIEC_LANGUAGE: ST\n*)\npos := LEN(str);\nWHILE (pos >= 1) DO\n\tx := GET_CHAR(str,pos);\n\tIF (X < 48 AND X <> 46) OR X > 57 THEN\n\t\tfindB_nonum := pos;\n\t\tRETURN;\n\tEND_IF;\npos := pos - 1;\nEND_WHILE;\nfindB_nonum := 0;",
      "description": "反向非数字字符查找函数，从字符串末尾开始向前搜索第一个非数字字符。数字定义包括0-9和小数点。适用于从字符串末尾提取数值、文件扩展名解析、版本号处理等需要从后向前分析字符串的应用。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "待搜索的字符串"
        }
      ],
      "outputs": [
        {
          "name": "FINDB_NONUM",
          "type": "INT",
          "description": "最后一个非数字字符位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: GET_CHAR函数",
      "iec_standard": "IEC 61131-3 反向字符串处理，字符分类识别",
      "tags": [
        "反向查找",
        "非数字字符",
        "数值提取",
        "扩展名解析",
        "版本号处理",
        "字符串分析"
      ]
    },
    {
      "instruction": "怎么通过网络通信实现8个REAL值的数据写入与读取",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tIN3 : REAL;\n\tIN4 : REAL;\n\tIN5 : REAL;\n\tIN6 : REAL;\n\tIN7 : REAL;\n\tIN8 : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT1 : REAL;\n\tOUT2 : REAL;\n\tOUT3 : REAL;\n\tOUT4 : REAL;\n\tOUT5 : REAL;\n\tOUT6 : REAL;\n\tOUT7 : REAL;\n\tOUT8 : REAL;\n\tID : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_NET_VAR_DATA;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ti : INT;\n\ti2 : INT;\n\tindex : INT;\n\tindex2 : INT;\n\tr_dw : DWORD;\n\tREAL_TO_DW : REAL_TO_DW;\n\tDW_TO_REAL : DW_TO_REAL;\n\tra : oscat_nv_ra;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tID := USINT_TO_BYTE(X.ID_MAX);\nEND_IF;\n\nIF X.STATE > BYTE#0 AND X.ERROR_ID = BYTE#0 THEN\n\tindex := X.index; (* PCWORX 工作区解决方案 *)\n\tIF INT_TO_UINT(index + 34) > X.BUF_SIZE THEN (* ID (1) + TYPE (1) + 8 x REAL (4) *)\n\t\tX.ERROR_ID := ID;\n\tELSE\n\t\tIF X.STATE = BYTE#1 THEN (* 写入数据 *)\n\t\t\tra[1] := IN1;\n\t\t\tra[2] := IN2;\n\t\t\tra[3] := IN3;\n\t\t\tra[4] := IN4;\n\t\t\tra[5] := IN5;\n\t\t\tra[6] := IN6;\n\t\t\tra[7] := IN7;\n\t\t\tra[8] := IN8;\n\t\t\tX.S_BUF.BUFFER[index] := ID; (* ID *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE#15; (* 类型 REAL8 *)\n\t\t\tindex := index + 1;\n\t\t\tFOR i2 := 1 TO 8 DO;\n\t\t\t\tREAL_TO_DW(X:=ra[i2]);\n\t\t\t\tr_dw := REAL_TO_DW.REAL_TO_DW;\n\t\t\t\tFOR i := 1 TO 4 DO;\n\t\t\t\t\tX.S_BUF.BUFFER[index] := DWORD_TO_BYTE(r_dw);\n\t\t\t\t\tr_dw := ROR(r_dw,8);\n\t\t\t\t\tindex := index + 1;\n\t\t\t\tEND_FOR;\n\t\t\tEND_FOR;\n\t\tELSIF X.STATE = BYTE#2 THEN (* 读取数据 *)\n\t\t\tindex2 := index + 1; (* PCWORX 工作区解决方案 *)\n\t\t\tIF X.R_BUF.BUFFER[index] <> ID OR X.R_BUF.BUFFER[index2] <> BYTE#15 THEN (* 类型 REAL8 *)\n\t\t\t\tX.ERROR_ID := ID;\n\t\t\tELSE\n\t\t\t\tindex := index + 2;\n\t\t\t\tFOR i2 := 1 TO 8 DO;\n\t\t\t\t\tr_dw := DWORD#0;\n\t\t\t\t\tFOR i := 1 TO 4 DO;\n\t\t\t\t\t\tr_dw := r_dw OR BYTE_TO_DWORD(X.R_BUF.BUFFER[index]);\n\t\t\t\t\t\tr_dw := ROR(r_dw,8);\n\t\t\t\t\t\tindex := index + 1;\n\t\t\t\t\tEND_FOR;\n\t\t\t\t\tDW_TO_REAL(X:=r_dw);\n\t\t\t\t\tra[i2] := DW_TO_REAL.DW_TO_REAL;\n\t\t\t\tEND_FOR;\n\t\t\t\tOUT1 := ra[1];\n\t\t\t\tOUT2 := ra[2];\n\t\t\t\tOUT3 := ra[3];\n\t\t\t\tOUT4 := ra[4];\n\t\t\t\tOUT5 := ra[5];\n\t\t\t\tOUT6 := ra[6];\n\t\t\t\tOUT7 := ra[7];\n\t\t\t\tOUT8 := ra[8];\n\t\t\tEND_IF;\n\t\tEND_IF;\n\t\tX.index := index;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "REAL",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "REAL",
          "description": "输入参数IN4"
        },
        {
          "name": "IN5",
          "type": "REAL",
          "description": "输入参数IN5"
        },
        {
          "name": "IN6",
          "type": "REAL",
          "description": "输入参数IN6"
        },
        {
          "name": "IN7",
          "type": "REAL",
          "description": "输入参数IN7"
        },
        {
          "name": "IN8",
          "type": "REAL",
          "description": "输入参数IN8"
        }
      ],
      "outputs": [
        {
          "name": "OUT1",
          "type": "REAL",
          "description": "输出参数OUT1"
        },
        {
          "name": "OUT2",
          "type": "REAL",
          "description": "输出参数OUT2"
        },
        {
          "name": "OUT3",
          "type": "REAL",
          "description": "输出参数OUT3"
        },
        {
          "name": "OUT4",
          "type": "REAL",
          "description": "输出参数OUT4"
        },
        {
          "name": "OUT5",
          "type": "REAL",
          "description": "输出参数OUT5"
        },
        {
          "name": "OUT6",
          "type": "REAL",
          "description": "输出参数OUT6"
        },
        {
          "name": "OUT7",
          "type": "REAL",
          "description": "输出参数OUT7"
        },
        {
          "name": "OUT8",
          "type": "REAL",
          "description": "输出参数OUT8"
        },
        {
          "name": "ID",
          "type": "BYTE",
          "description": "输出参数ID"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据位置获取字符串中的字符怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tCODE : BYTE;\nEND_VAR\n\nIF pos < 1 OR pos > LEN(str) THEN\n\tCODE := BYTE#0;\n\tRETURN;\nELSE\n\tCODE := INT_TO_BYTE(GET_CHAR(STR,POS));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "CODE",
          "type": "BYTE",
          "description": "代码输出"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言检查输入字节是否为字母字符",
      "input": "",
      "output": "VAR_INPUT\nIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: ISC_ALPHA\nIEC_LANGUAGE: ST\n*)\nIF SETUP_EXTENDED_ASCII(FALSE) THEN\nISC_ALPHA := (in > BYTE#64 AND in < BYTE#91) OR (in > BYTE#191 AND in <> BYTE#215 AND in <> BYTE#247) OR (in > BYTE#96 AND in < BYTE#123);\nELSE\nISC_ALPHA := (IN > BYTE#64 AND IN < BYTE#91) OR (in > BYTE#96 AND in < BYTE#123);\nEND_IF;",
      "description": "ISC_ALPHA功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将弧度转换为角度的ST代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tRAD : REAL;\nEND_VAR\n\nDEG := MODR(57.29577951308232 * RAD, 360.0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RAD",
          "type": "REAL",
          "description": "输入参数RAD"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算硅传感器在-50℃到+150℃温度范围内的电阻值怎么在PLC上编程",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tRS : REAL;\n\tTS : REAL;\nEND_VAR\n\nVAR\n\tTX : REAL;\nEND_VAR\n\nTX := T - TS;\nRES_SI := RS * (1.0 + 7.64E-3 * TX + 1.66E-5 * TX * TX);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "RS",
          "type": "REAL",
          "description": "输入参数RS"
        },
        {
          "name": "TS",
          "type": "REAL",
          "description": "输入参数TS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言编程判断输入字节是否为大写字母",
      "input": "",
      "output": "VAR_INPUT\nIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: ISC_UPPER\nIEC_LANGUAGE: ST\n*)\nIF SETUP_EXTENDED_ASCII(FALSE) THEN\nISC_UPPER := ((in > BYTE#64) AND (in < BYTE#91)) OR (((in > BYTE#191) AND (in < BYTE#223)) AND (in <> BYTE#215));\nELSE\nISC_UPPER := ((in > BYTE#64) AND (in < BYTE#91));\nEND_IF;",
      "description": "ISC_UPPER功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "复数的平方根怎么编程计算",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCSQRT : oscat_complex;\nEND_VAR\n\nVAR\n\ttemp : REAL;\nEND_VAR\n\ntemp := HYPOT(x.re, x.im);\nCSQRT.re := SQRT(0.5 * (temp + x.re));\nCSQRT.im := INT_TO_REAL(sgn(x.im)) * SQRT(0.5 * (temp - x.re));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CSQRT",
          "type": "oscat_complex",
          "description": "输出参数CSQRT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算古德曼函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GDF\nIEC_LANGUAGE: ST\n*)\nIF X = 0.0 THEN\n\tGDF := 0.0;\nELSIF X > 15.0 THEN\n\tGDF := 1.5707963267949;\nELSIF X < -15.0 THEN\n\tGDF := -1.5707963267949;\nELSE\n\tGDF := ATAN(EXP(X)) * 2.0 - 1.5707963267949;\nEND_IF;",
      "description": "GDF功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何比较两个输入值的绝对差是否大于指定的阈值",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tX : REAL;\nEND_VAR\n\nDIFFER := ABS(in1 - in2) > X;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST代码检查两个IP地址在子网掩码SM下是否相同",
      "input": "",
      "output": "VAR_INPUT\n\tNIP : DWORD;\n\tLIP : DWORD;\n\tSM : DWORD;\nEND_VAR\n\nIP4_CHECK := (NIP AND sm) = (LIP AND SM);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "NIP",
          "type": "DWORD",
          "description": "输入参数NIP"
        },
        {
          "name": "LIP",
          "type": "DWORD",
          "description": "输入参数LIP"
        },
        {
          "name": "SM",
          "type": "DWORD",
          "description": "输入参数SM"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给我一个触发器，其输出在时钟信号CLK的每个上升沿翻转状态",
      "input": "",
      "output": "VAR_INPUT\n\tCLK : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\nEND_VAR\n\nIF rst THEN\n\tQ := FALSE;\nELSIF clk AND NOT edge THEN\n\tQ := NOT Q;\nEND_IF;\nedge := clk;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个带有滞回作用的比较功能",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tON : REAL;\n\tOFF : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tWIN : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HYST\nIEC_LANGUAGE: ST\n*)\nIF ON >= OFF THEN\n\tIF IN < OFF THEN\n\t\tQ := FALSE;\n\t\tWIN := FALSE;\n\tELSIF IN > ON THEN\n\t\tQ := TRUE;\n\t\tWIN := FALSE;\n\tELSE\n\t\tWIN := TRUE;\n\tEND_IF;\nELSE\n\tIF IN > OFF THEN\n\t\tQ := FALSE;\n\t\tWIN := FALSE;\n\tELSIF IN < ON THEN\n\t\tQ := TRUE;\n\t\tWIN := FALSE;\n\tELSE\n\t\tWIN := TRUE;\n\tEND_IF;\nEND_IF;",
      "description": "滞回比较器功能，实现具有迟滞特性的比较逻辑。适用于噪声抑制、状态保持、开关控制等需要防止抖动的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "ON",
          "type": "REAL",
          "description": "开启阈值"
        },
        {
          "name": "OFF",
          "type": "REAL",
          "description": "关闭阈值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "WIN",
          "type": "BOOL",
          "description": "窗口状态"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第5章：比较器和滞回控制",
      "tags": [
        "滞回比较",
        "噪声抑制",
        "状态保持",
        "开关控制",
        "防抖处理"
      ]
    },
    {
      "instruction": "用ST语言实现一个锁存器",
      "input": "",
      "output": "VAR_INPUT\n\tD : BOOL;\n\tL : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LTCH\nIEC_LANGUAGE: ST\n*)\n(* 只要 L 为 true，锁存器是透明的，D 的变化会被传递到 Q *)\n(* 当然，前提是没有异步复位 *)\nIF rst THEN (* 如果是异步复位，则 Q = 0 *)\n\tQ := FALSE;\nELSIF L THEN (* 锁存器是透明的 *)\n\tQ := D;\nEND_IF;",
      "description": "LTCH功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "L",
          "type": "BOOL",
          "description": "长度参数"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言实现在不同的能量单位之间进行转换",
      "input": "",
      "output": "VAR_INPUT\n\tJ : REAL;\n\tC : REAL;\n\tWH : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tYJ : REAL;\n\tYC : REAL;\n\tYWH : REAL;\nEND_VAR\n\nYJ := J + WH * 3600.0 + C * 4.1868;\nYC := YJ * 0.238845896627496;\nYWH := YJ * 2.7777777778E-004;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "J",
          "type": "REAL",
          "description": "JK触发器J输入"
        },
        {
          "name": "C",
          "type": "REAL",
          "description": "字符参数"
        },
        {
          "name": "WH",
          "type": "REAL",
          "description": "输入参数WH"
        }
      ],
      "outputs": [
        {
          "name": "YJ",
          "type": "REAL",
          "description": "输出参数YJ"
        },
        {
          "name": "YC",
          "type": "REAL",
          "description": "输出参数YC"
        },
        {
          "name": "YWH",
          "type": "REAL",
          "description": "输出参数YWH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据PLC的系统时钟滴答数和时钟因子计算系统时间",
      "input": "",
      "output": "VAR_OUTPUT\n\tT_PLC_MS : UDINT;\nEND_VAR\n\nVAR_EXTERNAL\n\tPLC_TICKS_PER_SEC : INT;(*每秒系统时钟滴答数*)\n\tPLC_SYS_TICK_CNT : DINT;(*系统时钟滴答计数*)\nEND_VAR\n\n(*Group:Debug-Parameter*)\n\nVAR\n\tdebug : BOOL;(*调试模式开/关*)\n\tN : INT;(*调试因子*)\n\tOffset : UDINT;(*调试偏移量*)\n\ttemp : DWORD := DWORD#1;(*调试偏移量*)\n\tmode : BOOL;(*模式*)\n\tfaktor : UDINT;(*系统时钟因子*)\n\tinit : BOOL;\n\tv_plc_ticks_per_sec : UDINT;\n\tbase : UDINT := UDINT#1000;\nEND_VAR\n\nIF init = FALSE THEN\n\tv_plc_ticks_per_sec := INT_TO_UDINT(PLC_TICKS_PER_SEC);\n\tIF v_plc_ticks_per_sec = UDINT#1024 THEN\n\t\tfaktor := UDINT#1;\n\t\tmode := FALSE;\n\tELSIF v_plc_ticks_per_sec > UDINT#0 THEN\n\t\tIF v_plc_ticks_per_sec <= base THEN\n\t\t\tfaktor := base / v_plc_ticks_per_sec;\n\t\t\tmode := FALSE;\n\t\tELSE\n\t\t\tfaktor := v_plc_ticks_per_sec / base;\n\t\t\tmode := TRUE;\n\t\tEND_IF;\n\tELSE\n\t\tfaktor := UDINT#1;\n\tEND_IF;\n\tinit := TRUE;\nEND_IF;\n\nIF mode THEN\n\tT_PLC_MS := DINT_TO_UDINT(PLC_SYS_TICK_CNT) / faktor;\nELSE\n\tT_PLC_MS := DINT_TO_UDINT(PLC_SYS_TICK_CNT) * faktor;\nEND_IF;\n\nIF debug THEN\n\tT_PLC_MS := (DWORD_TO_UDINT(SHL(UDINT_TO_DWORD(T_PLC_MS),N) OR SHL(temp,N)) - UDINT#1) + Offset;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "T_PLC_MS",
          "type": "UDINT",
          "description": "输出参数T_PLC_MS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st代码实现一个4位移位寄存器并带有复位功能",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tD0 : BOOL;\n\tCLK : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\ttrig : R_TRIG;\nEND_VAR\n\n(* trig.Q 信号表示 CLK 的上升沿 *)\ntrig(clk := clk);\n\nIF set OR rst THEN\n\tQ0 := NOT RST;\n\tQ1 := Q0;\n\tQ2 := Q0;\n\tQ3 := Q0;\nELSIF trig.Q THEN\n\tQ3 := Q2;\n\tQ2 := Q1;\n\tQ1 := Q0;\n\tQ0 := D0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么清空缓冲区并检查是否成功",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_CLEAR : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR\n\terr : INT;\n\tresult : WORD;\nEND_VAR\n\nresult := MEMSET(err, BYTE#00, UINT_TO_DINT(SIZE), PT[0]);\nBUFFER_CLEAR := (err = 0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_CLEAR",
          "type": "BOOL",
          "description": "输出参数BUFFER_CLEAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言计算正态分布的累积分布函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tU : REAL;\n\tSI : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GAUSSCD\nIEC_LANGUAGE: ST\n*)\nGAUSSCD := (ERF((X - U) / (SI * 1.414213562)) + 1.0) * 0.5;",
      "description": "GAUSSCD功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "U",
          "type": "REAL",
          "description": "输入参数U"
        },
        {
          "name": "SI",
          "type": "REAL",
          "description": "输入参数SI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将指定位置和大小的字符串转换为字节并存储到缓冲区",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tPOS : INT;\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_STRING_TO_BUFFER : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR\n\ti : INT;\n\tend : INT;\n\tx : INT;\nEND_VAR\n\nIF POS < 0 THEN RETURN; END_IF;\nend := MIN(POS + LEN(STR), UINT_TO_INT(SIZE)) - 1;\nx := 1;\nFOR i := POS TO end DO\n\tPT[i] := INT_TO_BYTE(GET_CHAR(STR, x));\n\tx := x + 1;\nEND_FOR;\n\n_STRING_TO_BUFFER := i;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        },
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_STRING_TO_BUFFER",
          "type": "INT",
          "description": "输出参数_STRING_TO_BUFFER"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何在plc上实现双曲余弦函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF ABS(x) < 2.0E-3 THEN\n\tSINH := X;\nELSE\n\tSINH := (EXP(x) - EXP(-x)) * 0.5;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个用于WORD格式数据的可编程长度的移动平均滤波器",
      "input": "",
      "output": "VAR_INPUT\n\tX : WORD;\n\tN : UINT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : WORD;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tbuffer : oscat_FILTER_MAV_W;\n\ti : INT;\n\tsum : UDINT;\n\ttmp : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILTER_MAV_W\nIEC_LANGUAGE: ST\n*)\n(* 限制 N 为缓冲区的大小 *)\nN := MIN(N, UINT#32);\n\n(* 启动初始化 *)\nIF NOT init OR rst OR N = UINT#0 THEN\n\tinit := TRUE;\n\ttmp := UINT_TO_INT(N) - 1;\n\tFOR i := 1 TO tmp DO\n\t\tbuffer[i] := X;\n\tEND_FOR;\n\tsum := UINT_TO_UDINT(WORD_TO_UINT(Y) * N);\n\tY := X;\nELSE\n\ttmp := UINT_TO_INT(N);\n\ti := INC1(i, tmp);\n\tsum := sum + WORD_TO_UDINT(X) - WORD_TO_UDINT(buffer[i]);\n\tY := UDINT_TO_WORD(sum / UINT_TO_UDINT(N));\n\tbuffer[i] := X;\nEND_IF;",
      "description": "WORD类型移动平均滤波器，采用累加和优化算法提高计算效率。维护内部累加和避免重复计算，适合16位数据平滑处理。适用于模拟量输入滤波、传感器数据处理、趋势分析等工业应用。",
      "inputs": [
        {
          "name": "X",
          "type": "WORD",
          "description": "输入信号(无符号字)"
        },
        {
          "name": "N",
          "type": "UINT",
          "description": "移动平均窗口长度(1-32)"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重新初始化缓冲区"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "WORD",
          "description": "移动平均输出结果"
        }
      ],
      "library_dependency": "OSCAT库: oscat_FILTER_MAV_W数组类型, INC1函数",
      "iec_standard": "IEC 61131-3 优化移动平均，累加和算法",
      "tags": [
        "字类型滤波",
        "累加和优化",
        "16位数据",
        "模拟量滤波",
        "传感器处理",
        "高效计算"
      ]
    },
    {
      "instruction": "查找列表中指定次数出现的分隔符，提取该分隔符之后的子字符串并返回。用st代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\n\tPOS : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLIST_GET : oscat_STRING250;\nEND_VAR\n\nVAR\n\ti : INT;\n\ti2 : INT;\n\tcnt : INT;\n\tsize : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_GET\nIEC_LANGUAGE: ST\n*)\ncnt := 0;\nsize := LEN(LIST);\n\n(* 查找分隔符的第n次出现，并将位置存储在i中 *)\nFOR i := 1 TO size DO\n\tIF cnt = pos THEN EXIT; END_IF;\n\tIF INT_TO_BYTE(GET_CHAR(LIST,i)) = SEP THEN\n\t\tcnt := cnt + 1;\n\tEND_IF;\nEND_FOR;\n\nFOR i2 := i TO size DO\n\tIF INT_TO_BYTE(GET_CHAR(LIST,i2)) = SEP THEN EXIT; END_IF; \nEND_FOR;\n\nIF i2 > i THEN\n\tLIST_GET := MID(LIST,i2-i,i);\nELSE\n\tLIST_GET := '';\nEND_IF;",
      "description": "LIST_GET功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "LIST_GET",
          "type": "oscat_STRING250",
          "description": "输出参数LIST_GET"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用单目相机自动修正TCP的XYZ坐标",
      "input": "",
      "output": "PROC test90()\n\tMoveL p900,v1000,fine,mytool1,WObj:=wobj0;\n\t\t! mytool1为标准tcp\n\ttoolNew.tframe.trans:=[0,0,0];\n\ttcp_correct p900,5,mytool1,toolNew;\n\t\t! 移动到p900，并以mytool1，绕着base的x方向旋转5°\n\tstop;\nENDPROC\n\nPROC tcp_correct(robtarget p,num rotate_angle_x,inout tooldata t_std,inout tooldata tNew)\n\tVAR robtarget ptmp1;\n\tVAR robtarget p1_Tool0;\n\tVAR robtarget p1_ToolStd;\n\tVAR robtarget p1_ToolNew;\n\tMoveL p,v50,fine,t_std;\n\twaittime 0.5;\n\tp1_Tool0:=CRobT(Tool:=tool0);\n\tp1_ToolStd:=CRobT(Tool:=t_std);\n\tcamera1;\n\tptmp1:=rotWobj(p,rotate_angle_x,0,0);\n\tMoveL ptmp1,v50,fine,t_std;\n\tcamera2;\n\tvision_dz:=cal_dis_z(m1,m2,rotate_angle_x);\n\tp1_ToolNew:=p1_ToolStd;\n\tp1_ToolNew.trans:=p1_ToolStd.trans+[vision_dx,vision_dy,vision_dz];\n\tcal_tool p1_Tool0,p1_ToolNew,tNew;\nENDPROC\n\nPROC camera1()\n\t!vision_dx:=camNewX1-camXStd\n\t!vision_dy:=camNewY1-camYStd\n\t! camXstd 和camYStd 为标准TCP走到固定位置时，特征在相机下的xy坐标\n\t! 拍照获得新实际TCP特征和标准TCP特征在相机下的xy差值\n\t!m1:=camNewY1-camYStd\nENDPROC\n\nPROC camera2()\n\t!m2:=camNewY2-camYStd\n\t! 拍照获得旋转后实际TCP的y和camera1中的camYStd的差值\nENDPROC\n\nproc cal_tool(robtarget p_tool0,robtarget p_tool_actual,inout tooldata t)\n\t!only calculate and update tool xyz,  keep orient data as old\n\tVAR pose pose1;\n\tVAR pose pose2;\n\tVAR pose pose3;\n\tpose1.trans:=p_tool0.trans;\n\tpose1.rot:=p_tool0.rot;\n\tpose2.trans:=p_tool_actual.trans;\n\tpose2.rot:=p_tool_actual.rot;\n\tpose3:=posemult(poseinv(pose1),pose2);\n\tt.tframe.trans:=pose3.trans;\nENDproc\n\nFUNC num cal_dis_z(num m1,num m2,num theta)\n\tVAR num t1;\n\tVAR num t2;\n\t! 通过y方向的两次差值和theta角度，计算机器人以标准tool走到p900时，实际tcp特征和标准tcp在机器人base的z方向差值\n\tt1:=m2-m1*cos(theta);\n\tt2:=sin(theta);\n\tRETURN -t1/t2;\nENDFUNC\n\nFUNC robtarget rotWobj(robtarget p,num rx,num ry,num rz)\n\tVAR robtarget ptmp:=[[0,0,0],[1,0,0,0],[0,0,0,0],[9E9,9E9,9E9,9E9,9E9,9E9]];\n\tptmp:=p;\n\tptmp.rot:=orientzyx(rz,ry,rx)*p.rot;\n\tRETURN ptmp;\nENDFUNC",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的值X和阈值L判断绝对值是否大于L，给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tL : REAL;\nEND_VAR\n\nIF ABS(x) > L THEN\n\tdead_zone := X;\nELSE\n\tDEAD_ZONE := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "L",
          "type": "REAL",
          "description": "长度参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给我对两个字节输入进行缩放和线性变换的st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BYTE;\n\tIN2 : BYTE;\n\tK : REAL;(* Standard = 1 *)\n\tO : REAL;(* Standard = 0 *)\n\tIN1_MIN : REAL;(* Standard = 0 *)\n\tIN1_MAX : REAL;(* Standard = 1000 *)\n\tIN2_MIN : REAL;(* Standard = 0 *)\n\tIN2_MAX : REAL;(* Standard = 1000 *)\nEND_VAR\n\nSCALE_B2 := (((in1_max - in1_min) * _BYTE_TO_REAL(in1) + (in2_max - in2_min) * _BYTE_TO_REAL(in2)) * 0.003921569 + in1_min + in2_min) * K + O;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BYTE",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BYTE",
          "description": "输入参数IN2"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "O",
          "type": "REAL",
          "description": "输入参数O"
        },
        {
          "name": "IN1_MIN",
          "type": "REAL",
          "description": "输入参数IN1_MIN"
        },
        {
          "name": "IN1_MAX",
          "type": "REAL",
          "description": "输入参数IN1_MAX"
        },
        {
          "name": "IN2_MIN",
          "type": "REAL",
          "description": "输入参数IN2_MIN"
        },
        {
          "name": "IN2_MAX",
          "type": "REAL",
          "description": "输入参数IN2_MAX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "初始化一个MONTHS数组，并存储每个月对应的英文名称，如何用ST代码编程？",
      "input": "",
      "output": "VAR_IN_OUT\n\tMONTHS : oscat_MONTHS;\nEND_VAR\n\nVAR\n\tinit : BOOL;\nEND_VAR\n\n(* 初始化数据 *)\nIF init THEN RETURN; END_IF;\ninit := TRUE;\n\n(* ---- 英文月份 ---- *)\nMONTHS[1][01] := 'January';\nMONTHS[1][02] := 'February';\nMONTHS[1][03] := 'March';\nMONTHS[1][04] := 'April';\nMONTHS[1][05] := 'May';\nMONTHS[1][06] := 'June';\nMONTHS[1][07] := 'July';\nMONTHS[1][08] := 'August';\nMONTHS[1][09] := 'September';\nMONTHS[1][10] := 'October';\nMONTHS[1][11] := 'November';\nMONTHS[1][12] := 'December';",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个PD控制器，用于控制系统中的控制反馈环路，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tTV : REAL := 1.0;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\tdiff : FT_DERIV;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PD\nIEC_LANGUAGE: ST\n*)\n(* 运行微分器 *)\ndiff(IN := IN, K := TV);\n\n(* 组合两个值 *)\nY := KP * (diff.out + IN);",
      "description": "PD控制器实现，结合比例控制和微分控制。微分环节提供预测性控制，改善系统响应速度和稳定性。适用于需要快速响应和良好动态性能的位置控制、速度控制等工业应用。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "微分时间常数"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PD控制器输出"
        }
      ],
      "library_dependency": "OSCAT库: FT_DERIV微分器功能块",
      "iec_standard": "IEC 61131-3 PD控制算法，反馈控制",
      "tags": [
        "PD控制",
        "比例微分",
        "预测控制",
        "动态性能",
        "位置控制",
        "速度控制"
      ]
    },
    {
      "instruction": "根据输入方向和时间间隔计算并更新斜坡值的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tDIR : BOOL;\n\tE : BOOL := TRUE;\n\tTR : TIME;\nEND_VAR\n\nVAR_IN_OUT\n\tRMP : WORD;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttx : UDINT;\n\ttl : UDINT;\n\tstep : DINT;\n\tinit : BOOL;\n\tlast_dir : BOOL;\nEND_VAR\n\n(* 读取系统时间 )\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\nIF E AND init THEN\n\t( 方向改变时需要设置 tl = tx )\n\tIF dir XOR last_dir THEN\n\t\ttl := tx;\n\t\tlast_dir := dir;\n\tEND_IF;\n\t( 检查经过的时间并仅在必要时计算 )\n\tIF tr > t#0s THEN\n\t\tstep := DWORD_TO_DINT(UDINT_TO_DWORD(DWORD_TO_UDINT(SHL_DWORD(UDINT_TO_DWORD(tx-tl), 16)) / TIME_TO_UDINT(TR)));\n\tELSE\n\t\tstep := DINT#65535;\n\tEND_IF;\n\tIF step > DINT#0 THEN\n\t\t( 在斜坡上执行步进 )\n\t\ttl := tx;\n\t\t( 计算步进响应 *)\n\t\tIF NOT dir THEN step := - step; END_IF;\n\t\trmp := DINT_TO_WORD(LIMIT(DINT#0, _WORD_TO_DINT(rmp) + step, DINT#65535));\n\tEND_IF;\nELSE\n\ttl := tx;\n\tinit := TRUE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DIR",
          "type": "BOOL",
          "description": "输入参数DIR"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "TR",
          "type": "TIME",
          "description": "输入参数TR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用st代码在随机时间生成一个定义好的脉冲信号",
      "input": "",
      "output": "VAR_INPUT\n\tENABLE : BOOL := TRUE;\n\tMIN_TIME_MS : TIME := t#1s;(* 最小周期时间 *)\n\tMAX_TIME_MS : TIME := t#1.2s;(* 最大周期时间 *)\n\tTP_Q : TIME := t#100ms;(* 输出为 TRUE 的时间 *)\nEND_VAR\n\nVAR_OUTPUT\n\tXQ : BOOL;\nEND_VAR\n\nVAR\n\tonRDMTimer : TON;\n\ttof_xQ : TOF;\n\ttRDMTime : TIME;\n\trRDMTime : REAL;\n\trdm_1 : rdm;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_RDT\nIEC_LANGUAGE: ST\n*)\ntonRDMTimer(IN := Enable, PT := tRDMTime);\ntof_xQ(IN := tonRDMTimer.Q, PT := TP_Q);\nXQ := tof_xq.Q;\nIF tonRDMTimer.Q THEN\n\tXQ := TRUE;\n\trdm_1(last := rRDMTime);\n\trRDMTime := rdm_1.RDM;\n\ntRDMTime := REAL_TO_TIME(rRDMTime * TIME_TO_REAL(MAX_TIME_MS - MIN_TIME_MS) + TIME_TO_REAL(MIN_TIME_MS));\n\tonRDMTimer(IN := FALSE);\nEND_IF;",
      "description": "GEN_RDT信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "MIN_TIME_MS",
          "type": "TIME",
          "description": "输入参数MIN_TIME_MS"
        },
        {
          "name": "MAX_TIME_MS",
          "type": "TIME",
          "description": "输入参数MAX_TIME_MS"
        },
        {
          "name": "TP_Q",
          "type": "TIME",
          "description": "输入参数TP_Q"
        }
      ],
      "outputs": [
        {
          "name": "XQ",
          "type": "BOOL",
          "description": "输出参数XQ"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "根据输入的布尔值判断，如果为TRUE，则将输入IN的值赋给输出。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tE : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\nEND_VAR\n\nIF E THEN\n\tout := in;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将oscat_SDT类型的输入日期转换为UDINT类型的日期格式的st语言代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tDTI : oscat_SDT;\nEND_VAR\n\nVAR_OUTPUT\n\tSDT_TO_DATE : UDINT;\nEND_VAR\n\nSDT_TO_DATE := SET_DATE(DTI.YEAR, DTI.MONTH, DTI.DAY);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DTI",
          "type": "oscat_SDT",
          "description": "输入参数DTI"
        }
      ],
      "outputs": [
        {
          "name": "SDT_TO_DATE",
          "type": "UDINT",
          "description": "输出参数SDT_TO_DATE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言计算球的体积",
      "input": "",
      "output": "VAR_INPUT\n\tRX : REAL;\nEND_VAR\n\nsphere_V := 4.188790205 * Rx * RX * RX;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RX",
          "type": "REAL",
          "description": "输入参数RX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在plc上生成一个软启动和软关闭的斜坡信号",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tVAL : BYTE;\n\tPT_ON : TIME := T#100ms;\n\tPT_OFF : TIME := T#100ms;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : BYTE := BYTE#00;\nEND_VAR\n\nVAR\n\trmp : _RMP_B;\n\ttmp : BYTE;\nEND_VAR\n\ntmp := SEL(in, BYTE#0, val);\nIF tmp > out THEN\n\t(* 我们需要下降斜坡 *)\nrmp(dir := TRUE, E := TRUE, TR := PT_ON, RMP := out);\nout := rmp.RMP;\n\t(* 确保 out 不超过 tmp *)\nout := MIN(out, tmp);\nELSIF tmp < out THEN\n\t(* 我们需要上升斜坡 *)\nrmp(dir := FALSE, E := TRUE, TR := PT_OFF, RMP := out);\nout := rmp.RMP;\n\t(* 确保 out 不低于 tmp *)\nout := MAX(out, tmp);\nELSE\n\t(* 无需斜坡 *)\nrmp(E := FALSE, RMP := out);\nout := rmp.RMP;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "VAL",
          "type": "BYTE",
          "description": "比较值"
        },
        {
          "name": "PT_ON",
          "type": "TIME",
          "description": "输入参数PT_ON"
        },
        {
          "name": "PT_OFF",
          "type": "TIME",
          "description": "输入参数PT_OFF"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "BYTE",
          "description": "输出值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据给定的日期，判断是否为闰年。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nday_of_month := day_of_year(idate);\n\nIF leap_of_Date(idate) THEN\n\tCASE day_of_month OF\n\t\t32..60 : day_of_month := day_of_month - 31;\n\t\t61..91 : day_of_month := day_of_month - 60;\n\t\t92..121 : day_of_month := day_of_month - 91;\n\t\t122..152: day_of_month := day_of_month - 121;\n\t\t153..182: day_of_month := day_of_month - 152;\n\t\t183..213: day_of_month := day_of_month - 182;\n\t\t214..244: day_of_month := day_of_month - 213;\n\t\t245..274: day_of_month := day_of_month - 244;\n\t\t275..305: day_of_month := day_of_month - 274;\n\t\t306..335: day_of_month := day_of_month - 305;\n\t\t336..366: day_of_month := day_of_month - 335;\n\tEND_CASE;\nELSE\n\tCASE day_of_month OF\n\t\t32..59 : day_of_month := day_of_month - 31;\n\t\t60..90 : day_of_month := day_of_month - 59;\n\t\t91..120 : day_of_month := day_of_month - 90;\n\t\t121..151: day_of_month := day_of_month - 120;\n\t\t152..181: day_of_month := day_of_month - 151;\n\t\t182..212: day_of_month := day_of_month - 181;\n\t\t213..243: day_of_month := day_of_month - 212;\n\t\t244..273: day_of_month := day_of_month - 243;\n\t\t274..304: day_of_month := day_of_month - 273;\n\t\t305..334: day_of_month := day_of_month - 304;\n\t\t335..365: day_of_month := day_of_month - 334;\n\tEND_CASE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个位输入解码为八个输出中的一个怎么用ST语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tD : BOOL;\n\tA0 : BOOL;\n\tA1 : BOOL;\n\tA2 : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQ4 : BOOL;\n\tQ5 : BOOL;\n\tQ6 : BOOL;\n\tQ7 : BOOL;\nEND_VAR\n\nVAR\n\tX : BYTE;\nEND_VAR\n\nX := BIT_LOAD_B(X, A0, 0); (* X.0 := A0; *)\nX := BIT_LOAD_B(X, A1, 1); (* X.1 := A1; *)\nX := BIT_LOAD_B(X, A2, 2); (* X.2 := A2; *)\n\nQ0 := FALSE;\nQ1 := FALSE;\nQ2 := FALSE;\nQ3 := FALSE;\nQ4 := FALSE;\nQ5 := FALSE;\nQ6 := FALSE;\nQ7 := FALSE;\n\nCASE _BYTE_TO_INT(X) OF\n\t0 : Q0 := D;\n\t1 : Q1 := D;\n\t2 : Q2 := D;\n\t3 : Q3 := D;\n\t4 : Q4 := D;\n\t5 : Q5 := D;\n\t6 : Q6 := D;\n\t7 : Q7 := D;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "A0",
          "type": "BOOL",
          "description": "输入参数A0"
        },
        {
          "name": "A1",
          "type": "BOOL",
          "description": "输入参数A1"
        },
        {
          "name": "A2",
          "type": "BOOL",
          "description": "输入参数A2"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "Q7",
          "type": "BOOL",
          "description": "输出参数Q7"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用于控制泵的接口的plc代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tMANUAL : BOOL;\n\tRST : BOOL := FALSE;\n\tMIN_ONTIME : TIME := T#10s;\n\tMIN_OFFTIME : TIME := T#10s;\n\tRUN_EVERY : TIME := T#10000m;\nEND_VAR\n\nVAR_OUTPUT\n\tPUMP : BOOL;\n\tRUNTIME : UDINT;\n\tCYCLES : UDINT;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tlast_change : TIME;\n\tmeter : ontime;\n\told_man : BOOL;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF NOT init THEN\n\tinit := TRUE;\n\tlast_change := tx;\nELSIF RST THEN\n\tRST := FALSE;\n\truntime := UDINT#0;\n\tcycles := UDINT#0;\nELSIF MANUAL AND NOT PUMP AND NOT old_man THEN\n\tlast_change := tx;\n\tPUMP := TRUE;\nELSIF NOT MANUAL AND old_man AND PUMP AND NOT IN THEN\n\tlast_change := tx;\n\tPUMP := FALSE;\nELSIF IN AND NOT PUMP AND tx - last_change >= MIN_OFFTIME THEN\n\tlast_change := tx;\n\tPUMP := TRUE;\nELSIF PUMP AND NOT IN AND NOT MANUAL AND tx - last_change >= MIN_ONTIME THEN\n\tlast_change := tx;\n\tPUMP := FALSE;\nELSIF NOT PUMP AND (tx - last_change >= RUN_EVERY) AND (RUN_EVERY > T#0s) THEN\n\tlast_change := tx;\n\tPUMP := TRUE;\nEND_IF;\n\nmeter(in := PUMP, SECONDS := runtime, CYCLES := cycles);\ncycles := meter.CYCLES;\nruntime := meter.SECONDS;\n\nold_man := MANUAL;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "MANUAL",
          "type": "BOOL",
          "description": "输入参数MANUAL"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "MIN_ONTIME",
          "type": "TIME",
          "description": "输入参数MIN_ONTIME"
        },
        {
          "name": "MIN_OFFTIME",
          "type": "TIME",
          "description": "输入参数MIN_OFFTIME"
        },
        {
          "name": "RUN_EVERY",
          "type": "TIME",
          "description": "输入参数RUN_EVERY"
        }
      ],
      "outputs": [
        {
          "name": "PUMP",
          "type": "BOOL",
          "description": "输出参数PUMP"
        },
        {
          "name": "RUNTIME",
          "type": "UDINT",
          "description": "输出参数RUNTIME"
        },
        {
          "name": "CYCLES",
          "type": "UDINT",
          "description": "输出参数CYCLES"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算输入值的倒数",
      "input": "",
      "output": "VAR_INPUT\nX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INV\nIEC_LANGUAGE: ST\n*)\nIF X <> 0.0 THEN INV := 1.0 / X; END_IF;",
      "description": "INV功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "输入一段字符串，查找第一个非控制字符的起始位置，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFIND_CHAR : INT;\nEND_VAR\n\nVAR\n\tEXT_ASCII : BOOL;\n\tX : INT;\n\tstop : INT;\n\ti : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIND_CHAR\nIEC_LANGUAGE: ST\n*)\nEXT_ASCII := SETUP_EXTENDED_ASCII(FALSE);\n\nstop := LEN(str);\nFOR i := MAX(pos,1) TO stop DO;\n\tX := GET_CHAR(str,i);\n\tIF X > 31 AND ((EXT_ASCII AND X <> 127) OR (NOT EXT_ASCII AND X < 127)) THEN\n\t\tFIND_CHAR := i;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nFIND_CHAR := 0;",
      "description": "字符串非控制字符查找函数，从指定位置开始搜索第一个可打印字符。支持ASCII和扩展ASCII字符集，能够识别控制字符（0-31）和删除字符（127）。适用于文本解析、数据清理、输入验证等字符串处理应用。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "待搜索的字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "搜索起始位置"
        }
      ],
      "outputs": [
        {
          "name": "FIND_CHAR",
          "type": "INT",
          "description": "第一个非控制字符位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: SETUP_EXTENDED_ASCII, GET_CHAR函数",
      "iec_standard": "IEC 61131-3 字符串处理，字符编码识别",
      "tags": [
        "字符查找",
        "非控制字符",
        "文本解析",
        "ASCII处理",
        "数据清理",
        "输入验证"
      ]
    },
    {
      "instruction": "如何基于PLC实现一个带有边沿检测功能的移位寄存器，能够根据时钟信号和复位信号控制数据移位或加载，并提供输出",
      "input": "",
      "output": "VAR_INPUT\n\tDIN : BOOL;\n\tDLOAD : BYTE;\n\tCLK : BOOL;\n\tUP : BOOL := TRUE;\n\tLOAD : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDOUT : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL := TRUE;\n\tregister : BYTE;\nEND_VAR\n\n(* 翻转检测，clk 为高电平且 edge 为高电平时，reset 未激活且 set 未激活 *)\nIF CLK AND edge AND NOT rst THEN\n\tedge := FALSE; (* 检测到边沿，防止进一步的边沿检测，直到 edge 恢复为 true *)\n\t(* 这里是翻转事件的处理代码 *)\n\tIF UP THEN (* 向上移位 *)\n\t\tregister := SHL(register,1);\n\t\tregister := BIT_LOAD_B(register,Din,0);\n\t\tDout := BIT_OF_DWORD(BYTE_TO_DWORD(register),7); (* Dout := register.X7; *)\n\tELSE (* 向下移位 *)\n\t\tregister := SHR(register,1);\n\t\tregister := BIT_LOAD_B(register,Din,7);\n\t\tDout := BIT_OF_DWORD(BYTE_TO_DWORD(register),0);\n\tEND_IF;\n\tIF load THEN (* 如果 load 为 true，则将 Din 上的字节加载 *)\n\t\tregister := Dload;\n\t\tIF up THEN\n\t\t\tDout := BIT_OF_DWORD(BYTE_TO_DWORD(register),7);\n\t\tELSE\n\t\t\tDout := BIT_OF_DWORD(BYTE_TO_DWORD(register),0);\n\t\tEND_IF;\n\tEND_IF;\nEND_IF;\nIF NOT clk THEN edge := TRUE; END_IF; (* 一旦 clk 恢复为低电平，等待下一次边沿 *)\nIF rst THEN (* 如果 reset 激活，则重置输出 *)\n\tregister := BYTE#0;\n\tDout := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DIN",
          "type": "BOOL",
          "description": "数据输入"
        },
        {
          "name": "DLOAD",
          "type": "BYTE",
          "description": "输入参数DLOAD"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "LOAD",
          "type": "BOOL",
          "description": "输入参数LOAD"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "DOUT",
          "type": "BOOL",
          "description": "数据输出"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在plc上实现一个基于多个输入信号和模式的控制逻辑，根据这些状态和选定的模式输出相应的结果",
      "input": "",
      "output": "VAR_INPUT\nI0 : BOOL;\nI1 : BOOL;\nI2 : BOOL;\nI3 : BOOL;\nE : BOOL;\nMODE : INT;\nEND_VAR\n\nVAR_OUTPUT\nOUT : BYTE;\nTP : BOOL;\nEND_VAR\n\nVAR\nin : BYTE;\nlast : BYTE;\nold : BYTE;\nlmode : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INTERLOCK_4\nIEC_LANGUAGE: ST\n*)\n(* 检查使能信号是否激活 *)\nIF E THEN\n(* 当模式发生变化时，重置所有变量 *)\nIF mode <> lmode THEN\nout := BYTE#0;\nlast := BYTE#0;\nold := BYTE#0;\nlmode := mode;\nEND_IF;\n(* 将输入加载到 in 变量中 *)\nin := BIT_LOAD_B(in, I0, 0); (* in.0 *)\nin := BIT_LOAD_B(in, I1, 1); (* in.1 *)\nin := BIT_LOAD_B(in, I2, 2); (* in.2 *)\nin := BIT_LOAD_B(in, I3, 3); (* in.3 *)\n(* 仅当有任何变化时才执行 *)\nIF in <> last THEN\n(* 仅当输入状态发生变化时才执行 *)\nCASE mode OF\n0: (* 输出直接显示输入的位作为字节 out *)\nout := in;\n\n1: (* 接受编号最高的输入 *)\nIF (in AND BYTE#2#00001000) > BYTE#0 (* in.3 *) THEN out := BYTE#8;\nELSIF (in AND BYTE#2#00000100) > BYTE#0 (* in.2 *) THEN out := BYTE#4;\nELSIF (in AND BYTE#2#00000010) > BYTE#0 (* in.1 *) THEN out := BYTE#2;\nELSE out := in;\nEND_IF;\n\n2: (* 仅显示最后按下的输入 *)\nlast := ((in XOR last) AND in);\nIF (last AND BYTE#2#00001000) > BYTE#0 (* last.3 *) THEN out := BYTE#8;\nELSIF (last AND BYTE#2#00000100) > BYTE#0 (* last.2 *) THEN out := BYTE#4;\nELSIF (last AND BYTE#2#00000010) > BYTE#0 (* last.1 *) THEN out := BYTE#2;\nELSE out := last;\nEND_IF;\n\n3: (* 任何输入激活将禁用所有其他输入 *)\nIF (out AND in) = BYTE#0 THEN\nIF (in AND BYTE#2#00001000) > BYTE#0 (* in.3 *) THEN out := BYTE#8;\nELSIF (in AND BYTE#2#00000100) > BYTE#0 (* in.2 *) THEN out := BYTE#4;\nELSIF (in AND BYTE#2#00000010) > BYTE#0 (* in.1 *) THEN out := BYTE#2;\nELSE out := in;\nEND_IF;\nEND_IF;\n\nEND_CASE;\nlast := in;\nEND_IF;\ntp := out <> old;\nold := out;\nELSE\nout := BYTE#0;\nlast := BYTE#0;\nold := BYTE#0;\nlmode := 0;\ntp := FALSE;\nEND_IF;",
      "description": "INTERLOCK_4功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I0",
          "type": "BOOL",
          "description": "输入信号0"
        },
        {
          "name": "I1",
          "type": "BOOL",
          "description": "输入信号1"
        },
        {
          "name": "I2",
          "type": "BOOL",
          "description": "输入信号2"
        },
        {
          "name": "I3",
          "type": "BOOL",
          "description": "输入信号3"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "MODE",
          "type": "INT",
          "description": "模式选择参数"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "BYTE",
          "description": "输出值"
        },
        {
          "name": "TP",
          "type": "BOOL",
          "description": "触发脉冲"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么在PLC上实现一个基于两个输入通道的增减计数器功能",
      "input": "",
      "output": "VAR_INPUT\nCHA : BOOL;\nCHB : BOOL;\nRST : BOOL := 0;\nEND_VAR\n\nVAR_OUTPUT\nDIR : BOOL;\nCNT : INT;\nEND_VAR\n\nVAR\nedgea : BOOL := 0;\nclk : BOOL;\nclka : BOOL;\nclkb : BOOL;\nedgeb : BOOL;\naxb : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INC_DEC\nIEC_LANGUAGE: ST\n*)\naxb := cha XOR chb;\n(* 为通道 A 创建脉冲 *)\nclka := cha XOR edgea;\nedgea := cha;\nclkb := chb XOR edgeb;\nedgeb := chb;\n(* 为两个通道创建脉冲 *)\nclk := clka OR clkb;\n(* 设置方向输出 *)\nIF axb AND clka THEN dir := TRUE; END_IF;\nIF axb AND clkb THEN dir := FALSE; END_IF;\n(* 增加或减少计数器 *)\nIF clk AND dir THEN cnt := cnt + 1; END_IF;\nIF clk AND NOT dir THEN cnt := cnt - 1; END_IF;\n(* 如果复位信号激活，则重置计数器 *)\nIF rst THEN cnt := 0; END_IF;",
      "description": "INC_DEC功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CHA",
          "type": "BOOL",
          "description": "通道A输入"
        },
        {
          "name": "CHB",
          "type": "BOOL",
          "description": "通道B输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "DIR",
          "type": "BOOL",
          "description": "方向指示"
        },
        {
          "name": "CNT",
          "type": "INT",
          "description": "计数器值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个双字计数器，根据给定的输入信号和步长来调整计数器。给出PLC程序",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tIN : DWORD;\n\tUP : BOOL;\n\tDN : BOOL;\n\tSTEP : DWORD := DWORD#1;\n\tMX : DWORD := DWORD#16#FFFF_FFFF;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tCNT : DWORD;\nEND_VAR\n\nVAR\n\tCNT2 : UDINT;\n\tSTEP2 : UDINT;\n\tMX2 : UDINT;\n\tlast_up : BOOL;\n\tlast_dn : BOOL;\nEND_VAR\n\nSTEP2 := DWORD_TO_UDINT(STEP);\nMX2 := DWORD_TO_UDINT(MX);\nCNT2 := DWORD_TO_UDINT(CNT);\n\nIF rst THEN\n\tCNT2 := UDINT#0;\nELSIF set THEN\n\tCNT2 := LIMIT(UDINT#0,DWORD_TO_UDINT(in),mx2);\nELSIF up AND NOT last_up THEN\n\tIF STEP2 > MX2 - CNT2 THEN\n\t\tCNT2 := CNT2 - MX2 + STEP2 - UDINT#1;\n\tELSE\n\t\tCNT2 := CNT2 + STEP2;\n\tEND_IF;\nELSIF dn AND NOT last_dn THEN\n\tIF STEP2 > CNT2 THEN\n\t\tCNT2 := CNT2 - STEP2 + MX2 + UDINT#1;\n\tELSE\n\t\tCNT2 := CNT2 - STEP2;\n\tEND_IF;\nEND_IF;\nlast_up := up;\nlast_dn := dn;\n\nCNT := UDINT_TO_DWORD(CNT2);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "STEP",
          "type": "DWORD",
          "description": "输入参数STEP"
        },
        {
          "name": "MX",
          "type": "DWORD",
          "description": "输入参数MX"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "CNT",
          "type": "DWORD",
          "description": "计数器值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的DWORD格式的IPv4地址转换为字符串格式怎么编程",
      "input": "",
      "output": "VAR_INPUT\n\tIP4 : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tIP4_TO_STRING : STRING;\nEND_VAR\n\nVAR\n\ts1 : oscat_string10;\n\ts2 : oscat_string10;\nEND_VAR\n\ns1 := CONCAT(BYTE_TO_STRING(BYTE_OF_DWORD(IP4,BYTE#1),'.%0u'),BYTE_TO_STRING(BYTE_OF_DWORD(IP4,BYTE#0),'.%0u'));\ns2 := CONCAT(BYTE_TO_STRING(BYTE_OF_DWORD(IP4,BYTE#3),'%0u'),BYTE_TO_STRING(BYTE_OF_DWORD(IP4,BYTE#2),'.%0u'));\nIP4_TO_STRING := CONCAT(s2,s1);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IP4",
          "type": "DWORD",
          "description": "输入参数IP4"
        }
      ],
      "outputs": [
        {
          "name": "IP4_TO_STRING",
          "type": "STRING",
          "description": "输出参数IP4_TO_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算复数X和Y的差",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\n\tY : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCSUB : oscat_complex;\nEND_VAR\n\nCSUB.re := X.re - Y.re;\nCSUB.im := X.im - Y.im;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "oscat_complex",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "CSUB",
          "type": "oscat_complex",
          "description": "输出参数CSUB"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个字符串中的十进制字符转换为一个32位无符号整数怎么用plc编程",
      "input": "",
      "output": "VAR_INPUT\n\tDEC : oscat_STRING20;\nEND_VAR\n\nVAR_OUTPUT\n\tDEC_TO_DWORD : DWORD;\nEND_VAR\n\nVAR\n\ti : INT;\n\tX : INT;\n\tstop : INT;\nEND_VAR\n\nDEC_TO_DWORD := DWORD#0;\nstop := LEN(DEC);\nFOR I := 1 TO stop DO\n\t(* read the first character and subtract 48 to get value in decimal 0 = 48 *)\n\tX := GET_CHAR(DEC, I);\n\t(* calculate the value of the digit *)\n\tIF X > 47 AND X < 58 THEN\n\t\tDEC_TO_DWORD := UDINT_TO_DWORD(DWORD_TO_UDINT(DEC_TO_DWORD) * UDINT#10 + _INT_TO_UDINT(X) - UDINT#48);\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEC",
          "type": "oscat_STRING20",
          "description": "输入参数DEC"
        }
      ],
      "outputs": [
        {
          "name": "DEC_TO_DWORD",
          "type": "DWORD",
          "description": "输出参数DEC_TO_DWORD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现延迟信号，并存储最近的16个输入值，然后输出最早的输入值，给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN :\tREAL;\n\tT :\tTIME;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT :\tREAL;\n\tTRIG :\tBOOL;\nEND_VAR\n\nVAR\n\tlength :\tINT := 16;\n\tX :\toscat_arr_0_15;\n\tcnt :\tINT;\n\tlast :\tTIME;\n\ttx :\tTIME;\n\tinit :\tBOOL;\n\tT_PLC_MS :\tT_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_TN16\nIEC_LANGUAGE: ST\n*)\n(* read system time *)\nT_PLC_MS();\n\ttx:= UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\ntrig := FALSE;\nIF NOT init THEN\n\tx[cnt] := in;\n\tinit := TRUE;\n\tlast := tx;\nELSIF tx - last >= T / INT_TO_TIME(length) THEN\n\tIF cnt = length - 1 THEN cnt := 0; ELSE cnt := cnt + 1; END_IF;\n\tOut := X[cnt];\n\tx[cnt] := in;\n\tlast := tx;\n\tTrig := TRUE;\nEND_IF;",
      "description": "FT_TN16功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "时间参数"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算设定点与实际值之间的误差，并通过死区函数处理噪声。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tSET_POINT : REAL;\n\tACTUAL : REAL;\n\tNOISE : REAL;\nEND_VAR\n\n(* 计算过程误差 DIFF *)\nCTRL_IN := DEAD_ZONE(SET_POINT - ACTUAL, NOISE);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET_POINT",
          "type": "REAL",
          "description": "输入参数SET_POINT"
        },
        {
          "name": "ACTUAL",
          "type": "REAL",
          "description": "输入参数ACTUAL"
        },
        {
          "name": "NOISE",
          "type": "REAL",
          "description": "输入参数NOISE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将字符串插入到数组中指定位置的st程序怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_BUFFER_INSERT : INT;\nEND_VAR\n\nVAR\n\tend : INT;\n\tlx : INT;\n\ti : INT;\n\ti2 : INT;\n\t_STRING_TO_BUFFER : _STRING_TO_BUFFER;\nEND_VAR\n\ni := UINT_TO_INT(size) - 1;\npos := LIMIT_INT(0, pos, i);\nlx := LEN(str);\nend := pos + lx;\n(* 首先移动缓冲区的上半部分以为字符串腾出空间 *)\ni2 := i - lx;\nWHILE i >= end DO\n\tpt[i] := pt[i2];\n\ti := i - 1;\n\ti2 := i2 - 1;\nEND_WHILE;\n\n_STRING_TO_BUFFER(str := str, pos := pos, size := size, pt := pt);\n_BUFFER_INSERT := _STRING_TO_BUFFER._STRING_TO_BUFFER;\npt := _STRING_TO_BUFFER.pt;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [
        {
          "name": "_BUFFER_INSERT",
          "type": "INT",
          "description": "输出参数_BUFFER_INSERT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个实数输入线性转换和缩放到一个实数输出如何编程？用ST语言",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tI_LO : REAL;\n\tI_HI : REAL;\n\tO_LO : REAL;\n\tO_HI : REAL;\nEND_VAR\n\nIF I_LO = I_HI THEN\n\tSCALE_R := O_LO;\nELSE\n\tSCALE_R := (O_HI - O_LO) / (I_HI - I_LO) * (LIMIT(I_LO, X, I_HI) - I_LO) + O_LO;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "I_LO",
          "type": "REAL",
          "description": "输入参数I_LO"
        },
        {
          "name": "I_HI",
          "type": "REAL",
          "description": "输入参数I_HI"
        },
        {
          "name": "O_LO",
          "type": "REAL",
          "description": "输入参数O_LO"
        },
        {
          "name": "O_HI",
          "type": "REAL",
          "description": "输入参数O_HI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过逐位左移并将布尔值转换为字节，从多个布尔输入生成一个字节值",
      "input": "",
      "output": "VAR_INPUT\n\tB0 : BOOL;\n\tB1 : BOOL;\n\tB2 : BOOL;\n\tB3 : BOOL;\n\tB4 : BOOL;\n\tB5 : BOOL;\n\tB6 : BOOL;\n\tB7 : BOOL;\nEND_VAR\n\nByte_of_bit := SHL_BYTE(SHL_BYTE(SHL_BYTE(SHL_BYTE(SHL_BYTE(SHL_BYTE(SHL_BYTE(BOOL_TO_BYTE(B7),1) OR BOOL_TO_BYTE(B6),1) OR BOOL_TO_BYTE(B5),1) OR BOOL_TO_BYTE(B4),1) OR BOOL_TO_BYTE(B3),1) OR BOOL_TO_BYTE(B2),1) OR BOOL_TO_BYTE(B1),1) OR BOOL_TO_BYTE(B0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "B0",
          "type": "BOOL",
          "description": "输入参数B0"
        },
        {
          "name": "B1",
          "type": "BOOL",
          "description": "输入参数B1"
        },
        {
          "name": "B2",
          "type": "BOOL",
          "description": "输入参数B2"
        },
        {
          "name": "B3",
          "type": "BOOL",
          "description": "输入参数B3"
        },
        {
          "name": "B4",
          "type": "BOOL",
          "description": "输入参数B4"
        },
        {
          "name": "B5",
          "type": "BOOL",
          "description": "输入参数B5"
        },
        {
          "name": "B6",
          "type": "BOOL",
          "description": "输入参数B6"
        },
        {
          "name": "B7",
          "type": "BOOL",
          "description": "输入参数B7"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现基于定时器和状态机的功能？给我st代码",
      "input": "",
      "output": "VAR_INPUT\n\tE0 : BOOL;\n\tE1 : BOOL;\n\tE2 : BOOL;\n\tE3 : BOOL;\n\tT0 : TIME;\n\tT1 : TIME;\n\tT2 : TIME;\n\tT3 : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\tinit : BOOL;\n\ts0 : TIME;\n\ts1 : TIME;\n\ts2 : TIME;\n\ts3 : TIME;\n\ttx : TIME;\n\tc : INT;\nEND_VAR\n\n(* 读取 PLC 时间 *)\nT_PLC_MS();\n\ttx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF NOT init THEN\n\tinit := TRUE;\n\ts0 := tx - T0;\n\ts1 := tx - T1;\n\ts2 := tx - T2;\n\ts3 := tx - T3;\nEND_IF;\n\nQ0 := FALSE;\nQ1 := FALSE;\nQ2 := FALSE;\nQ3 := FALSE;\n\nCASE c OF\n\t0: IF tx - s0 >= T0 THEN\n\t\tQ0 := E0;\n\t\ts0 := tx;\n\tEND_IF;\n\tc := 1;\n\t1: IF tx - s1 >= T1 THEN\n\t\tQ1 := E1;\n\t\ts1 := tx;\n\tEND_IF;\n\tc := 2;\n\t2: IF tx - s2 >= T2 THEN\n\t\tQ2 := E2;\n\t\ts2 := tx;\n\tEND_IF;\n\tc := 3;\n\t3: IF tx - s3 >= T3 THEN\n\t\tQ3 := E3;\n\t\ts3 := tx;\n\tEND_IF;\n\tc := 0;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "E0",
          "type": "BOOL",
          "description": "输入参数E0"
        },
        {
          "name": "E1",
          "type": "BOOL",
          "description": "输入参数E1"
        },
        {
          "name": "E2",
          "type": "BOOL",
          "description": "输入参数E2"
        },
        {
          "name": "E3",
          "type": "BOOL",
          "description": "输入参数E3"
        },
        {
          "name": "T0",
          "type": "TIME",
          "description": "输入参数T0"
        },
        {
          "name": "T1",
          "type": "TIME",
          "description": "输入参数T1"
        },
        {
          "name": "T2",
          "type": "TIME",
          "description": "输入参数T2"
        },
        {
          "name": "T3",
          "type": "TIME",
          "description": "输入参数T3"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个32位实数转换为DWORD类型怎么用st语言编写",
      "input": "",
      "output": "VAR_INPUT\nX : REAL;\nEND_VAR\n\nVAR_OUTPUT\nREAL_TO_DW : DWORD;\nEND_VAR\n\nVAR\nREAL_TO_BUF : REAL_TO_BUF;\ni : INT;\nEND_VAR\n\n(* REAL_TO_BUF 必须通过正向沿启动，因此该函数会先用 REQ=0 调用一次，然后再用 REQ=1 调用 *)\n(* 这样可以在每个周期中进行复制 *)\n\nFOR I := 0 TO 1 DO\n  REAL_TO_BUF.REQ := I > 0;\n  REAL_TO_BUF.BUF_FORMAT := FALSE;\n  REAL_TO_BUF.BUF_OFFS := DINT#0;\n  REAL_TO_BUF.BUF_CNT := DINT#4;\n  REAL_TO_BUF.SRC := X;\n  REAL_TO_BUF.BUFFER := REAL_TO_DW;\n  REAL_TO_BUF();\n  X := REAL_TO_BUF.SRC;\n  REAL_TO_DW := REAL_TO_BUF.BUFFER;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "REAL_TO_DW",
          "type": "DWORD",
          "description": "输出参数REAL_TO_DW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言将输入的字符串中的浮点数转换为REAL类型的数值",
      "input": "",
      "output": "VAR_INPUT\n\tFLT : oscat_STRING20;\nEND_VAR\n\nVAR_OUTPUT\n\tFLOAT_TO_REAL : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tX : BYTE;\n\tsign : INT := 1;\n\tstop : INT;\n\ttmp : DINT;\n\td : INT;\n\tDEC_TO_INT : DEC_TO_INT;\n\tCODE : CODE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FLOAT_TO_REAL\nIEC_LANGUAGE: ST\n*)\nsign := 1;\nd := 0;\nstop := LEN(FLT);\ntmp := DINT#0;\n\n(* 首先检查符号并在遇到第一个数字或点时退出 *)\nFOR i := 1 TO stop DO\n\tCODE(STR:=FLT,POS:=i);\n\tX := CODE.CODE;\n\tIF X > BYTE#47 AND X < BYTE#58 OR X = BYTE#46 THEN\n\t\tEXIT;\n\tELSIF X = BYTE#45 THEN\n\t\t(* 代码 45 是符号 *)\n\t\tsign := -1;\n\tEND_IF;\nEND_FOR;\n\n(* 现在扫描数字直到遇到结束、点或 E *)\nFOR i := i TO stop DO\n\tCODE(STR:=FLT,POS:=i);\n\tX := CODE.CODE;\n\tIF X = BYTE#44 OR X = BYTE#46 OR X = BYTE#69 OR X = BYTE#101 THEN\n\t\tEXIT;\n\t(* 计算数字的值 *)\n\tELSIF X > BYTE#47 AND X < BYTE#58 THEN\n\t\ttmp := tmp * DINT#10 + _BYTE_TO_DINT(X) - DINT#48;\n\tEND_IF;\nEND_FOR;\n\n(* 处理逗号后的部分，如果遇到逗号或点并且指数开始，则退出 *)\nIF x = BYTE#44 OR X = BYTE#46 THEN\n\tFOR i := i + 1 TO stop DO\n\t\tCODE(STR:=FLT,POS:=i);\n\t\tX := CODE.CODE;\n\t\tIF X = BYTE#69 OR X = BYTE#101 THEN\n\t\t\tEXIT;\n\t\tELSIF x > BYTE#47 AND x < BYTE#58 THEN\n\t\t\ttmp := tmp * DINT#10 + _BYTE_TO_DINT(X) - DINT#48;\n\t\t\td := d - 1;\n\t\tEND_IF;\n\tEND_FOR;\nEND_IF;\n\n(* 如果存在指数部分则处理 *)\nIF (X = BYTE#69 OR X = BYTE#101) AND i<=stop THEN\n\tDEC_TO_INT(DEC:=MID(FLT, MIN(stop - i,10),MIN(stop,i+1)));\n\td := d + DEC_TO_INT.DEC_TO_INT;\n\n\n(*\n\tDEC_TO_INT(DEC:=RIGHT(FLT, MIN(stop - i,10)));\n\td := d + DEC_TO_INT.DEC_TO_INT;\n*)\nEND_IF;\n\nFLOAT_TO_REAL := EXPN(10.0, d) * DINT_TO_REAL(TMP * INT_TO_DINT(SIGN));",
      "description": "字符串浮点数转换函数，将文本格式的浮点数转换为REAL类型数值。支持科学计数法表示（如1.23E-4），能够处理正负号、小数点和指数部分。适用于配置文件解析、通信数据处理、用户输入转换等需要将文本数值转换为内部数值格式的场景。",
      "inputs": [
        {
          "name": "FLT",
          "type": "oscat_STRING20",
          "description": "包含浮点数的字符串"
        }
      ],
      "outputs": [
        {
          "name": "FLOAT_TO_REAL",
          "type": "REAL",
          "description": "转换后的REAL数值"
        }
      ],
      "library_dependency": "OSCAT库: CODE, DEC_TO_INT, EXPN函数, MID/RIGHT函数",
      "iec_standard": "IEC 61131-3 字符串解析，浮点数转换算法",
      "tags": [
        "字符串转换",
        "浮点数解析",
        "科学计数法",
        "文本数值",
        "配置解析",
        "通信处理"
      ]
    },
    {
      "instruction": "传输8个DWORD值，并处理相关的状态和错误检查的plc程序怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : DWORD;\n\tIN2 : DWORD;\n\tIN3 : DWORD;\n\tIN4 : DWORD;\n\tIN5 : DWORD;\n\tIN6 : DWORD;\n\tIN7 : DWORD;\n\tIN8 : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT1 : DWORD;\n\tOUT2 : DWORD;\n\tOUT3 : DWORD;\n\tOUT4 : DWORD;\n\tOUT5 : DWORD;\n\tOUT6 : DWORD;\n\tOUT7 : DWORD;\n\tOUT8 : DWORD;\n\tID : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_NET_VAR_DATA;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ti : INT;\n\ti2 : INT;\n\tindex : INT;\n\tindex2 : INT;\n\tra : oscat_nv_dw;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tID := USINT_TO_BYTE(X.ID_MAX);\nEND_IF;\n\nIF X.STATE > BYTE#0 AND X.ERROR_ID = BYTE#0 THEN\n\tindex := X.index; (* PCWORX 工作区解决方案 *)\n\tIF INT_TO_UINT(index + 34) > X.BUF_SIZE THEN (* ID (1) + TYPE (1) + 8 x DWORD (4) *)\n\t\tX.ERROR_ID := ID;\n\tELSE\n\t\tIF X.STATE = BYTE#1 THEN (* 写入数据 *)\n\t\t\tra[1] := IN1;\n\t\t\tra[2] := IN2;\n\t\t\tra[3] := IN3;\n\t\t\tra[4] := IN4;\n\t\t\tra[5] := IN5;\n\t\t\tra[6] := IN6;\n\t\t\tra[7] := IN7;\n\t\t\tra[8] := IN8;\n\t\t\tX.S_BUF.BUFFER[index] := ID; (* ID *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE#13; (* 类型 DWORD8 *)\n\t\t\tindex := index + 1;\n\t\t\tFOR i2 := 1 TO 8 DO;\n\t\t\t\tFOR i := 1 TO 4 DO;\n\t\t\t\t\tX.S_BUF.BUFFER[index] := DWORD_TO_BYTE(ra[i2]);\n\t\t\t\t\tra[i2] := ROR(ra[i2],8);\n\t\t\t\t\tindex := index + 1;\n\t\t\t\tEND_FOR;\n\t\t\tEND_FOR;\n\t\tELSIF X.STATE = BYTE#2 THEN (* 读取数据 *)\n\t\t\tindex2 := index + 1; (* PCWORX 工作区解决方案 *)\n\t\t\tIF X.R_BUF.BUFFER[index] <> ID OR X.R_BUF.BUFFER[index2] <> BYTE#13 THEN (* 类型 DWORD8 *)\n\t\t\t\tX.ERROR_ID := ID;\n\t\t\tELSE\n\t\t\t\tindex := index + 2;\n\t\t\t\tFOR i2 := 1 TO 8 DO;\n\t\t\t\t\tra[i2] := DWORD#0;\n\t\t\t\t\tFOR i := 1 TO 4 DO;\n\t\t\t\t\t\tra[i2] := ra[i2] OR BYTE_TO_DWORD(X.R_BUF.BUFFER[index]);\n\t\t\t\t\t\tra[i2] := ROR(ra[i2],8);\n\t\t\t\t\t\tindex := index + 1;\n\t\t\t\t\tEND_FOR;\n\t\t\t\tEND_FOR;\n\t\t\t\tOUT1 := ra[1];\n\t\t\t\tOUT2 := ra[2];\n\t\t\t\tOUT3 := ra[3];\n\t\t\t\tOUT4 := ra[4];\n\t\t\t\tOUT5 := ra[5];\n\t\t\t\tOUT6 := ra[6];\n\t\t\t\tOUT7 := ra[7];\n\t\t\t\tOUT8 := ra[8];\n\t\t\tEND_IF;\n\t\tEND_IF;\n\t\tX.index := index;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "DWORD",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "DWORD",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "DWORD",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "DWORD",
          "description": "输入参数IN4"
        },
        {
          "name": "IN5",
          "type": "DWORD",
          "description": "输入参数IN5"
        },
        {
          "name": "IN6",
          "type": "DWORD",
          "description": "输入参数IN6"
        },
        {
          "name": "IN7",
          "type": "DWORD",
          "description": "输入参数IN7"
        },
        {
          "name": "IN8",
          "type": "DWORD",
          "description": "输入参数IN8"
        }
      ],
      "outputs": [
        {
          "name": "OUT1",
          "type": "DWORD",
          "description": "输出参数OUT1"
        },
        {
          "name": "OUT2",
          "type": "DWORD",
          "description": "输出参数OUT2"
        },
        {
          "name": "OUT3",
          "type": "DWORD",
          "description": "输出参数OUT3"
        },
        {
          "name": "OUT4",
          "type": "DWORD",
          "description": "输出参数OUT4"
        },
        {
          "name": "OUT5",
          "type": "DWORD",
          "description": "输出参数OUT5"
        },
        {
          "name": "OUT6",
          "type": "DWORD",
          "description": "输出参数OUT6"
        },
        {
          "name": "OUT7",
          "type": "DWORD",
          "description": "输出参数OUT7"
        },
        {
          "name": "OUT8",
          "type": "DWORD",
          "description": "输出参数OUT8"
        },
        {
          "name": "ID",
          "type": "BYTE",
          "description": "输出参数ID"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个字符串中的十进制字符转换为一个有符号整数怎么用st语言写",
      "input": "",
      "output": "VAR_INPUT\n\tDEC : oscat_STRING10;\nEND_VAR\n\nVAR_OUTPUT\n\tDEC_TO_INT : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tX : INT;\n\tsign : BOOL;\n\tstop : INT;\nEND_VAR\n\nDEC_TO_INT := 0;\nsign := FALSE;\nstop := LEN(dec);\nFOR I := 1 TO stop DO\n\t(* read the first character and subtract 48 to get value in decimal 0 = 48 *)\n\tX := GET_CHAR(DEC,I);\n\t(* calculate the value of the digit *)\n\tIF X > 47 AND X < 58 THEN\n\t\tDEC_TO_INT := DEC_TO_INT * 10 + X - 48;\n\tELSIF X = 45 AND DEC_TO_INT = 0 THEN\n\t\tsign := TRUE;\n\tEND_IF;\nEND_FOR;\nIF sign THEN DEC_TO_INT := -DEC_TO_INT; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEC",
          "type": "oscat_STRING10",
          "description": "输入参数DEC"
        }
      ],
      "outputs": [
        {
          "name": "DEC_TO_INT",
          "type": "INT",
          "description": "输出参数DEC_TO_INT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入的小时数转换为时间格式",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HOUR_TO_TIME\nIEC_LANGUAGE: ST\n*)\nhour_to_time := UDINT_TO_TIME(_REAL_TO_UDINT(IN * 3600000.0));",
      "description": "HOUR_TO_TIME功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用PLC处理输入的字符串并使用指定的属性和选项将其写入屏幕",
      "input": "",
      "output": "VAR\n\tFB_FIX : FIX;\n\tFB_TN_SC_WRITE : TN_SC_WRITE;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y : INT;\n\tIin_X : INT;\n\tIby_ATTR : BYTE;\n\tIst_STRING : STRING;\n\tIin_LENGTH : INT;\n\tIin_OPTION : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nFB_FIX.str := Ist_STRING;\nFB_FIX.L := Iin_LENGTH;\nFB_FIX.C := BYTE#32;\nFB_FIX.M := Iin_OPTION;\nFB_FIX();\n\nFB_TN_SC_WRITE.Iin_Y := Iin_Y;\nFB_TN_SC_WRITE.Iin_X := Iin_X;\nFB_TN_SC_WRITE.Iby_ATTR := Iby_ATTR;\nFB_TN_SC_WRITE.Ist_STRING := FB_FIX.FIX;\nFB_TN_SC_WRITE.Xus_TN_SCREEN := Xus_TN_SCREEN;\nFB_TN_SC_WRITE();\nXus_TN_SCREEN := FB_TN_SC_WRITE.Xus_TN_SCREEN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        },
        {
          "name": "Iby_ATTR",
          "type": "BYTE",
          "description": "输入参数Iby_ATTR"
        },
        {
          "name": "Ist_STRING",
          "type": "STRING",
          "description": "输入参数Ist_STRING"
        },
        {
          "name": "Iin_LENGTH",
          "type": "INT",
          "description": "输入参数Iin_LENGTH"
        },
        {
          "name": "Iin_OPTION",
          "type": "INT",
          "description": "输入参数Iin_OPTION"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在输入的字符串中从后向前查找，返回最后一个数字（包括小数点）的位置，给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tFINDB_NUM : INT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tx : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FINDB_NUM\nIEC_LANGUAGE: ST\n*)\nfindB_num := 0;\npos := LEN(str);\nWHILE (pos >= 1) DO\n\tx := GET_CHAR(str,pos);\n\tIF (x > 47 AND x < 58) OR x = 46 THEN\n\t\tfindB_num := pos;\n\t\tRETURN;\n\tEND_IF;\npos := pos - 1;\nEND_WHILE;",
      "description": "反向数字字符查找函数，从字符串末尾向前搜索最后一个数字或小数点。适用于提取字符串末尾的数值信息，如文件编号、版本号、测量值等。在工业应用中常用于解析设备编号、批次号等包含数字的标识符。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "待搜索的字符串"
        }
      ],
      "outputs": [
        {
          "name": "FINDB_NUM",
          "type": "INT",
          "description": "最后一个数字字符位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: GET_CHAR函数",
      "iec_standard": "IEC 61131-3 反向搜索算法，数字字符识别",
      "tags": [
        "反向数字查找",
        "末尾数值提取",
        "文件编号",
        "版本号解析",
        "设备标识",
        "批次号处理"
      ]
    },
    {
      "instruction": "怎么通过PLC将输入的小时数转换为时间偏移量",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HOUR_TO_TOD\nIEC_LANGUAGE: ST\n*)\nhour_to_tod := _REAL_TO_UDINT(IN * 3600000.00);",
      "description": "HOUR_TO_TOD功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算复数的双曲正切值",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCTANH : oscat_complex;\nEND_VAR\n\nVAR\n\txi2 : REAL;\n\txr2 : REAL;\n\ttemp : REAL;\nEND_VAR\n\nxi2 := 2.0 * x.im;\nxr2 := 2.0 * x.re;\ntemp := 1.0 / (COSH(xr2) + COS(xi2));\nCTANH.re := temp * SINH(xr2);\nCTANH.im := temp * SIN(xi2);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CTANH",
          "type": "oscat_complex",
          "description": "输出参数CTANH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "清空缓冲区的ST语言代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_CLEAR : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR\n\terr : INT;\n\tresult : WORD;\nEND_VAR\n\nresult := MEMSET(err, BYTE#00, UINT_TO_DINT(SIZE), pt[0]);\nBUFFER_CLEAR := (err = 0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_CLEAR",
          "type": "BOOL",
          "description": "输出参数BUFFER_CLEAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过DNS解析和HTTP GET请求更新动态DNS地址",
      "input": "",
      "output": "VAR_INPUT\n\tENABLE : BOOL;\n\tUPDATE : BOOL;\n\tT_UPDATE : TIME := T#1h;\n\tMODE : BYTE;\n\tHOSTNAME : oscat_STRING30;\n\tUSERNAME : oscat_STRING20;\n\tPASSWORD : oscat_STRING20;\n\tIP4 : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tBUSY : BOOL;\n\tDONE : BOOL;\n\tERROR_C : DWORD;\n\tERROR_T : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;(* IP控制结构 *)\n\tS_BUF : oscat_NETWORK_BUFFER;\n\tR_BUF : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR\n\tSTRING_TO_URL : STRING_TO_URL;\n\tDNS_CLIENT : DNS_CLIENT;\n\tHTTP_GET : HTTP_GET;\n\tBASE64_ENCODE_STR : BASE64_ENCODE_STR;\n\tURL_DATA : oscat_url;\n\tupdate_last : BOOL;\n\tstate : INT;\n\tbase64_done : BOOL;\n\ts1 : oscat_STRING144;\n\ts2 : oscat_STRING192;\n\tw : TON;\n\tdelimiter2b : oscat_STRING2;\n\tBUFFER_TO_STRING : BUFFER_TO_STRING_NW;\n\tIP4_TO_STRING : IP4_TO_STRING;\nEND_VAR\n\nCASE state OF\n\n00: IF ENABLE AND ((UPDATE AND NOT update_last) OR w.Q) THEN\n\tstate := 20;\n\tDONE := FALSE;\n\tBUSY := TRUE;\n\tERROR_C := DWORD#0;\n\tERROR_T := BYTE#0;\n\n\tIF MODE = BYTE#0 THEN (* dyndns.org *)\n\t\ts2 := CONCAT('http://members.dyndns.org/nic/update?hostname=',HOSTNAME);\n\tELSE (* selfhost.de *)\n\t\ts2 := 'http://carol.selfhost.de/nic/update?hostname=1';\n\tEND_IF;\n\tIF IP4 > DWORD#0 THEN (* 使用指定IP *)\n\t\tIP4_TO_STRING(IP4 := IP4);\n\t\ts1 := CONCAT('&myip=',IP4_TO_STRING.IP4_TO_STRING);\n\t\ts2 := CONCAT(s2,s1);\n\tEND_IF;\n\n\tSTRING_TO_URL(STR := s2,DEFAULT_PROTOCOL := '',DEFAULT_PATH := '');\n\tURL_DATA := STRING_TO_URL.STRING_TO_URL;\n\n\ts1 := CONCAT(USERNAME,':');\n\ts1 := CONCAT(s1,PASSWORD); (* BASE64编码文本 *)\nEND_IF;\n\n20: IF DNS_CLIENT.DONE THEN (* DNS客户端 *)\n\t\tstate := 40;\n\tELSIF (DNS_CLIENT.ERROR > DWORD#00) THEN (* 错误处理 *)\n\t\tERROR_C := DNS_CLIENT.ERROR;\n\t\tERROR_T := BYTE#01;\n\t\tBUSY := FALSE;\n\t\tstate := 0;\n\tEND_IF;\n\n40: IF base64_done THEN (* BASE64编码完成? *)\n\ts1 := CONCAT('Authorization: Basic ',s2);\n\tdelimiter2b := CONCAT(BYTE_TO_STRING(BYTE#16#0D,'%c'),BYTE_TO_STRING(BYTE#16#0A,'%c'));\n\ts1 := CONCAT(s1,delimiter2b);\n\ts1 := CONCAT(s1,'User-Agent: x');\n\ts1 := CONCAT(s1,delimiter2b);\n\tURL_DATA.HEADER := s1;\n\tstate := 60;\nEND_IF;\n\n60: IF HTTP_GET.DONE THEN\n\tstate := 0;\n\tBUSY := FALSE;\n\tDONE := TRUE;\n\tBUFFER_TO_STRING(PT := R_BUF.BUFFER,SIZE := UINT#4096,START := HTTP_GET.BODY_START + UINT#3,STOP := HTTP_GET.BODY_STOP - UINT#7);\n\tR_BUF.BUFFER := BUFFER_TO_STRING.PT;\n\ts2 := BUFFER_TO_STRING.BUFFER_TO_STRING;\n\n\tIF FIND(s2,'good') = 0 THEN\n\t\tIF FIND(s2,'nochg') = 0 THEN\n\t\t\tERROR_C := DWORD#1;\n\t\t\tERROR_T := BYTE#03;\n\t\t\tDONE := FALSE;\n\t\tEND_IF;\n\tEND_IF;\nELSIF (HTTP_GET.ERROR > DWORD#00) THEN (* 错误处理 *)\n\tERROR_C := HTTP_GET.ERROR;\n\tERROR_T := BYTE#02;\n\tBUSY := FALSE;\n\tstate := 0;\nEND_IF;\n\nEND_CASE;\n\nDNS_CLIENT(IP_C := IP_C,S_BUF := S_BUF,R_BUF := R_BUF,ACTIVATE := state = 20,DOMAIN := URL_DATA.DOMAIN,IP4_DNS := DWORD#0);\nIP_C := DNS_CLIENT.IP_C;\nS_BUF := DNS_CLIENT.S_BUF;\nR_BUF := DNS_CLIENT.R_BUF;\n\nHTTP_GET(URL_DATA := URL_DATA,IP_C := IP_C,S_BUF := S_BUF,R_BUF := R_BUF,IP4 := DNS_CLIENT.IP4,GET := state = 60,MODE := BYTE#2,UNLOCK_BUF := state <> 60); (* HTTP_GET *)\nURL_DATA := HTTP_GET.URL_DATA;\nIP_C := HTTP_GET.IP_C;\nS_BUF := HTTP_GET.S_BUF;\nR_BUF := HTTP_GET.R_BUF;\n\nBASE64_ENCODE_STR(RUN := state = 40,STR1 := s1,STR2 := s2);\nbase64_done := BASE64_ENCODE_STR.DONE;\n\ns1 := BASE64_ENCODE_STR.STR1;\ns2 := BASE64_ENCODE_STR.STR2;\n\nIF T_UPDATE > T#0ms THEN w(IN := state = 0, PT := T_UPDATE); END_IF;\nupdate_last := UPDATE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "UPDATE",
          "type": "BOOL",
          "description": "输入参数UPDATE"
        },
        {
          "name": "T_UPDATE",
          "type": "TIME",
          "description": "输入参数T_UPDATE"
        },
        {
          "name": "MODE",
          "type": "BYTE",
          "description": "模式选择参数"
        },
        {
          "name": "HOSTNAME",
          "type": "oscat_STRING30",
          "description": "输入参数HOSTNAME"
        },
        {
          "name": "USERNAME",
          "type": "oscat_STRING20",
          "description": "输入参数USERNAME"
        },
        {
          "name": "PASSWORD",
          "type": "oscat_STRING20",
          "description": "输入参数PASSWORD"
        },
        {
          "name": "IP4",
          "type": "DWORD",
          "description": "输入参数IP4"
        }
      ],
      "outputs": [
        {
          "name": "BUSY",
          "type": "BOOL",
          "description": "忙碌状态"
        },
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        },
        {
          "name": "ERROR_C",
          "type": "DWORD",
          "description": "输出参数ERROR_C"
        },
        {
          "name": "ERROR_T",
          "type": "BYTE",
          "description": "输出参数ERROR_T"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何在plc上实现正弦函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF X = 0.0 THEN\n\tSINC := 1.0;\nELSE\n\tSINC := SIN(x) / x;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算两个三维向量A和B的叉积怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tB : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_XPRO : oscat_vector_3;\nEND_VAR\n\nV3_XPRO.X := A.Y * B.Z - A.Z * B.Y;\nV3_XPRO.Y := A.Z * B.X - A.X * B.Z;\nV3_XPRO.Z := A.X * B.Y - A.Y * B.X;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "oscat_vector_3",
          "description": "输入值B"
        }
      ],
      "outputs": [
        {
          "name": "V3_XPRO",
          "type": "oscat_vector_3",
          "description": "输出参数V3_XPRO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算复数的正切值",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCTAN : oscat_complex;\nEND_VAR\n\nVAR\n\ttemp : REAL;\n\txi2 : REAL;\n\txr2 : REAL;\nEND_VAR\n\nxi2 := 2.0 * x.im;\nxr2 := 2.0 * x.re;\ntemp := 1.0 / (COS(xr2) + COSH(xi2));\nCTAN.re := temp * SIN(xr2);\nCTAN.im := temp * SINH(xi2);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CTAN",
          "type": "oscat_complex",
          "description": "输出参数CTAN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用ST语言编程，实现一个递增计数器",
      "input": "",
      "output": "VAR_INPUT\nX : INT;\nD : INT;\nM : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INC\nIEC_LANGUAGE: ST\n*)\ninc := (X + D + M + 1) MOD (M + 1);",
      "description": "INC功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入参数值"
        },
        {
          "name": "D",
          "type": "INT",
          "description": "输入参数D"
        },
        {
          "name": "M",
          "type": "INT",
          "description": "输入参数M"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么对模拟信号添加偏移量",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tO1 : BOOL;\n\tO2 : BOOL;\n\tO3 : BOOL;\n\tO4 : BOOL;\n\tD : BOOL;\n\tOFFSET_1 : REAL;\n\tOFFSET_2 : REAL;\n\tOFFSET_3 : REAL;\n\tOFFSET_4 : REAL;\n\tDEFAULT : REAL;\nEND_VAR\n\nIF D THEN Offset := default; ELSE Offset := X; END_IF;\nIF O1 THEN Offset := Offset + offset_1; END_IF;\nIF O2 THEN Offset := Offset + offset_2; END_IF;\nIF O3 THEN Offset := Offset + offset_3; END_IF;\nIF O4 THEN Offset := Offset + offset_4; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "O1",
          "type": "BOOL",
          "description": "输入参数O1"
        },
        {
          "name": "O2",
          "type": "BOOL",
          "description": "输入参数O2"
        },
        {
          "name": "O3",
          "type": "BOOL",
          "description": "输入参数O3"
        },
        {
          "name": "O4",
          "type": "BOOL",
          "description": "输入参数O4"
        },
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "OFFSET_1",
          "type": "REAL",
          "description": "输入参数OFFSET_1"
        },
        {
          "name": "OFFSET_2",
          "type": "REAL",
          "description": "输入参数OFFSET_2"
        },
        {
          "name": "OFFSET_3",
          "type": "REAL",
          "description": "输入参数OFFSET_3"
        },
        {
          "name": "OFFSET_4",
          "type": "REAL",
          "description": "输入参数OFFSET_4"
        },
        {
          "name": "DEFAULT",
          "type": "REAL",
          "description": "默认值参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现用于生成简单方波信号的st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ttn : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_SQ\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF NOT init THEN\n\tinit := TRUE;\n\ttn := tx;\n\tQ := TRUE;\nELSIF tx - tn >= DWORD_TO_TIME(SHR(TIME_TO_DWORD(PT), 1)) THEN\n\tQ := NOT Q;\n\ttn := tn + DWORD_TO_TIME(SHR(TIME_TO_DWORD(PT), 1));\nEND_IF;",
      "description": "GEN_SQ信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "在plc上生成一个字节宽度的斜坡信号",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tPT : TIME;\n\tE : BOOL := TRUE;\n\tUP : BOOL := TRUE;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : BYTE;\n\tBUSY : BOOL;\n\tHIGH : BOOL;\n\tLOW : BOOL;\nEND_VAR\n\nVAR\n\trmp : _RMP_B;\nEND_VAR\n\n(* 生成斜坡 *)\nrmp(dir := UP, E := E, TR := PT, RMP := out);\nout := rmp.RMP;\n\n(* 设置或复位操作 *)\nIF RST THEN\n\tout := BYTE#0;\nELSIF SET THEN\n\tout := BYTE#255;\nEND_IF;\n\n(* 检查输出是否稳定并复位或设置忙标志 *)\nlow := out = BYTE#0;\nhigh := out = BYTE#255;\nbusy := NOT (low OR high) AND E;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "BYTE",
          "description": "输出值"
        },
        {
          "name": "BUSY",
          "type": "BOOL",
          "description": "忙碌状态"
        },
        {
          "name": "HIGH",
          "type": "BOOL",
          "description": "输出参数HIGH"
        },
        {
          "name": "LOW",
          "type": "BOOL",
          "description": "输出参数LOW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "更新日志视口中的内容，将消息写入屏幕并按给定的时间间隔重复执行的ST代码是什么",
      "input": "",
      "output": "VAR\n\tFB_TN_SC_WRITE : TN_SC_WRITE;\n\tFB_FIX : FIX;\n\tFB_TON : TON;\nEND_VAR\n\nVAR\n\tin_index : INT;\n\tin_Color : INT;\n\tby_Attr : BYTE;\n\tin_count : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_LOG_VIEWPORT : us_LOG_VIEWPORT;\n\tXus_LOG_CONTROL : us_LOG_CONTROL_80;\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nVAR_INPUT\n\tIin_X : INT;\n\tIin_Y : INT;\n\tIin_Width : INT;\n\tIdw_ATTR_1 : DWORD;\n\tIdw_ATTR_2 : DWORD;\n\tIti_TIME : TIME;\nEND_VAR\n\nIF Xus_LOG_VIEWPORT.UPDATE AND FB_TON.Q THEN\n\n\tXus_LOG_VIEWPORT.UPDATE := FALSE;\n\n\tFOR in_count := 1 TO Xus_LOG_VIEWPORT.COUNT DO\n\n\t\tin_index := Xus_LOG_VIEWPORT.LINE_ARRAY[in_count];\n\n\t\tin_Color := DWORD_TO_INT(Xus_LOG_CONTROL.MSG_OPTION[in_index] AND DWORD#2#1111);\n\n\t\tCASE in_Color OF\n\t\t\t0..3: by_Attr := BYTE_OF_DWORD(Idw_ATTR_1,INT_TO_BYTE(in_Color));\n\t\t\t4..7: by_Attr := BYTE_OF_DWORD(Idw_ATTR_2,INT_TO_BYTE(in_Color));\n\t\tELSE\n\t\t\tby_Attr := BYTE_OF_DWORD(Idw_ATTR_1,BYTE#0);\n\t\tEND_CASE;\n\n\t\tFB_FIX.str := Xus_LOG_CONTROL.MSG[in_index];\n\t\tFB_FIX.L := Iin_Width;\n\t\tFB_FIX.C := BYTE#32;\n\t\tFB_FIX.M := INT#00;\n\t\tFB_FIX();\n\n\t\tFB_TN_SC_WRITE.Iin_Y := Iin_Y + in_count - INT#01;\n\t\tFB_TN_SC_WRITE.Iin_X := Iin_X;\n\t\tFB_TN_SC_WRITE.Iby_ATTR := by_Attr;\n\t\tFB_TN_SC_WRITE.Ist_STRING := FB_FIX.FIX;\n\t\tFB_TN_SC_WRITE.Xus_TN_SCREEN := Xus_TN_SCREEN;\n\t\tFB_TN_SC_WRITE();\n\t\tXus_TN_SCREEN := FB_TN_SC_WRITE.Xus_TN_SCREEN;\n\n\tEND_FOR;\n\n\tFB_TON.IN := FALSE;\n\tFB_TON.PT := Iti_TIME;\n\tFB_TON();\n\nEND_IF;\n\nFB_TON.IN := TRUE;\nFB_TON.PT := Iti_TIME;\nFB_TON();",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        },
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_Width",
          "type": "INT",
          "description": "输入参数Iin_Width"
        },
        {
          "name": "Idw_ATTR_1",
          "type": "DWORD",
          "description": "输入参数Idw_ATTR_1"
        },
        {
          "name": "Idw_ATTR_2",
          "type": "DWORD",
          "description": "输入参数Idw_ATTR_2"
        },
        {
          "name": "Iti_TIME",
          "type": "TIME",
          "description": "输入参数Iti_TIME"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言实现向下取整函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FLOOR\nIEC_LANGUAGE: ST\n*)\nFLOOR := REAL_TO_INT(X);\nIF INT_TO_REAL(FLOOR) > X THEN\n\tfloor := floor - 1;\nEND_IF;",
      "description": "REAL类型向下取整函数，返回不大于输入值的最大整数。通过类型转换和比较运算实现精确的向下取整功能，处理正数和负数的不同情况。适用于数学计算、坐标转换、数据离散化等需要向下取整操作的应用场景。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入的实数值"
        }
      ],
      "outputs": [
        {
          "name": "FLOOR",
          "type": "INT",
          "description": "向下取整结果"
        }
      ],
      "library_dependency": "无特殊库依赖，使用标准IEC 61131-3类型转换",
      "iec_standard": "IEC 61131-3 数学函数，取整运算实现",
      "tags": [
        "向下取整",
        "数学函数",
        "实数转换",
        "坐标离散化",
        "数据量化",
        "数值处理"
      ]
    },
    {
      "instruction": "在PLC上怎么根据RUN信号的状态来进行SHA1计算",
      "input": "",
      "output": "VAR_INPUT\n\tRUN : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDONE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tSTR : oscat_STRING250;\n\tSHA1 : oscat_aB0_19;\nEND_VAR\n\nVAR\n\trun_last : BOOL;\n\tSHA1_STREAM : SHA1_STREAM;\n\tbuf : oscat_aB0_63;\n\tmode : INT;\n\tsize : UDINT;\n\tpos : UDINT;\n\ti : INT;\n\ti2 : INT;\n\tCODE : CODE;\nEND_VAR\n\nCASE mode OF\n\n0: (* 等待启动 *)\n\tIF RUN AND NOT run_last THEN\n\t\tDONE := FALSE;\n\t\tmode := 1; (* 初始化 *)\n\t\tsize := INT_TO_UDINT(LEN(STR));\n\tEND_IF;\n\n2: (* 数据复制和计算 *)\n\tIF size > UDINT#0 THEN\n\t\ti2 := 0;\n\t\tFOR i := 1 TO UDINT_TO_INT(SIZE) DO\n\t\t\tCODE(STR := MID(STR, 1, UDINT_TO_INT(POS) + i), POS := 1);\n\t\t\tbuf[i2] := CODE.CODE;\n\t\t\ti2 := i2 + 1;\n\t\tEND_FOR;\n\tEND_IF;\n\n3: DONE := TRUE;\n\tmode := 0; (* 停止 *)\n\nEND_CASE;\n\nIF mode > 0 THEN\n\tSHA1_STREAM(MODE := mode, BUF := buf, SHA1 := SHA1, SIZE := size);\n\tmode := SHA1_STREAM.MODE;\n\tbuf := SHA1_STREAM.BUF;\n\tSHA1 := SHA1_STREAM.SHA1;\n\tsize := SHA1_STREAM.SIZE;\n\tpos := SHA1_STREAM.POS;\nEND_IF;\n\nrun_last := RUN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "输入参数RUN"
        }
      ],
      "outputs": [
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何监测输入信号的上升沿，并根据计数器控制输出？给出PLC程序",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tTC : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\ttx : TP;\n\tedge : BOOL;\n\tcnt : INT := INT#-1;\nEND_VAR\n\n(* Q 只会在一个周期内激活 *)\nIF in = FALSE THEN\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\nEND_IF;\n\nIF in AND NOT edge AND NOT tx.q THEN\n\t(* 输入的上升沿将计数器设置为 0 *)\n\tcnt := 0;\nELSIF tx.Q AND NOT IN AND edge THEN\n\t(* 当 tp.q 为 true 时，计算下降沿的个数 *)\n\tcnt := cnt + 1;\nELSIF NOT tx.Q THEN\n\tCASE cnt OF\n\t\t0 : Q0 := TRUE;\n\t\t1 : Q1 := TRUE;\n\t\t2 : Q2 := TRUE;\n\t\t3 : Q3 := TRUE;\n\tEND_CASE;\n\tcnt := -1;\nEND_IF;\n\n(* 记住 IN 的状态 *)\nedge := IN;\ntx(in := IN, pt := TC);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "TC",
          "type": "TIME",
          "description": "输入参数TC"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将极坐标中的长度和角度转换为复数形式的代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tL : REAL;\n\tA : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tCPOL : oscat_complex;\nEND_VAR\n\nCPOL.re := L * COS(A);\nCPOL.im := L * SIN(A);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "L",
          "type": "REAL",
          "description": "长度参数"
        },
        {
          "name": "A",
          "type": "REAL",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "CPOL",
          "type": "oscat_complex",
          "description": "输出参数CPOL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据时间门控或脉冲测量来测量流量，用ST语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tVX : REAL;\n\tE : BOOL;\n\tRST : BOOL;\n\tPULSE_MODE : BOOL;\n\tUPDATE_TIME : TIME := T#1s;\nEND_VAR\n\nVAR_OUTPUT\n\tF : REAL;\nEND_VAR\n\nVAR_IN_OUT\n\tX : REAL;\n\tY : UDINT;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttx : TIME;\n\ttl : TIME;\n\tint1 : INTEGRATE;\n\tinit : BOOL;\n\te_last : BOOL;\n\ttmp : INT;\n\tx_last : REAL;\n\ty_last : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FLOW_METER\nIEC_LANGUAGE: ST\n*)\nIF NOT init THEN (* 开机初始化 *)\n\tinit := TRUE;\n\ttl := tx;\n\tx_last := X;\n\ty_last := Y;\n\tint1.K := 2.7777777777777777E-4;\nEND_IF;\n\n(* 运行积分器 *)\nint1(E := NOT (RST OR PULSE_MODE) AND E, X := VX, Y := X); (* 闭合操作 *)\nX := int1.Y;\n\nIF RST THEN (* 复位 *)\n\tX := 0.0;\n\tY := UDINT#0;\n\ttl := tx;\n\tx_last := 0.0;\n\ty_last := UDINT#0;\nELSIF E AND PULSE_MODE THEN (* 检查脉冲模式 *)\n\tIF NOT e_last THEN X := X + VX; END_IF;\nEND_IF;\ne_last := E;\n\n(* 将X减小至小于1并分别增加Y *)\nIF X > 1.0 THEN\n\ttmp := FLOOR(X);\n\tY := Y + _INT_TO_UDINT(tmp);\n\tX := X - INT_TO_REAL(tmp);\nEND_IF;\n\n(* 计算当前流量 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\nIF tx - tl >= UPDATE_TIME AND UPDATE_TIME > t#0s THEN\n\tF := (UDINT_TO_REAL(Y - y_last) + X - x_last) / TIME_TO_REAL(tx - tl) * 3.6E6;\n\ty_last := Y;\n\tx_last := X;\n\ttl := tx;\nEND_IF;",
      "description": "工业流量计功能块，支持时间门控和脉冲测量两种模式。采用积分算法计算累积流量，并通过时间差分计算瞬时流量。支持脉冲输入和连续测量，适用于液体、气体流量监测，工业过程控制中的流量计量等应用。",
      "inputs": [
        {
          "name": "VX",
          "type": "REAL",
          "description": "流量输入信号(体积/脉冲)"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号，启动流量测量"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，清零累积流量"
        },
        {
          "name": "PULSE_MODE",
          "type": "BOOL",
          "description": "脉冲模式选择"
        },
        {
          "name": "UPDATE_TIME",
          "type": "TIME",
          "description": "流量更新周期"
        }
      ],
      "outputs": [
        {
          "name": "F",
          "type": "REAL",
          "description": "计算得到的流量值"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_MS系统时间, INTEGRATE积分器, FLOOR函数",
      "iec_standard": "IEC 61131-3 流量计算算法，积分和时间处理",
      "tags": [
        "流量测量",
        "脉冲计数",
        "积分算法",
        "工业仪表",
        "过程控制",
        "流量计量"
      ]
    },
    {
      "instruction": "在plc上怎么从CSV文件中解析数据",
      "input": "",
      "output": "VAR\n\tline_cnt : INT := 2;\n\tcol_cnt : INT := 4;\n\tCPB : CSV_PARSER_BUF;\n\tFS : FILE_SERVER;\n\tFSD : oscat_FILE_SERVER_DATA;\n\tPT : oscat_NETWORK_BUFFER;\n\tsep : BYTE;\n\tvalue : oscat_STRING250;\n\tstep : INT;\n\tresult : BYTE;\n\toffset : UDINT;\n\trun : BYTE;\n\tdone : BOOL;\n\tvalue_real : REAL;\n\tcnt : INT;\n\tline : INT;\n\tidx : INT;\n\tdata : csv_parser_demo;\n\tFLOAT_TO_REAL : FLOAT_TO_REAL;\nEND_VAR\n\nCASE step OF\n\n00:\n\tIF NOT done THEN\n\t\t(* 文件数据初始化 *)\n\t\tFSD.FILENAME := 'csv.txt';\n\t\tFSD.MODE := BYTE#1;\n\t\tFSD.OFFSET := UDINT#0;\n\t\tFSD.AUTO_CLOSE := T#0s;\n\t\tPT.SIZE := UINT#65535;\n\t\tstep := 10;\n\tEND_IF;\n\n10:\n\tIF FSD.MODE = BYTE#0 THEN\n\t\tOFFSET := UDINT#0;\n\t\tsep := BYTE#44;\n\t\trun := BYTE#1;\n\t\tcnt := 0;\n\t\tstep := 20;\n\tEND_IF;\n\n20:\n\tIF run = BYTE#0 THEN\n\n\t\trun := BYTE#1;\n\n\t\tIF result = BYTE#1 OR result = BYTE#2 THEN\n\t\t\tIF LEN(value) <= 20 THEN\n\t\t\t\tFLOAT_TO_REAL(FLT:=value);\n\t\t\t\tvalue_real := FLOAT_TO_REAL.FLOAT_TO_REAL;\n\t\t\tELSE\n\t\t\t\tvalue_real := 0.0;\n\t\t\tEND_IF;\n\n\t\t\tcnt := cnt + 1;\n\t\t\tIF cnt <= line_cnt * col_cnt THEN\n\t\t\t\tline := (cnt / col_cnt) + 1;\n\t\t\t\tidx := (cnt MOD col_cnt);\n\t\t\t\tdata[line][idx] := value_real;\n\t\t\tEND_IF;\n\n\t\tELSIF result = BYTE#10 THEN\n\t\t\trun := BYTE#0;\n\t\t\tFSD.MODE := BYTE#5;\n\t\t\tstep := 30;\n\t\tEND_IF;\n\tEND_IF;\n\n30:\n\tIF FSD.MODE = BYTE#0 THEN\n\t\tstep := 0;\n\t\tdone := TRUE;\n\tEND_IF;\n\nEND_CASE;\n\nCPB(SEP:=sep,RUN:=run,OFFSET:=offset,VALUE:=value,PT:=PT);\nrun := CPB.RUN;\noffset := CPB.OFFSET;\nvalue := CPB.VALUE;\nPT := CPB.PT;\nresult := CPB.RESULT;\n\nFS(FSD:=FSD,PT:=PT); (* 文件服务器 *)\nFSD := FS.FSD;\nPT := FS.PT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据日照的角度以及设定的时间，控制遮阳板的角度和位置怎么用ST语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tAI : BYTE;\n\tENABLE : BOOL;\n\tSUN : BOOL;\n\tSUNRISE_OFFSET : TIME := T#1h;\n\tSUNSET_PRESET : TIME := T#1h;\n\tDIRECTION : REAL := 180.0;\n\tANGLE_OFFSET : REAL := 80.0;\n\tSLAT_WIDTH : REAL := 80.0;\n\tSLAT_SPACING : REAL := 60.0;\n\tSHADE_DELAY : TIME := T#60s;\n\tSHADE_POS : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\n\tPO : BYTE;\n\tAO : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tCX : oscat_CALENDAR;\nEND_VAR\n\nVAR\n\tangle : REAL;\n\tsun_delay : TOF;\nEND_VAR\n\n(* 输入的太阳信号通过延时器(TOF)进行延迟，延迟时间为shade_delay *)\nsun_delay(IN := sun, PT := shade_delay);\n\nIF UP AND DN AND enable AND sun_delay.Q AND cx.SUN_HOR > direction - angle_offset AND cx.SUN_HOR < direction + angle_offset AND\n\tDT_TO_TOD(cx.UTC) > cx.SUN_RISE + TIME_TO_UDINT(sunrise_offset) AND DT_TO_TOD(cx.UTC) < cx.SUN_SET - TIME_TO_UDINT(sunset_preset) THEN\n\tstatus := BYTE#151;\n\tQU := UP;\n\tQD := DN;\n\t(* 位置预设 *)\n\tpo := shade_pos;\n\t(* 遮阳启动，计算百叶窗的角度 *)\n\t(* 计算百叶窗的最大角度 *)\n\tangle := DEG(ATAN(slat_spacing / slat_width));\n\t(* 检查太阳角度是否在0到最大角度之间 *)\n\tIF cx.SUN_VER > 0.0 AND cx.SUN_VER < angle THEN\n\t\tangle := cx.SUN_VER + DEG(ACOS(COS(RAD(cx.SUN_VER)) * slat_spacing / Slat_width));\n\t\tao := INT_TO_BYTE(LIMIT(0, UDINT_TO_INT(TRUNC_UDINT(angle * 2.833333333)), 255));\n\tELSE\n\t\tao := BYTE#255;\n\tEND_IF;\nELSE\n\tQU := UP;\n\tQD := DN;\n\tpo := pi;\n\tao := ai;\n\tstatus := S_IN;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "AI",
          "type": "BYTE",
          "description": "输入参数AI"
        },
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "SUN",
          "type": "BOOL",
          "description": "输入参数SUN"
        },
        {
          "name": "SUNRISE_OFFSET",
          "type": "TIME",
          "description": "输入参数SUNRISE_OFFSET"
        },
        {
          "name": "SUNSET_PRESET",
          "type": "TIME",
          "description": "输入参数SUNSET_PRESET"
        },
        {
          "name": "DIRECTION",
          "type": "REAL",
          "description": "输入参数DIRECTION"
        },
        {
          "name": "ANGLE_OFFSET",
          "type": "REAL",
          "description": "输入参数ANGLE_OFFSET"
        },
        {
          "name": "SLAT_WIDTH",
          "type": "REAL",
          "description": "输入参数SLAT_WIDTH"
        },
        {
          "name": "SLAT_SPACING",
          "type": "REAL",
          "description": "输入参数SLAT_SPACING"
        },
        {
          "name": "SHADE_DELAY",
          "type": "TIME",
          "description": "输入参数SHADE_DELAY"
        },
        {
          "name": "SHADE_POS",
          "type": "BYTE",
          "description": "输入参数SHADE_POS"
        }
      ],
      "outputs": [
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输出参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输出参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        },
        {
          "name": "PO",
          "type": "BYTE",
          "description": "输出参数PO"
        },
        {
          "name": "AO",
          "type": "BYTE",
          "description": "输出参数AO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成一个脉冲信号，并在脉冲生成后自动重置输入信号IN。给我st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tPT1 : TIME;\n\tPTD : TIME;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tW : BOOL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tstart : TIME;\n\tix : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF RST THEN\n\tQ := FALSE;\n\trst := FALSE;\n\tW := FALSE;\nELSIF W THEN\n\tIF tx - start >= PTD THEN\n\t\tW := FALSE;\n\tEND_IF;\nELSIF IN AND NOT ix THEN\n\tQ := TRUE;\n\tstart := tx;\n\tin := FALSE;\nELSIF tx - start >= PT1 THEN\n\tQ := FALSE;\n\tW := TRUE;\n\tstart := tx;\nEND_IF;\n\nix := IN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PT1",
          "type": "TIME",
          "description": "输入参数PT1"
        },
        {
          "name": "PTD",
          "type": "TIME",
          "description": "输入参数PTD"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "W",
          "type": "BOOL",
          "description": "输出参数W"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入和时间条件计算并控制方向、增减状态。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tE : BOOL := TRUE;\n\tIN : BYTE;\n\tTR : TIME;\n\tTF : TIME;\n\tTL : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tDIR : BOOL;\n\tUP : BOOL;\n\tDN : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tOUT : BYTE;\nEND_VAR\n\nVAR\n\trmx : _RMP_B;\n\tdirx : TREND_DW;\n\tt_lock : TP;\n\txen : BOOL;\n\txdir : BOOL;\nEND_VAR\n\ndirx(X := BYTE_TO_DWORD(in));\nt_lock(in := FALSE, pt := TL);\n\nIF dirx.TU AND (OUT < IN) THEN\n\tIF NOT xdir AND xen THEN t_lock(in := TRUE); END_IF;\n\txen := TRUE;\n\txdir := TRUE;\nELSIF dirx.TD AND (OUT > IN) THEN\n\tIF xdir AND xen THEN t_lock(in := TRUE); END_IF;\n\txen := TRUE;\n\txdir := FALSE;\nELSIF xen THEN\n\tIF (xdir AND (out >= in)) OR (NOT xdir AND (out <= in)) THEN\n\t\txen := FALSE;\n\t\tIF tl > t#0s THEN t_lock(IN := TRUE); END_IF;\n\tEND_IF;\nEND_IF;\n\nIF NOT t_lock.Q AND xen THEN\n\tUP := XDIR;\n\tDIR := XDIR;\n\tDN := NOT XDIR;\nELSE\n\tUP := FALSE;\n\tDN := FALSE;\nEND_IF;\n\nrmx(rmp := OUT, E := E AND (UP OR DN), dir := DIR, tr := SEL(dir, TF, TR));\nOUT := rmx.RMP;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        },
        {
          "name": "TR",
          "type": "TIME",
          "description": "输入参数TR"
        },
        {
          "name": "TF",
          "type": "TIME",
          "description": "输入参数TF"
        },
        {
          "name": "TL",
          "type": "TIME",
          "description": "低电平时间"
        }
      ],
      "outputs": [
        {
          "name": "DIR",
          "type": "BOOL",
          "description": "方向指示"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输出参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输出参数DN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "PLC如何处理日志信息",
      "input": "",
      "output": "VAR_EXTERNAL\n\tLOG_CL_80 : us_LOG_CONTROL_80;\nEND_VAR\n\nVAR\n\tFB_PRINT_SF_80 : PRINT_SF_80;\nEND_VAR\n\nVAR\n\tidx : INT;\nEND_VAR\n\nIF DWORD_TO_BYTE(SHL(LOG_CL_80.NEW_MSG_OPTION,16)) > LOG_CL_80.LEVEL THEN RETURN; END_IF;\nLOG_CL_80.SIZE := 400;\n\nFB_PRINT_SF_80.PRINTF_DATA := LOG_CL_80.PRINTF;\nFB_PRINT_SF_80();\nLOG_CL_80.NEW_MSG := FB_PRINT_SF_80.STR;\nLOG_CL_80.PRINTF := FB_PRINT_SF_80.PRINTF_DATA;\n\nIF LOG_CL_80.RESET THEN\n\tLOG_CL_80.RESET := FALSE;\n\tLOG_CL_80.RING_MODE := FALSE;\n\tLOG_CL_80.IDX := 0;\n\tLOG_CL_80.UPDATE_COUNT := LOG_CL_80.UPDATE_COUNT + UINT#1;\nEND_IF;\n\nIF LEN(LOG_CL_80.NEW_MSG) > 0 THEN\n\tIF (LOG_CL_80.IDX >= LOG_CL_80.SIZE) THEN\n\t\tLOG_CL_80.RING_MODE := TRUE;\n\t\tLOG_CL_80.IDX := 0;\n\tEND_IF;\n\n\tLOG_CL_80.UPDATE_COUNT := LOG_CL_80.UPDATE_COUNT + UINT#1;\n\tLOG_CL_80.IDX := LOG_CL_80.IDX + INT#1;\n\tidx := LOG_CL_80.IDX;\n\tLOG_CL_80.MSG[idx] := LOG_CL_80.NEW_MSG;\n\tLOG_CL_80.MSG_OPTION[idx] := LOG_CL_80.NEW_MSG_OPTION;\n\tLOG_CL_80.NEW_MSG := '';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言将输入字符串转换为小写字母？",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tLOWERCASE : STRING;\nEND_VAR\n\nVAR\n\tchar : BYTE;\n\tchar2 : BYTE;\n\tpos : INT;\n\tl : INT;\n\tstr_temp : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LOWERCASE\nIEC_LANGUAGE: ST\n*)\nLOWERCASE := str;\nl := LEN(str);\nFOR pos := 1 TO l DO\n\tchar := INT_TO_BYTE(GET_CHAR(str,pos));\n\tchar2 := TO_LOWER(char);\n\tIF char <> char2 THEN\n\t\tstr_temp := LOWERCASE;\n\t\tLOWERCASE := REPLACE(str_temp,BYTE_TO_STRING(char2,'%c'),1,pos);\n\tEND_IF;\nEND_FOR;",
      "description": "LOWERCASE功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "LOWERCASE",
          "type": "STRING",
          "description": "输出参数LOWERCASE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用ST语言计算并返回三个实数值中的最大值",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tIN3 : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MAX3\nIEC_LANGUAGE: ST\n*)\nMAX3 := MAX(MAX(IN1,IN2),IN3);",
      "description": "MAX3功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "REAL",
          "description": "输入参数IN3"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的不同气压单位将它们转换为标准的气压单位该怎么用st语言编写程序",
      "input": "",
      "output": "VAR_INPUT\n\tMWS : REAL;\n\tTORR : REAL;\n\tATT : REAL;\n\tATM : REAL;\n\tPA : REAL;\n\tBAR : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tYMWS : REAL;\n\tYTORR : REAL;\n\tYATT : REAL;\n\tYATM : REAL;\n\tYPA : REAL;\n\tYBAR : REAL;\nEND_VAR\n\nYbar := bar +\n\t\tpa * 1.0E-5 +\n\t\t0.980665 * att +\n\t\t1.01325 * atm +\n\t\t0.001333224 * torr +\n\t\t0.0980665 * mws;\nYmws := ybar * 10.1971621297793;\nYtorr := ybar * 750.0615050434140;\nYatt := ybar * 1.0197162129779;\nyatm := ybar * 0.9869232667160;\nYpa := ybar * 100000.0;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MWS",
          "type": "REAL",
          "description": "输入参数MWS"
        },
        {
          "name": "TORR",
          "type": "REAL",
          "description": "输入参数TORR"
        },
        {
          "name": "ATT",
          "type": "REAL",
          "description": "输入参数ATT"
        },
        {
          "name": "ATM",
          "type": "REAL",
          "description": "输入参数ATM"
        },
        {
          "name": "PA",
          "type": "REAL",
          "description": "输入参数PA"
        },
        {
          "name": "BAR",
          "type": "REAL",
          "description": "输入参数BAR"
        }
      ],
      "outputs": [
        {
          "name": "YMWS",
          "type": "REAL",
          "description": "输出参数YMWS"
        },
        {
          "name": "YTORR",
          "type": "REAL",
          "description": "输出参数YTORR"
        },
        {
          "name": "YATT",
          "type": "REAL",
          "description": "输出参数YATT"
        },
        {
          "name": "YATM",
          "type": "REAL",
          "description": "输出参数YATM"
        },
        {
          "name": "YPA",
          "type": "REAL",
          "description": "输出参数YPA"
        },
        {
          "name": "YBAR",
          "type": "REAL",
          "description": "输出参数YBAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么根据输入信号的不同范围选择不同的参数集，以实现不同的控制策略？用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tX01 : REAL;\n\tX02 : REAL;\n\tX03 : REAL;\n\tX04 : REAL;\n\tX11 : REAL;\n\tX12 : REAL;\n\tX13 : REAL;\n\tX14 : REAL;\n\tX21 : REAL;\n\tX22 : REAL;\n\tX23 : REAL;\n\tX24 : REAL;\n\tX31 : REAL;\n\tX32 : REAL;\n\tX33 : REAL;\n\tX34 : REAL;\n\tL1 : REAL;\n\tL2 : REAL;\n\tL3 : REAL;\n\tTC : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tP1 : REAL;\n\tP2 : REAL;\n\tP3 : REAL;\n\tP4 : REAL;\nEND_VAR\n\nVAR\n\tPset : parset;\n\tinit : BOOL;\nEND_VAR\n\n(* 初始化序列 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tpset(TC:=TC, X01:=X01, X02:=X02, X03:=X03, X04:=X04, X11:=X11, X12:=X12, X13:=X13, X14:=X14, X21:=X21, X22:=X22, X23:=X23, X24:=X24, X31:=X31, X32:=X32, X33:=X33, X34:=X34);\nEND_IF;\nIF ABS(X) < L1 THEN\n\tpset(A0 := FALSE, A1 := FALSE);\nELSIF ABS(X) < L2 THEN\n\tpset(A0 := TRUE, A1 := FALSE);\nELSIF ABS(x) < L3 THEN\n\tpset(A0 := FALSE, A1 := TRUE);\nELSE\n\tpset(A0 := TRUE, A1 := TRUE);\nEND_IF;\nP1 := pset.P1;\nP2 := pset.P2;\nP3 := pset.P3;\nP4 := pset.P4;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "X01",
          "type": "REAL",
          "description": "输入参数X01"
        },
        {
          "name": "X02",
          "type": "REAL",
          "description": "输入参数X02"
        },
        {
          "name": "X03",
          "type": "REAL",
          "description": "输入参数X03"
        },
        {
          "name": "X04",
          "type": "REAL",
          "description": "输入参数X04"
        },
        {
          "name": "X11",
          "type": "REAL",
          "description": "输入参数X11"
        },
        {
          "name": "X12",
          "type": "REAL",
          "description": "输入参数X12"
        },
        {
          "name": "X13",
          "type": "REAL",
          "description": "输入参数X13"
        },
        {
          "name": "X14",
          "type": "REAL",
          "description": "输入参数X14"
        },
        {
          "name": "X21",
          "type": "REAL",
          "description": "输入参数X21"
        },
        {
          "name": "X22",
          "type": "REAL",
          "description": "输入参数X22"
        },
        {
          "name": "X23",
          "type": "REAL",
          "description": "输入参数X23"
        },
        {
          "name": "X24",
          "type": "REAL",
          "description": "输入参数X24"
        },
        {
          "name": "X31",
          "type": "REAL",
          "description": "输入参数X31"
        },
        {
          "name": "X32",
          "type": "REAL",
          "description": "输入参数X32"
        },
        {
          "name": "X33",
          "type": "REAL",
          "description": "输入参数X33"
        },
        {
          "name": "X34",
          "type": "REAL",
          "description": "输入参数X34"
        },
        {
          "name": "L1",
          "type": "REAL",
          "description": "输入参数L1"
        },
        {
          "name": "L2",
          "type": "REAL",
          "description": "输入参数L2"
        },
        {
          "name": "L3",
          "type": "REAL",
          "description": "输入参数L3"
        },
        {
          "name": "TC",
          "type": "TIME",
          "description": "输入参数TC"
        }
      ],
      "outputs": [
        {
          "name": "P1",
          "type": "REAL",
          "description": "输出参数P1"
        },
        {
          "name": "P2",
          "type": "REAL",
          "description": "输出参数P2"
        },
        {
          "name": "P3",
          "type": "REAL",
          "description": "输出参数P3"
        },
        {
          "name": "P4",
          "type": "REAL",
          "description": "输出参数P4"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么根据输入的实数X判断其是否为标准化数字、非标准化数字、正无穷、负无穷或NaN",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tCHK_REAL : BYTE;\nEND_VAR\n\nVAR\n\ttmp : DWORD;\n\tREAL_TO_DW : REAL_TO_DW;\nEND_VAR\n\nREAL_TO_DW(X:=X); (* 将实数转换为DWORD，real_to_dword 在许多系统中不能正常工作，因为它将DWORD视为数字 )\ntmp := ROL(REAL_TO_DW.REAL_TO_DW,1); ( 向左旋转，方便检查，符号位将至少在有效数字处 )\nIF tmp < DWORD#16#FF000000 THEN\n\tCHK_REAL := BYTE#16#00; ( 标准化和非标准化的数字 )\nELSIF tmp = DWORD#16#FF000000 THEN\n\tCHK_REAL := BYTE#16#20; ( X 是 正无穷，符合 IEEE754 )\nELSIF tmp = DWORD#16#FF000001 THEN\n\tCHK_REAL := BYTE#16#40; ( X 是 负无穷，符合 IEEE754 )\nELSE\n\tCHK_REAL := BYTE#16#80; ( X 是 NaN，符合 IEEE754 *)\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CHK_REAL",
          "type": "BYTE",
          "description": "输出参数CHK_REAL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算反古德曼函数怎么用st代码写",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nAGDF := LN((1.0 + SIN(X)) / COS(X));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言使用斯特林公式计算伽马函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GAMMA\nIEC_LANGUAGE: ST\n*)\nIF x > 0.0 THEN\n\tGAMMA := SQRT(6.28318530717958647692528676655900576 / X) * EXPT(0.367879441171442 * (x + 1.0 / (12.0 * x - 0.1 / X)), X);\nEND_IF;\n\n(* 对于 X 的小值，斯特林公式的准确性较差 *)\nIF X >= 0 THEN GAMMA := SQRT(math.PI2 * X) * EXPT(X / math.E, X); END_IF;",
      "description": "伽马函数计算，使用斯特林公式实现高精度数学计算。适用于统计分析、信号处理等科学计算应用。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数学函数和算法实现",
      "tags": [
        "伽马函数",
        "数学计算",
        "斯特林公式",
        "统计分析",
        "科学计算"
      ]
    },
    {
      "instruction": "用ST语言怎么处理REAL类型数据的记录和日志功能",
      "input": "",
      "output": "VAR_INPUT\n\tVALUE : REAL;\n\tN : INT;\n\tD : oscat_STRING1 := ',';\n\tCOLUMN : oscat_STRING40;\n\tDELTA : REAL;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_DLOG_DATA;\nEND_VAR\n\nVAR\n\tucb : UNI_CIRCULAR_BUFFER;\n\tinit : BOOL;\n\tid : WORD;\n\tREAL_TO_STRF : REAL_TO_STRF;\n\tdelta_last : REAL;\n\tvalue_last : REAL;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tid := SHL(USINT_TO_WORD(X.ID_MAX),8) OR WORD#1;\n\tid := WORD#16#0201;\nEND_IF;\n\nIF X.ADD_HEADER THEN\n\tX.UCB.D_STRING := COLUMN;\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\nELSIF X.ADD_DATA THEN\n\tREAL_TO_STRF(IN := value_last, N := N, D := D);\n\tX.UCB.D_STRING := REAL_TO_STRF.REAL_TO_STRF;\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\n\tdelta_last := value_last;\nELSIF DELTA <> 0.0 THEN\n\tIF VALUE <= (delta_last - DELTA) OR VALUE >= (delta_last + DELTA) THEN\n\t\tX.ADD_DATA_REQ := TRUE;\n\t\tdelta_last := VALUE;\n\tEND_IF;\nEND_IF;\nvalue_last := VALUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "VALUE",
          "type": "REAL",
          "description": "输入参数VALUE"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "D",
          "type": "oscat_STRING1",
          "description": "输入参数D"
        },
        {
          "name": "COLUMN",
          "type": "oscat_STRING40",
          "description": "输入参数COLUMN"
        },
        {
          "name": "DELTA",
          "type": "REAL",
          "description": "输入参数DELTA"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算数组的标准差怎么用ST语言编写",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_SDV : REAL;\nEND_VAR\n\nVAR\n\tFB_array_var : array_var;\nEND_VAR\n\n(* 标准差是方差的平方根 *)\nFB_array_var.pt := pt;\nFB_array_var.size := size;\nFB_array_var();\npt := FB_array_var.pt;\n\narray_sdv := SQRT(FB_array_var.array_var);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_SDV",
          "type": "REAL",
          "description": "输出参数ARRAY_SDV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码将地理坐标的度、分、秒转换为十进制度数",
      "input": "",
      "output": "VAR_INPUT\n\tD : INT;\n\tM : INT;\n\tSEC : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEO_TO_DEG\nIEC_LANGUAGE: ST\n*)\nGEO_TO_DEG := INT_TO_REAL(D) + INT_TO_REAL(M) * 0.016666666666667 + sec * 0.00027777777777778;",
      "description": "GEO_TO_DEG功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D",
          "type": "INT",
          "description": "输入参数D"
        },
        {
          "name": "M",
          "type": "INT",
          "description": "输入参数M"
        },
        {
          "name": "SEC",
          "type": "REAL",
          "description": "输入参数SEC"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现延迟信号，存储最近的64个输入值，并输出最早的输入值，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tTRIG : BOOL;\nEND_VAR\n\nVAR\n\tlength : INT := 64;\n\tX : oscat_FT_TN64_array;\n\tcnt : INT;\n\tlast : TIME;\n\ttx : TIME;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_TN64\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\ntrig := FALSE;\nIF NOT init THEN\n\tx[cnt] := in;\n\tinit := TRUE;\n\tlast := tx;\nELSIF tx - last >= T / INT_TO_TIME(length) THEN\n\tIF cnt = length - 1 THEN cnt := 0; ELSE cnt := cnt + 1; END_IF;\n\tOut := X[cnt];\n\tx[cnt] := in;\n\tlast := tx;\n\ttrig := TRUE;\nEND_IF;",
      "description": "FT_TN64功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "时间参数"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言计算BETA函数的值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tY : REAL;\nEND_VAR\n\nBETA := GAMMA(X) * GAMMA(Y) / GAMMA(X + Y);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言计算线性函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tA : REAL;\n\tB : REAL;\nEND_VAR\n\nF_lin := A * X + B;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "A",
          "type": "REAL",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "REAL",
          "description": "输入值B"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据布尔变量IN的值，将其转换为对应的字符串",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tBOOL_TO_STRING : oscat_STRING1;\nEND_VAR\n\nBOOL_TO_STRING := SEL_STRING(IN,'0','1');",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "BOOL_TO_STRING",
          "type": "oscat_STRING1",
          "description": "输出参数BOOL_TO_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过plc驱动具有模拟控制的阀门或类似设备",
      "input": "",
      "output": "VAR_INPUT\n\tI1 : BYTE;\n\tIS : BOOL;\n\tI2 : BYTE;\n\tRV : BOOL;\n\tDX : BOOL;\n\tRUNTIME : TIME;\n\tSELF_ACT_TIME : TIME;\n\tOUT_MIN : DWORD;\n\tOUT_MAX : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tY : DWORD;\nEND_VAR\n\nVAR\n\ttimer : CYCLE_4;\n\tdx_edge : BOOL;\nEND_VAR\n\n(* 运行系统定时器，如果self_act_time = t#0s，则状态设置为0 *)\ntimer(T0 := RUNTIME, T1 := RUNTIME, T3 := SELF_ACT_TIME, sl := DX AND NOT dx_edge, sx := 0, S0 := SELF_ACT_TIME > t#0s);\ndx_edge := dx;\n\nCASE timer.STATE OF\n\t0: (* 自动作最小值 *)\n\t\tY := OUT_MIN;\n\t1: (* 自动作最大值 *)\n\t\tY := OUT_MAX;\n\t3: (* 正常操作 *)\n\t\tIF RV THEN\n\t\t\tY := UDINT_TO_DWORD(DWORD_TO_UDINT(OUT_MAX) - (DWORD_TO_UDINT(OUT_MAX) - DWORD_TO_UDINT(OUT_MIN)) * BYTE_TO_UDINT(SEL(IS, I1, I2)) / UDINT#255);\n\t\tELSE\n\t\t\tY := UDINT_TO_DWORD((DWORD_TO_UDINT(OUT_MAX) - DWORD_TO_UDINT(OUT_MIN)) * BYTE_TO_UDINT(SEL(IS, I1, I2)) / UDINT#255 + DWORD_TO_UDINT(OUT_MIN));\n\t\tEND_IF;\nEND_CASE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I1",
          "type": "BYTE",
          "description": "输入信号1"
        },
        {
          "name": "IS",
          "type": "BOOL",
          "description": "输入参数IS"
        },
        {
          "name": "I2",
          "type": "BYTE",
          "description": "输入信号2"
        },
        {
          "name": "RV",
          "type": "BOOL",
          "description": "输入参数RV"
        },
        {
          "name": "DX",
          "type": "BOOL",
          "description": "输入参数DX"
        },
        {
          "name": "RUNTIME",
          "type": "TIME",
          "description": "输入参数RUNTIME"
        },
        {
          "name": "SELF_ACT_TIME",
          "type": "TIME",
          "description": "输入参数SELF_ACT_TIME"
        },
        {
          "name": "OUT_MIN",
          "type": "DWORD",
          "description": "输入参数OUT_MIN"
        },
        {
          "name": "OUT_MAX",
          "type": "DWORD",
          "description": "输入参数OUT_MAX"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "DWORD",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何判断输入值IN的变化是否超过设定的阈值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tRES : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tD : REAL;\nEND_VAR\n\nVAR\n\tlast_in : REAL;\nEND_VAR\n\nD := IN - LAST_IN;\nIF ABS(D) >= res THEN\n\tQ := TRUE;\n\tlast_in := IN;\nELSE\n\tQ := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "RES",
          "type": "REAL",
          "description": "输入参数RES"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "输出参数D"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过多次位操作和计算生成一个伪随机数，怎么用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tLAST : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tRDM : REAL;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\ttn : DWORD;\n\ttc : INT;\nEND_VAR\n\nT_PLC_MS();\ntn := UDINT_TO_DWORD(T_PLC_MS.T_PLC_MS);\ntc := Bit_Count(tn);\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,2),31); (* tn.31 := tn.2; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,5),30); (* tn.30 := tn.5; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,4),29); (* tn.29 := tn.4; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,1),28); (* tn.28 := tn.1; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,0),27); (* tn.27 := tn.0; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,7),26); (* tn.26 := tn.7; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,6),25); (* tn.25 := tn.6; *)\ntn:=BIT_LOAD_DW(tn,BIT_OF_DWORD(tn,3),24); (* tn.24 := tn.3; *)\ntn := ROL(tn,Bit_Count(tn)) OR DWORD#16#80000001;\ntn := UDINT_TO_DWORD(DWORD_TO_UDINT(tn) MOD UDINT#71474513 + _INT_TO_UDINT(tc) + UDINT#77);\nRDM := fract(_DWORD_TO_REAL(tn) / 10000000.0 * (2.71828182845904523536028747135266249 - LIMIT_REAL(0.0,last,1.0)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LAST",
          "type": "REAL",
          "description": "输入参数LAST"
        }
      ],
      "outputs": [
        {
          "name": "RDM",
          "type": "REAL",
          "description": "输出参数RDM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言计算向量A的反向向量",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_REV : oscat_vector_3;\nEND_VAR\n\nV3_REV.X := -A.X;\nV3_REV.Y := -A.Y;\nV3_REV.Z := -A.Z;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_REV",
          "type": "oscat_vector_3",
          "description": "输出参数V3_REV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过st语言编程实现一个四D型触发器，具有复位功能和上升沿触发",
      "input": "",
      "output": "VAR_INPUT\n\tD0 : BOOL;\n\tD1 : BOOL;\n\tD2 : BOOL;\n\tD3 : BOOL;\n\tCLK : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\nEND_VAR\n\nIF RST THEN\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\nELSIF CLK AND NOT edge THEN\n\tQ0 := D0;\n\tQ1 := D1;\n\tQ2 := D2;\n\tQ3 := D3;\nEND_IF;\nedge := CLK;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D1",
          "type": "BOOL",
          "description": "输入参数D1"
        },
        {
          "name": "D2",
          "type": "BOOL",
          "description": "输入参数D2"
        },
        {
          "name": "D3",
          "type": "BOOL",
          "description": "输入参数D3"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从输入字符串IN中删除所有不符合目标字符的字符。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING250;\n\tCX : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tCLEAN : oscat_STRING250;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tstop : INT;\n\tchar : oscat_STRING1;\nEND_VAR\n\n(* 复制输入字符串 *)\nCLEAN := IN;\nstop := LEN(in);\npos := 1;\nWHILE pos <= stop DO\n\tchar := MID(CLEAN, 1, pos);\n\tIF FIND(cx,char) > 0 THEN\n\t\t(* 找到字符时跳过当前字符 *)\n\t\tpos := pos + 1;\n\tELSE\n\t\t(* 字符不符合要求，需要删除 *)\n\t\tCLEAN := DELETE(CLEAN, 1, pos);\n\t\tstop := stop - 1; (* 字符串长度减一 *)\n\tEND_IF;\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING250",
          "description": "输入信号值"
        },
        {
          "name": "CX",
          "type": "STRING",
          "description": "输入参数CX"
        }
      ],
      "outputs": [
        {
          "name": "CLEAN",
          "type": "oscat_STRING250",
          "description": "输出参数CLEAN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST语言编程根据输入的频率和占空比计算脉冲信号",
      "input": "",
      "output": "VAR_INPUT\n\tF : REAL;\n\tDC : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tclk : CLK_Prg;\n\tpulse : TP_X;\n\ttmp : REAL;\nEND_VAR\n\nIF F > 0.0 THEN\n\ttmp := 1000.0/F;\n\tCLK(PT := REAL_TO_TIME(tmp));\n\tPulse(in := clk.Q, pt := REAL_TO_TIME(tmp*DC));\n\tQ := pulse.Q;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "F",
          "type": "REAL",
          "description": "频率参数"
        },
        {
          "name": "DC",
          "type": "REAL",
          "description": "占空比参数"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将ITOD类型表示的时间转换为秒咋用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tITOD : UDINT;\nEND_VAR\n\nsecond := UDINT_TO_REAL(itod MOD UDINT#60000) / REAL#1000.00;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ITOD",
          "type": "UDINT",
          "description": "输入参数ITOD"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的速度从米每秒转换为千米每小时怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tMS : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MS_TO_KMH\nIEC_LANGUAGE: ST\n*)\nMS_TO_KMH := ms * 3.6;",
      "description": "MS_TO_KMH功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MS",
          "type": "REAL",
          "description": "输入参数MS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过编程计算复数X的反双曲余弦",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCACOSH : oscat_complex;\nEND_VAR\n\nVAR\n\tY : oscat_complex;\n\tCLOG : CLOG;\n\tCSQRT : CSQRT;\nEND_VAR\n\nY.re := (X.re - X.im)*(X.re + X.im) - 1.0;\nY.im := 2.0 * X.re * X.im;\nCSQRT(X:=Y);\nY := CSQRT.CSQRT;\nY.re := Y.re + X.re;\nY.im := Y.im + X.im;\nCLOG(X:=Y);\nCACOSH := CLOG.CLOG;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CACOSH",
          "type": "oscat_complex",
          "description": "输出参数CACOSH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个字节输入线性转换和缩放到一个实数输出的st代码是？",
      "input": "",
      "output": "VAR_INPUT\n\tX : BYTE;\n\tI_LO : BYTE;\n\tI_HI : BYTE;\n\tO_LO : REAL;\n\tO_HI : REAL;\nEND_VAR\n\nIF I_HI = I_LO THEN\n\tSCALE_B := O_LO;\nELSE\n\tSCALE_B := (O_HI - O_LO) / USINT_TO_REAL(BYTE_TO_USINT(I_HI) - BYTE_TO_USINT(I_LO)) * _BYTE_TO_REAL(LIMIT(I_LO, X, I_HI));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "BYTE",
          "description": "输入参数值"
        },
        {
          "name": "I_LO",
          "type": "BYTE",
          "description": "输入参数I_LO"
        },
        {
          "name": "I_HI",
          "type": "BYTE",
          "description": "输入参数I_HI"
        },
        {
          "name": "O_LO",
          "type": "REAL",
          "description": "输入参数O_LO"
        },
        {
          "name": "O_HI",
          "type": "REAL",
          "description": "输入参数O_HI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据布尔变量D的值，执行不同的位操作。用st代码编写程序",
      "input": "",
      "output": "VAR_INPUT\n\tI : BYTE;\n\tD : BOOL;\n\tP : INT;\n\tN : INT;\nEND_VAR\n\nIF D THEN\n\tBIT_LOAD_B2 := ROL(SHR(BYTE#255, 8 - N) OR ROR(I, P), P);\nELSE\n\tBIT_LOAD_B2 := ROL(SHL(BYTE#255, N) AND ROR(I, P), P);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I",
          "type": "BYTE",
          "description": "输入参数I"
        },
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "P",
          "type": "INT",
          "description": "输入参数P"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入的信号通过一个低通滤波器和高频滤波器计算出一个死区带宽度",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tT : TIME;\n\tKL : REAL := 1.0;\n\tLM : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tL : REAL;\nEND_VAR\n\nVAR\n\ttp1 : FT_PT1;\n\ttp2 : FT_PT1;\nEND_VAR\n\n(* 过滤输入信号 *)\ntp1(in := X, T:= T);\n\n(* 过滤高频部分以生成稳定的 L *)\ntp2(in := ABS(tp1.out - X), T := MULTIME(T, 4.0));\n\n(* 现在我们确定 L，它是死区带宽度的一半 *)\nL := MIN(KL * tp2.out, LM);\n\nIF X > L THEN\n\tY := X - L;\nELSIF X < -L THEN\n\tY := X + L;\nELSE\n\tY := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "时间参数"
        },
        {
          "name": "KL",
          "type": "REAL",
          "description": "输入参数KL"
        },
        {
          "name": "LM",
          "type": "REAL",
          "description": "输入参数LM"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        },
        {
          "name": "L",
          "type": "REAL",
          "description": "输出参数L"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个上升沿触发的定时器功能，通过输入IN和定时器时间PT控制输出Q，并计算经过的时间",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tPT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tET : TIME;\nEND_VAR\n\nVAR\n\tedge : BOOL;\n\tstart : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 上升沿触发 *)\nIF IN AND NOT edge THEN\n\tstart := tx;\n\tQ := PT > t#0ms;\nELSIF Q THEN\n\tET := tx - start;\n\tIF ET >= PT THEN\n\t\tQ := FALSE;\n\t\tET := t#0ms;\n\tEND_IF;\nEND_IF;\n\nedge := IN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "ET",
          "type": "TIME",
          "description": "输出参数ET"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对输入的URL字符串进行解码并将其转换为相应的字符的ST代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tURL_DECODE : oscat_STRING250;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tnew : STRING;\n\tHEX_TO_DWORD : HEX_TO_DWORD;\nEND_VAR\n\nURL_DECODE := IN;\npos := FIND(URL_DECODE, '%');\nWHILE pos > 0 DO\n\tHEX_TO_DWORD(Hex := MID(URL_DECODE, 2, pos + 1));\n\tnew := BYTE_TO_STRING(DWORD_TO_BYTE(HEX_TO_DWORD.HEX_TO_DWORD), '%c');\n\tURL_DECODE := REPLACE(URL_DECODE, new, 3, pos);\n\tpos := FIND(URL_DECODE, '%');\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING250",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "URL_DECODE",
          "type": "oscat_STRING250",
          "description": "输出参数URL_DECODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言怎么计算向量A的单位向量",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_NORM : oscat_vector_3;\nEND_VAR\n\nVAR\n\tla : REAL;\n\tV3_SMUL : V3_SMUL;\n\tV3_ABS : V3_ABS;\nEND_VAR\n\nV3_ABS(A:=A);\nla := V3_ABS.V3_ABS;\n\nIF la > 0.0 THEN\n\tV3_SMUL(A:=A,M:=1.0/la);\n\tV3_NORM := V3_SMUL.V3_SMUL;\nELSE\n\tV3_NORM.X := 0.0;\n\tV3_NORM.Y := 0.0;\n\tV3_NORM.Z := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_NORM",
          "type": "oscat_vector_3",
          "description": "输出参数V3_NORM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个循环递减计数器",
      "input": "",
      "output": "VAR_INPUT\n\tX : INT;\n\tN : INT;\nEND_VAR\n\nIF X = 0 THEN\n\tDEC1 := N - 1;\nELSE\n\tDEC1 := X - 1;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "我想延迟信号，并存储最近的8个输入值，然后输出最早的输入值，给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN :\tREAL;\n\tT :\tTIME;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT :\tREAL;\n\tTRIG :\tBOOL;\nEND_VAR\n\nVAR\n\tlength :\tINT := 8;\n\tX :\toscat_arr_0_7;\n\tcnt :\tINT;\n\tlast :\tTIME;\n\ttx :\tTIME;\n\tinit :\tBOOL;\n\tT_PLC_MS :\tT_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_TN8\nIEC_LANGUAGE: ST\n*)\nT_PLC_MS();\n\ttx:= UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\ntrig := FALSE;\nIF NOT init THEN\n\tx[cnt] := in;\n\tinit := TRUE;\n\tlast := tx;\nELSIF tx - last >= T / INT_TO_TIME(length) THEN\n\tIF cnt = length - 1 THEN cnt := 0; ELSE cnt := cnt + 1; END_IF;\n\tOut := X[cnt];\n\tx[cnt] := in;\n\tlast := tx;\n\ttrig := TRUE;\nEND_IF;",
      "description": "8点延迟功能块，存储最近8个输入值并按设定时间间隔输出最早值。用于信号延迟、数据缓存等应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "时间参数"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        }
      ],
      "library_dependency": [
        "OSCAT库 - oscat_arr_0_7数组类型"
      ],
      "iec_standard": "IEC 61131-3 第5章：数组和结构化数据类型",
      "tags": [
        "信号延迟",
        "数据缓存",
        "FIFO缓冲",
        "时间控制"
      ]
    },
    {
      "instruction": "将DWORD类型的输入IN根据N位数右移，并转换为WORD类型。给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tN : BYTE;\nEND_VAR\n\nWORD_OF_DWORD := DWORD_TO_WORD(SHR(in, _BYTE_TO_INT(SHL(n, 4))));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "BYTE",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将来自A/D转换器或其他数字源的信号转换为内部实数值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tSIGN_BIT : INT := 255;\n\tERROR_BIT : INT := 255;\n\tERROR_CODE_EN : BOOL := FALSE;\n\tERROR_CODE : DWORD;\n\tOVERFLOW_BIT : INT := 255;\n\tOVERFLOW_CODE_EN : BOOL;\n\tOVERFLOW_CODE : DWORD;\n\tBIT_0 : INT;\n\tBIT_N : INT := 31;\n\tOUT_MIN : REAL;\n\tOUT_MAX : REAL := 10.0;\n\tCODE_MIN : DWORD;\n\tCODE_MAX : DWORD := DWORD#16#FFFFFFFF;\n\tERROR_OUTPUT : REAL;\n\tOVERFLOW_OUTPUT : REAL := 10.0;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tSIGN : BOOL;\n\tERROR : BOOL;\n\tOVERFLOW : BOOL;\nEND_VAR\n\nVAR\n\ttB : DWORD;\nEND_VAR\n\n(* 提取错误位 *)\nERROR := ((SHR_DWORD(IN, ERROR_BIT) AND DWORD#16#0000_0001) = DWORD#1) OR (ERROR_CODE_EN AND ERROR_CODE = IN);\nIF ERROR THEN\n\tOUT := ERROR_OUTPUT;\n\tRETURN;\nEND_IF;\n\n(* 剥离数据输入 *)\ntB := SHR_DWORD(SHL_DWORD(IN, 31 - BIT_N), 31 - BIT_N + BIT_0);\n\n(* 提取溢出位 *)\nOVERFLOW := ((SHR_DWORD(IN, OVERFLOW_BIT) AND DWORD#16#0000_0001) = DWORD#1) OR (OVERFLOW_CODE_EN AND OVERFLOW_CODE = IN) OR (tB < CODE_MIN OR tB > CODE_MAX);\nIF OVERFLOW THEN\n\tOUT := OVERFLOW_OUTPUT;\n\tRETURN;\nEND_IF;\n\n(* 提取符号位 *)\nSIGN := (SHR_DWORD(IN, SIGN_BIT) AND DWORD#16#0000_0001) = DWORD#1;\n\n(* 将 IN 转换为 OUT *)\nOUT := (UDINT_TO_REAL(DWORD_TO_UDINT(tB) - DWORD_TO_UDINT(CODE_MIN)) * (OUT_MAX - OUT_MIN) / UDINT_TO_REAL(DWORD_TO_UDINT(CODE_MAX) - DWORD_TO_UDINT(CODE_MIN)) + OUT_MIN);\nIF SIGN THEN OUT := OUT * -1.0; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "SIGN_BIT",
          "type": "INT",
          "description": "输入参数SIGN_BIT"
        },
        {
          "name": "ERROR_BIT",
          "type": "INT",
          "description": "输入参数ERROR_BIT"
        },
        {
          "name": "ERROR_CODE_EN",
          "type": "BOOL",
          "description": "输入参数ERROR_CODE_EN"
        },
        {
          "name": "ERROR_CODE",
          "type": "DWORD",
          "description": "输入参数ERROR_CODE"
        },
        {
          "name": "OVERFLOW_BIT",
          "type": "INT",
          "description": "输入参数OVERFLOW_BIT"
        },
        {
          "name": "OVERFLOW_CODE_EN",
          "type": "BOOL",
          "description": "输入参数OVERFLOW_CODE_EN"
        },
        {
          "name": "OVERFLOW_CODE",
          "type": "DWORD",
          "description": "输入参数OVERFLOW_CODE"
        },
        {
          "name": "BIT_0",
          "type": "INT",
          "description": "输入参数BIT_0"
        },
        {
          "name": "BIT_N",
          "type": "INT",
          "description": "输入参数BIT_N"
        },
        {
          "name": "OUT_MIN",
          "type": "REAL",
          "description": "输入参数OUT_MIN"
        },
        {
          "name": "OUT_MAX",
          "type": "REAL",
          "description": "输入参数OUT_MAX"
        },
        {
          "name": "CODE_MIN",
          "type": "DWORD",
          "description": "输入参数CODE_MIN"
        },
        {
          "name": "CODE_MAX",
          "type": "DWORD",
          "description": "输入参数CODE_MAX"
        },
        {
          "name": "ERROR_OUTPUT",
          "type": "REAL",
          "description": "输入参数ERROR_OUTPUT"
        },
        {
          "name": "OVERFLOW_OUTPUT",
          "type": "REAL",
          "description": "输入参数OVERFLOW_OUTPUT"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "SIGN",
          "type": "BOOL",
          "description": "输出参数SIGN"
        },
        {
          "name": "ERROR",
          "type": "BOOL",
          "description": "输出参数ERROR"
        },
        {
          "name": "OVERFLOW",
          "type": "BOOL",
          "description": "输出参数OVERFLOW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入字节IN转换为BCD格式的整数值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nBCDC_TO_INT := _BYTE_TO_INT(in AND BYTE#16#0F) + (_BYTE_TO_INT(SHR(in,4)) * 10);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个32Dword大小的先进先出内存功能块",
      "input": "",
      "output": "VAR_INPUT\n\tDIN : DWORD;\n\tE : BOOL := TRUE;\n\tRD : BOOL;\n\tWD : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDOUT : DWORD;\n\tEMPTY : BOOL := TRUE;\n\tFULL : BOOL;\nEND_VAR\n\nVAR\n\tfifo : oscat_ardw_0_31;\n\tpr : INT;\n\tpw : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIFO_32\nIEC_LANGUAGE: ST\n*)\nIF RST THEN\n\tpw := pr;\n\tFULL := FALSE;\n\tEMPTY := TRUE;\n\tDout := DWORD#0;\nELSIF E THEN\n\tIF NOT EMPTY AND RD THEN\n\t\tDout := fifo[pr];\n\t\tpr := INC1(pr,32);\n\t\tEMPTY := pr = pw;\n\t\tFULL := FALSE;\n\tEND_IF;\n\tIF NOT FULL AND WD THEN\n\t\tfifo[pw] := Din;\n\t\tpw := INC1(pw,32);\n\t\tFULL := pw = pr;\n\t\tEMPTY := FALSE;\n\tEND_IF;\nEND_IF;",
      "description": "32位双字FIFO缓冲区实现，提供更大的数据存储容量。采用与16位版本相同的环形缓冲区算法，但支持32个DWORD数据存储。适用于大数据量缓存、通信数据包存储、历史数据记录等应用场景。",
      "inputs": [
        {
          "name": "DIN",
          "type": "DWORD",
          "description": "写入数据输入"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号，控制FIFO操作"
        },
        {
          "name": "RD",
          "type": "BOOL",
          "description": "读信号，高电平有效"
        },
        {
          "name": "WD",
          "type": "BOOL",
          "description": "写信号，高电平有效"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，清空FIFO"
        }
      ],
      "outputs": [
        {
          "name": "DOUT",
          "type": "DWORD",
          "description": "读出数据输出"
        },
        {
          "name": "EMPTY",
          "type": "BOOL",
          "description": "FIFO空状态指示"
        },
        {
          "name": "FULL",
          "type": "BOOL",
          "description": "FIFO满状态指示"
        }
      ],
      "library_dependency": "OSCAT库: oscat_ardw_0_31数组类型, INC1函数",
      "iec_standard": "IEC 61131-3 数组操作，环形缓冲区算法",
      "tags": [
        "FIFO",
        "大容量缓冲",
        "数据存储",
        "环形缓冲",
        "32位数据",
        "通信缓存"
      ]
    },
    {
      "instruction": "计算输入信号的积分，给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tK : REAL := 1.0;\n\tRUN : BOOL := TRUE;\n\tRST : BOOL;\n\tOUT_MIN : REAL := REAL#-1.0E-37;\n\tOUT_MAX : REAL := REAL#1.0E37;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tINTEG : INTEGRATE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_INT\nIEC_LANGUAGE: ST\n*)\nIF rst THEN\n\tout := 0.0;\nELSE\n\tinteg(X := IN, E := RUN, K := K, Y := out);\n\tout := integ.Y;\nEND_IF;\n\n(* 限制输出范围 *)\nIF out >= OUT_MAX THEN\n\tout := out_max;\n\tLIM := TRUE;\nELSIF out <= out_min THEN\n\tout := out_min;\n\tlim := TRUE;\nELSE\n\tlim := FALSE;\nEND_IF;",
      "description": "实时积分器功能块，对输入信号进行时间积分运算。支持增益调节、运行控制和复位功能，包含输出限幅保护。适用于位置计算、累积量测量、PI控制器积分环节等需要信号积分的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "积分增益系数"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "积分运行控制"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "积分器复位"
        },
        {
          "name": "OUT_MIN/MAX",
          "type": "REAL",
          "description": "输出限制范围"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "积分输出值"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "限幅状态指示"
        }
      ],
      "library_dependency": "OSCAT库: INTEGRATE积分器功能块",
      "iec_standard": "IEC 61131-3 积分算法，限幅保护",
      "tags": [
        "积分器",
        "累积计算",
        "位置积分",
        "PI控制",
        "限幅保护",
        "信号积分"
      ]
    },
    {
      "instruction": "如何根据布尔变量VAL的值，修改WORD类型变量IN中的特定位",
      "input": "",
      "output": "VAR_INPUT\n\tIN : WORD;\n\tVAL : BOOL;\n\tPOS : INT;\nEND_VAR\n\nIF VAL THEN\n\tBIT_LOAD_W := in OR SHL(WORD#1,pos);\nELSE\n\tBIT_LOAD_W := in AND (NOT SHL(WORD#1,pos));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "WORD",
          "description": "输入信号值"
        },
        {
          "name": "VAL",
          "type": "BOOL",
          "description": "比较值"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "初始化并更新天气图标数据，基于输入信号从预定义的天气图标数据数组中选择图标。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tACTIVATE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tWW : oscat_WORLD_WEATHER_DATA;\nEND_VAR\n\nVAR\n\tact_last : BOOL;\n\tx : INT;\n\ti : INT;\n\tinit : BOOL;\n\tdat : oscat_WORLD_WEATHER_aI0_41;\nEND_VAR\n\nIF not init THEN\n\tinit := TRUE;\n\tdat[00] := 0;\n\tdat[01] := 14;\n\tdat[02] := 12;\n\tdat[03] := 9;\n\tdat[04] := 9;\n\tdat[05] := 0;\n\tdat[06] := 7;\n\tdat[07] := 7;\n\tdat[08] := 0;\n\tdat[09] := 2;\n\tdat[10] := 2;\n\tdat[11] := 3;\n\tdat[12] := 3;\n\tdat[13] := 1;\n\tdat[14] := 0;\n\tdat[15] := 0;\n\tdat[16] := 17;\n\tdat[17] := 4;\n\tdat[18] := 4;\n\tdat[19] := 3;\n\tdat[20] := 3;\n\tdat[21] := 1;\n\tdat[22] := 0;\n\tdat[23] := 0;\n\tdat[24] := 17;\n\tdat[25] := 2;\n\tdat[26] := 2;\n\tdat[27] := 3;\n\tdat[28] := 3;\n\tdat[29] := 1;\n\tdat[30] := 0;\n\tdat[31] := 0;\n\tdat[32] := 17;\n\tdat[33] := 2;\n\tdat[34] := 4;\n\tdat[35] := 3;\n\tdat[36] := 3;\n\tdat[37] := 1;\n\tdat[38] := 0;\n\tdat[39] := 0;\n\tdat[40] := 17;\n\tdat[41] := 0;\nEND_IF;\n\nIF ACTIVATE AND act_last = FALSE THEN\n\tx := LIMIT(0, WW.CUR.WEATHER_ICON, 41);\n\tWW.CUR.WEATHER_ICON := dat[x];\n\tFOR i := 0 TO 4 DO\n\t\tx := LIMIT(0, WW.DAY[i].WEATHER_ICON, 41);\n\t\tWW.DAY[i].WEATHER_ICON := dat[x];\n\tEND_FOR;\nEND_IF;\nact_last := ACTIVATE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ACTIVATE",
          "type": "BOOL",
          "description": "输入参数ACTIVATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入限制在一定范围内，并将其按比例转换为0至65535之间，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nRange_to_Word := REAL_TO_WORD(TRUNC_REAL((LIMIT(low,X,high)-low) * 65535.0 / (high - low)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过计算字符串中字符.的数量来判断字符串是否为IPv4地址格式",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tIS_IP4 : BOOL;\nEND_VAR\n\nVAR\n\tCOUNT_CHAR : COUNT_CHAR;\nEND_VAR\n\nCOUNT_CHAR(STR:=str,CHR:=BYTE#46);\nIS_IP4 := COUNT_CHAR.COUNT_CHAR = 3;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_IP4",
          "type": "BOOL",
          "description": "输出参数IS_IP4"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码根据温度和风速计算热指数",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tV : REAL;\nEND_VAR\n\nIF V < 5.0 OR T > 10.0 THEN\n\tWCT := T;\nELSE\n\tWCT := 13.12 + 0.6215 * T + (0.3965 * T - 11.37) * EXP(LN(V) * 0.16);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "V",
          "type": "REAL",
          "description": "输入参数V"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "初始化一个WEEKDAYS数组，并存储每周的七天对应的英文名称，如何用ST代码编程？",
      "input": "",
      "output": "VAR_IN_OUT\n\tWEEKDAYS : oscat_WEEKDAYS;\nEND_VAR\n\nVAR\n\tinit : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: SETUP_WEEKDAYS\nIEC_LANGUAGE: ST\n*)\n(* 初始化数据 *)\nIF init THEN RETURN; END_IF;\ninit := TRUE;\n\n(* ---- 英文星期 ---- *)\nWEEKDAYS[1][01] := 'Monday';\nWEEKDAYS[1][02] := 'Tuesday';\nWEEKDAYS[1][03] := 'Wednesday';\nWEEKDAYS[1][04] := 'Thursday';\nWEEKDAYS[1][05] := 'Friday';\nWEEKDAYS[1][06] := 'Saturday';\nWEEKDAYS[1][07] := 'Sunday';",
      "description": "SETUP_WEEKDAYS功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将复数转换为极坐标表示的ST代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCLOG : oscat_complex;\nEND_VAR\n\nCLOG.re := LN(HYPOT(X.re, X.im));\nCLOG.im := ATAN2(X.im, X.re);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CLOG",
          "type": "oscat_complex",
          "description": "输出参数CLOG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据给定日期计算并返回该日期所在的月份",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MONTH_OF_DATE\nIEC_LANGUAGE: ST\n*)\nMONTH_OF_DATE := DAY_OF_YEAR(idate);\nIF MONTH_OF_DATE < 32 THEN\n\tMONTH_OF_DATE := 1;\nELSIF LEAP_OF_DATE(IDATE) THEN\n\tMONTH_OF_DATE := (MONTH_OF_DATE * 53 + 1668) / 1623;\nELSE\n\tMONTH_OF_DATE := (MONTH_OF_DATE * 53 + 1700) / 1620;\nEND_IF;",
      "description": "MONTH_OF_DATE功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么编程计算复数X的共轭复数",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCCON : oscat_complex;\nEND_VAR\n\nCCON.re := X.re;\nCCON.im := -X.im;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CCON",
          "type": "oscat_complex",
          "description": "输出参数CCON"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个双字类型的值转换为实数类型的值怎么用st代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tX : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tDW_TO_REAL : REAL;\nEND_VAR\n\nVAR\n\tBUF_TO_REAL : BUF_TO_REAL;\n\ti : INT;\nEND_VAR\n\n(* BUF_TO_REAL 必须在正沿触发时启动，因此首先用 REQ=0 调用一次，然后用 REQ=1 调用一次 )\n( 这样就可以在每个周期内进行复制 *)\n\nFOR I := 0 TO 1 DO\n\tBUF_TO_REAL.REQ := I > 0;\n\tBUF_TO_REAL.BUF_FORMAT := FALSE;\n\tBUF_TO_REAL.BUF_OFFS := DINT#0;\n\tBUF_TO_REAL.BUF_CNT := DINT#4;\n\tBUF_TO_REAL.BUFFER := X;\n\tBUF_TO_REAL.DST := DW_TO_REAL;\n\tBUF_TO_REAL();\n\tX := BUF_TO_REAL.BUFFER;\n\tDW_TO_REAL := BUF_TO_REAL.DST;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "DWORD",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "DW_TO_REAL",
          "type": "REAL",
          "description": "输出参数DW_TO_REAL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使输入点垂直于XY平面，并完成机械臂从一个点到另一个点的直线运动的st代码是什么",
      "input": "",
      "output": "FUNC robtarget AlignZ2XY(robtarget p1,INOUT tooldata t)\n\t\t! 根据输入点p1，和工具t，将p1调整成垂直与xy平面\n\t\tVAR robtarget ptool0;\n\t\tVAR robtarget pDirection;\n\t\tVAR robtarget p2;\n\t\tVAR jointtarget j1;\n\t\tVAR jointtarget j2;\n\t\tVAR pose pose0;\n\t\tVAR pose poseResult;\n\t\tVAR robtarget pResult;\n\t\ttooltmpAlign:=tool0;\n\t\t! 使用一个临时tcp\n\t\tpDirection:=RelTool(p1,0,0,10);\n\t\t! 获取当前工具z方向的向量\n\t\tIF pDirection.trans.z<=p1.trans.z THEN\n\t\t\t! 判断当前工具z方向朝上还是朝下，调整对准后的z方向朝向\n\t\t\tp2:=Offs(p1,0,0,-10);\n\t\tELSE\n\t\t\tp2:=Offs(p1,0,0,10);\n\t\tENDIF\n\t\tj1:=CalcJointT(p1,t);\n\t\tptool0:=CalcRobT(j1,tool0);\n\t\t! 获取输入点的joint值\n\t\tj2:=CalcJointT(p2,t);\n\t\t! 获取目标方向点的joint值\n\t\tMToolRotCalib j2,j1,tooltmpAlign;\n\t\t! 计算j1法兰到j2法兰 在tool0下的方向\n\t\tpose0.rot:=ptool0.rot;\n\t\tposeResult:=PoseMult(pose0,tooltmpAlign.tframe);\n\t\t! 将tool0下的方向转化到坐标系下，即目标方向\n\t\tpResult:=p1;\n\t\tpResult.rot:=poseResult.rot;\n\t\t! 赋值目标方向\n\t\tRETURN pResult;\nENDFUNC\n\nPROC main()\n\t\tVAR speeddata v;\n\t\tv:=v100;\n\t\tv.v_ori:=5;\n\t\tMoveL p9000,v100,fine,MyTool\\WObj:=wobj0;\n\t\tptmp:=AlignZ2XY(p9000,MyTool);\n\t\twaittime 1;\n\t\tMoveL ptmp,v,fine,MyTool\\WObj:=wobj0;\nENDPROC",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个十六进制字符串转换为DWORD类型的值，逐字符读取并计算每个数字的值怎么在plc上实现？",
      "input": "",
      "output": "VAR_INPUT\n\tOCT : oscat_STRING20;\nEND_VAR\n\nVAR_OUTPUT\n\tOCT_TO_DWORD : DWORD;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\tX : INT;\nEND_VAR\n\nOCT_TO_DWORD := DWORD#0;\nstop := LEN(oct);\nFOR I := 1 TO stop DO\n\t(* 读取第一个字符并减去48得到十进制值 0 = 48 *)\n\tX := GET_CHAR(oct,I);\n\t(* 计算数字的值 *)\n\tIF X > 47 AND x < 56 THEN\n\t\tOCT_TO_DWORD := SHL_DWORD(OCT_TO_DWORD,3) OR INT_TO_DWORD(X - 48);\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "OCT",
          "type": "oscat_STRING20",
          "description": "输入参数OCT"
        }
      ],
      "outputs": [
        {
          "name": "OCT_TO_DWORD",
          "type": "DWORD",
          "description": "输出参数OCT_TO_DWORD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用ST语言编程，将输入的开尔文温度转换为摄氏温度",
      "input": "",
      "output": "VAR_INPUT\nKELVIN : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: K_TO_C\nIEC_LANGUAGE: ST\n*)\nK_to_C := Kelvin + 273.15;",
      "description": "K_TO_C功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "KELVIN",
          "type": "REAL",
          "description": "输入参数KELVIN"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成一个可以通过输入开关调节的输出信号，要求ST语言",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tSU : BOOL;\n\tSD : BOOL;\n\tRST : BOOL;\n\tSS : REAL := 0.1;\n\tLIMIT_L : REAL;\n\tLIMIT_H : REAL := 100.0;\n\tRST_VAL : REAL;\n\tSET_VAL : REAL := 100.0;\n\tT1 : TIME := T#500ms;\n\tT2 : TIME := T#2s;\n\tS1 : REAL := 2.0;\n\tS2 : REAL := 10.0;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\ttx : UDINT;\n\tstart : UDINT;\n\tstart2 : UDINT;\n\tstate : INT;\n\tin : BOOL;\n\tstep : REAL;\n\tspeed : REAL;\n\tY_start : REAL;\n\tY_start2 : REAL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* read system_time *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\nIF rst THEN\n\tY := RST_val;\n\tstate := 0;\nELSIF set THEN\n\tY := SET_val;\n\tstate := 0;\nELSIF state > 0 THEN\n\t(* key has been pushed state machine operating *)\n\t(* first read the correct input *)\n\tIF state = 1 THEN\n\t\t(* step up *)\n\t\tin := su;\n\tELSE\n\t\t(* step down *)\n\t\tin := sd;\n\tEND_IF;\n\t(* check for single step operation *)\n\tIF NOT in AND tx - start <= TIME_TO_UDINT(T1) THEN\n\t\tY := Y_start + step;\n\t\tstate := 0;\n\t(* check if fast ramp needs to be generated *)\n\tELSIF in AND tx - start >= TIME_TO_UDINT(T2) THEN\n\t\tY := Y_start2 + UDINT_TO_REAL(tx - start2) * s2 / speed;\n\t(* check if slow ramp needs to be generated *)\n\tELSIF in AND tx - start >= TIME_TO_UDINT(T1) THEN\n\t\tY := Y_start + UDINT_TO_REAL(tx - start - TIME_TO_UDINT(T1)) * S1 / speed;\n\t\tstart2 := tx;\n\t\tY_start2 := Y;\nELSIF NOT in THEN\n\t\tstate := 0;\nEND_IF;\nELSIF su THEN\n\t(* slow step up *)\n\tstate := 1;\n\tstart := tx;\n\tstep := ss;\n\tspeed := 1000.0;\n\tY_start := Y;\nELSIF sd THEN\n\t(* slow step down *)\n\tstate := 2;\n\tstart := tx;\n\tstep := -ss;\n\tspeed := -1000.0;\n\tY_start := Y;\nEND_IF;\n\n(* make sure output does not exceed limits *)\nY := LIMIT(LIMIT_L, Y, LIMIT_H);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "SU",
          "type": "BOOL",
          "description": "输入参数SU"
        },
        {
          "name": "SD",
          "type": "BOOL",
          "description": "输入参数SD"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "SS",
          "type": "REAL",
          "description": "输入参数SS"
        },
        {
          "name": "LIMIT_L",
          "type": "REAL",
          "description": "输入参数LIMIT_L"
        },
        {
          "name": "LIMIT_H",
          "type": "REAL",
          "description": "输入参数LIMIT_H"
        },
        {
          "name": "RST_VAL",
          "type": "REAL",
          "description": "输入参数RST_VAL"
        },
        {
          "name": "SET_VAL",
          "type": "REAL",
          "description": "输入参数SET_VAL"
        },
        {
          "name": "T1",
          "type": "TIME",
          "description": "输入参数T1"
        },
        {
          "name": "T2",
          "type": "TIME",
          "description": "输入参数T2"
        },
        {
          "name": "S1",
          "type": "REAL",
          "description": "输入参数S1"
        },
        {
          "name": "S2",
          "type": "REAL",
          "description": "输入参数S2"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将一个WORD类型的值X转换为一个在LOW和HIGH之间的实数值",
      "input": "",
      "output": "VAR_INPUT\n\tX : WORD;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nWORD_TO_RANGE := (high - low) * _WORD_TO_REAL(X) * 0.00001525902189669640 + low;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "WORD",
          "description": "输入参数值"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将常数X乘以数组中的每个元素，如何用ST代码编程？",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\n\tX : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\t_ARRAY_MUL : BOOL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nFOR i := 1 TO stop DO\n\tpt[i] := pt[i] * X;\nEND_FOR;\n_ARRAY_MUL := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "_ARRAY_MUL",
          "type": "BOOL",
          "description": "输出参数_ARRAY_MUL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何依据ST语言实现一个简单的边缘检测功能",
      "input": "",
      "output": "VAR_INPUT\n\tCLK : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL := FALSE;\nEND_VAR\n\nVAR\n\tedge : BOOL := FALSE;\nEND_VAR\n\nQ := clk XOR edge;\nedge := CLK;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么对输入信号进行去抖处理",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tTD : TIME;\n\tPM : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tdeb : TOF;\nEND_VAR\n\nIF NOT deb.Q AND IN THEN\n\t(* 检测到输入的上升沿，并且去抖定时器已过期 *)\n\tQ := TRUE;\nELSIF NOT PM THEN\n\tQ := deb.Q;\nELSE\n\tQ := FALSE;\nEND_IF;\n\n(* 运行去抖定时器 *)\ndeb(IN := IN, PT := TD);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "TD",
          "type": "TIME",
          "description": "输入参数TD"
        },
        {
          "name": "PM",
          "type": "BOOL",
          "description": "输入参数PM"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言怎么计算字符串中由分隔符分隔的元素数量",
      "input": "",
      "output": "VAR_IN_OUT\n\tELEMENT : oscat_STRING250;\nEND_VAR\n\nVAR_INPUT\n\tSEP : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tELEMENT_COUNT : INT;\nEND_VAR\n\nVAR\n\tI : INT;\n\tpos : INT;\nEND_VAR\n\ni := LEN(ELEMENT);\nIF i = 0 THEN\n\tELEMENT_COUNT := 0;\nELSE\n\tELEMENT_COUNT := 1;\n\tFOR pos := 1 TO I DO\n\t\tIF INT_TO_BYTE(GET_CHAR(ELEMENT,pos)) = SEP THEN ELEMENT_COUNT := ELEMENT_COUNT + 1; END_IF;\n\tEND_FOR;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        }
      ],
      "outputs": [
        {
          "name": "ELEMENT_COUNT",
          "type": "INT",
          "description": "输出参数ELEMENT_COUNT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的值，提取信号的符号位并计算一个归一化的实数值。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tBITS : BYTE;\n\tSIGN : BYTE;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nVAR\n\ttemp1 : DWORD;\n\ttemp2 : DWORD;\n\tsx : BOOL;\nEND_VAR\n\n(* 提取符号位 *)\nIF SIGN < BYTE#32 THEN\n\ttemp1 := SHR_DWORD(IN, _BYTE_TO_INT(SIGN));\n\tsx := BIT_OF_DWORD(temp1,0); (* temp1.X0 *)\nELSE\n\tsx := FALSE;\nEND_IF;\ntemp1 := SHR_DWORD(DWORD#16#FFFFFFFF,32 - _BYTE_TO_INT(BITS));\ntemp2 := IN AND temp1;\nAIN := (HIGH - LOW)* _DWORD_TO_REAL(temp2) / _DWORD_TO_REAL(temp1) + LOW;\nIF sx THEN AIN := -AIN; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "BITS",
          "type": "BYTE",
          "description": "输入参数BITS"
        },
        {
          "name": "SIGN",
          "type": "BYTE",
          "description": "输入参数SIGN"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言根据输入的参数对字符串进行截断或填充",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tL : INT;\n\tC : BYTE;\n\tM : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFIX : oscat_STRING250;\nEND_VAR\n\nVAR\n\tN : INT;\n\tFILL : FILL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIX\nIEC_LANGUAGE: ST\n*)\n(* 确保 L 不超过字符串的限制 *)\nN := LIMIT(0,L,255) - LEN(str);\nIF N <= 0 THEN\n\t(* 截断字符串到长度 N *)\n\tIF M = 1 THEN\n\t\tFIX := RIGHT(str,L);\n\tELSE\n\t\tFIX := LEFT(str,L);\n\tEND_IF;\nELSIF M = 1 THEN\n\t(* 在字符串前连接填充字符 *)\n\tFILL(C:=C,L:=N);\n\tFIX := CONCAT(FILL.FILL,str);\nELSIF M = 2 THEN\n\t(* 将 str 居中于填充字符之间 *)\n\t(* 对于奇数个填充字符，最后一个填充字符放在末尾 *)\n\tFILL(C:=C,L:=_BYTE_TO_INT(SHR_BYTE(INT_TO_BYTE(N+1),1)));\n\tFIX := CONCAT(str,FILL.FILL);\n\tFILL(C:=C,L:=_BYTE_TO_INT(SHR_BYTE(INT_TO_BYTE(N),1)));\n\tFIX := CONCAT(FILL.FILL,FIX);\nELSE\n\t(* 在字符串末尾连接填充字符 *)\n\tFILL(C:=C,L:=N);\n\tFIX := CONCAT(str,FILL.FILL);\nEND_IF;",
      "description": "多功能字符串格式化函数，支持截断、左填充、右填充和居中对齐。根据目标长度和模式参数对输入字符串进行格式化，使用指定字符进行填充。适用于文本对齐、数据格式化、报表生成、固定宽度输出等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "待格式化的字符串"
        },
        {
          "name": "L",
          "type": "INT",
          "description": "目标长度"
        },
        {
          "name": "C",
          "type": "BYTE",
          "description": "填充字符的ASCII码"
        },
        {
          "name": "M",
          "type": "INT",
          "description": "模式:0=右填充,1=左填充,2=居中"
        }
      ],
      "outputs": [
        {
          "name": "FIX",
          "type": "oscat_STRING250",
          "description": "格式化后的字符串"
        }
      ],
      "library_dependency": "OSCAT库: FILL功能块, LEFT/RIGHT/CONCAT函数, 位操作函数",
      "iec_standard": "IEC 61131-3 字符串操作，格式化和对齐算法",
      "tags": [
        "字符串格式化",
        "文本对齐",
        "填充截断",
        "数据格式化",
        "报表生成",
        "固定宽度"
      ]
    },
    {
      "instruction": "计算复数X的反余弦怎么编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCACOS : oscat_complex;\nEND_VAR\n\nVAR\n\tY : oscat_complex;\n\tCACOSH : CACOSH;\nEND_VAR\n\nCACOSH(X:=X);\nY := CACOSH.CACOSH;\nCACOS.re := Y.im;\nCACOS.im := -Y.re;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CACOS",
          "type": "oscat_complex",
          "description": "输出参数CACOS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将实数X转换为双字整数的ST语言代码是啥样的",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nCEIL2 := _REAL_TO_DINT(x);\nIF DINT_TO_REAL(CEIL2) < X THEN\n\tCEIL2 := CEIL2 + DINT#1;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码将输入的频率F转换为角频率",
      "input": "",
      "output": "VAR_INPUT\n\tF : REAL;\nEND_VAR\n\nF_to_OM := 6.283185307179586476 * F;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "F",
          "type": "REAL",
          "description": "频率参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码计算给定年份的1月1日的时间戳",
      "input": "",
      "output": "VAR_INPUT\n\tY : INT;\nEND_VAR\n\nyear_begin := DWORD_TO_UDINT(SHR(UDINT_TO_DWORD(_INT_TO_UDINT(y) * UDINT#1461 - UDINT#2878169), 2)) * UDINT#86400;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Y",
          "type": "INT",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将文件路径字符串分割为驱动器、目录和文件名的ST代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tFILENAME : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tFILE_PATH_SPLIT : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_FILE_PATH_DATA;\nEND_VAR\n\nVAR\n\tb : INT;\n\tc : INT;\n\td : oscat_STRING1;\n\tp1 : INT;\n\tp2 : INT;\nEND_VAR\n\nX.DRIVE := '';\nX.DIRECTORY := '';\nX.FILENAME := '';\np1 := 0;\np2 := 0;\nc := LEN(FILENAME);\nIF c = 0 THEN\n\tFILE_PATH_SPLIT := FALSE;\n\tRETURN;\nEND_IF;\n\nFOR b := 1 TO c DO\n\td := MID(FILENAME, 1, b);\n\tIF EQ_STRING(d,':') THEN\n\t\tp1 := b;\n\tELSIF EQ_STRING(d,'/') OR EQ_STRING(d,'\\') THEN\n\t\tp2 := b;\n\tEND_IF;\nEND_FOR;\n\nIF p1 = 2 THEN\n\tX.DRIVE := LEFT(FILENAME,p1);\nEND_IF;\n\nIF p2 > 0 AND p2 > p1 THEN\n\tX.DIRECTORY := MID(FILENAME,p2-p1,p1+1); (* 长度，位置 *）\nEND_IF;\n\nX.FILENAME := RIGHT(FILENAME,c - MAX (p1,p2));\nFILE_PATH_SPLIT := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "FILENAME",
          "type": "oscat_STRING250",
          "description": "输入参数FILENAME"
        }
      ],
      "outputs": [
        {
          "name": "FILE_PATH_SPLIT",
          "type": "BOOL",
          "description": "输出参数FILE_PATH_SPLIT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过ST代码将一个位输入解码为两个输出",
      "input": "",
      "output": "VAR_INPUT\n\tD : BOOL;\n\tA : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\nEND_VAR\n\nQ0 := D AND NOT A;\nQ1 := D AND A;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "A",
          "type": "BOOL",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算并返回输入日期所在月的第一天的起始时间，怎么用ST语言实现？",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MONTH_BEGIN\nIEC_LANGUAGE: ST\n*)\nMONTH_BEGIN := idate - _INT_TO_UDINT(DAY_OF_MONTH(idate) - 1) * UDINT#86400;",
      "description": "MONTH_BEGIN功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于ST代码计算输入DWORD类型变量中设置为1的位数",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nVAR\n\tin_temp : DWORD;\nEND_VAR\n\nin_temp := IN;\nWHILE in_temp > DWORD#0 DO\n\tIF (in_temp AND DWORD#16#00000001) > DWORD#0 THEN Bit_Count := Bit_Count + 1; END_IF;\n\tin_temp := SHR(in_temp,1);\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算椭圆周长的ST代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tR1 : REAL;\n\tR2 : REAL;\nEND_VAR\n\nELLIPSE_C := 3.14159265358979323846264338327950288 * (3.0 * (R1 + R2) - SQRT((3.0 * R1 + R2) * (3.0 * R2 + R1)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "R1",
          "type": "REAL",
          "description": "输入参数R1"
        },
        {
          "name": "R2",
          "type": "REAL",
          "description": "输入参数R2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将字符串IN2插入到IN1中的指定位置，给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : STRING; (* 输入字符串 )\n\tIN2 : STRING; ( 插入字符串 )\n\tP : INT; ( 插入位置 )\nEND_VAR\n\nVAR_OUTPUT\n\t_INSERT : STRING; ( 结果 )\nEND_VAR\n\nVAR\n\tsize : INT;\nEND_VAR\n\nsize := LEN(IN1);\nIF size + LEN(IN2) <= 80 THEN\n\tP := LIMIT(0, P, size);\n\tIF P = 0 THEN\n\t\t_INSERT := CONCAT(IN2, IN1);\n\tELSE\n\t\t_INSERT := INSERT(IN1, IN2, P);\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "STRING",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "STRING",
          "description": "输入参数IN2"
        },
        {
          "name": "P",
          "type": "INT",
          "description": "输入参数P"
        }
      ],
      "outputs": [
        {
          "name": "_INSERT",
          "type": "STRING",
          "description": "输出参数_INSERT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算输入信号的导数，给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tK : REAL := 1.0;\n\tRUN : BOOL := TRUE;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\nEND_VAR\n\nVAR\n\told : REAL;\n\ttx : UDINT;\n\tlast : UDINT;\n\tinit : BOOL;\n\ttc : REAL;\n\tT_PLC_US : T_PLC_US;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_DERIV\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_US();\ntx:= T_PLC_US.T_PLC_MS;\ntc := UDINT_TO_REAL(tx - last);\n\n(* 首次启动时初始化 *)\nIF NOT init THEN\n\tinit := TRUE;\n\told := in;\nELSIF run AND tc > 0.0 THEN\n\tout := (in - old) / tc * 1000000.0 * K;\n\told := in;\nELSE\n\tout := 0.0;\nEND_IF;\n\nlast := tx;",
      "description": "实时导数计算器，采用时间差分算法计算信号变化率。使用微秒级时间戳确保高精度时间测量，支持增益调节和运行控制。适用于速度计算、趋势检测、前馈控制等需要信号变化率的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "导数增益系数"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "运行控制信号"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "导数输出(变化率)"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_US微秒时间函数",
      "iec_standard": "IEC 61131-3 数值微分算法，高精度时间测量",
      "tags": [
        "导数计算",
        "变化率",
        "速度检测",
        "趋势分析",
        "前馈控制",
        "时间微分"
      ]
    },
    {
      "instruction": "用ST语言编写程序，将字符串插入到列表中指定位置",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\n\tPOS : INT;\n\tINS : oscat_STRING250;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLIST_INSERT : BOOL;\nEND_VAR\n\nVAR\n\tcnt : INT;\n\ttmp : oscat_STRING250;\n\tCHR_TO_STRING : CHR_TO_STRING;\n\tsize : INT;\n\tread : INT;\n\t_INSERT : _INSERT250;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_INSERT\nIEC_LANGUAGE: ST\n*)\nCHR_TO_STRING(C:=SEP);\nread := 1;\ncnt := 1;\nsize := LEN(LIST);\nPOS := MAX(POS,1);\nLIST_INSERT := FALSE;\n\nWHILE read < 250 DO\n\tIF cnt = POS THEN\n\t\ttmp := CONCAT(CHR_TO_STRING.CHR_TO_STRING, INS);\n\t\t_INSERT(IN1:=LIST,IN2:=tmp,P:=read - 1);\n\t\tLIST :=_INSERT._INSERT;\n\t\tLIST_INSERT := TRUE;\n\t\tRETURN;\n\tEND_IF;\n\tIF read > size THEN\n\t\tLIST := CONCAT(LIST,CHR_TO_STRING.CHR_TO_STRING);\n\t\tsize := size + 1;\n\tEND_IF;\n\tread := read + 1;\n\tIF read > size THEN\n\t\tcnt := cnt + 1;\n\tELSIF INT_TO_BYTE(GET_CHAR(LIST,read)) = SEP THEN\n\t\tcnt := cnt + 1;\n\tEND_IF;\nEND_WHILE;",
      "description": "LIST_INSERT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        },
        {
          "name": "INS",
          "type": "oscat_STRING250",
          "description": "输入参数INS"
        }
      ],
      "outputs": [
        {
          "name": "LIST_INSERT",
          "type": "BOOL",
          "description": "输出参数LIST_INSERT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个基于PD控制的一阶惯性系统，用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tTV : REAL := 1.0;\n\tT1 : REAL := 1.0;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\tdiff : FT_DERIV;\n\tTP : FT_PT1;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PDT1\nIEC_LANGUAGE: ST\n*)\n(* 运行微分器 *)\ndiff(IN := IN, K := TV);\n\n(* 运行PT1滤波器 *)\ntp(in := diff.out, T := REAL_TO_TIME(T1));\n\n(* 组合两个值 *)\nY := KP * (tp.out + IN);",
      "description": "PDT1控制器，结合PD控制和一阶惯性环节。模拟实际系统的惯性特性，适用于系统建模、控制器设计、过程仿真等需要同时考虑控制器动态特性和被控对象惯性的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "微分时间常数"
        },
        {
          "name": "T1",
          "type": "REAL",
          "description": "惯性时间常数"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PDT1控制器输出"
        }
      ],
      "library_dependency": "OSCAT库: FT_DERIV微分器, FT_PT1低通滤波器",
      "iec_standard": "IEC 61131-3 PDT1控制算法，系统建模",
      "tags": [
        "PDT1控制",
        "惯性系统",
        "系统建模",
        "控制器设计",
        "过程仿真",
        "动态特性"
      ]
    },
    {
      "instruction": "怎么在plc上分析输入信号X的趋势",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tTU : BOOL;\n\tTD : BOOL;\n\tD : REAL;\nEND_VAR\n\nVAR\n\tlast_x : REAL;\nEND_VAR\n\nTU := X > last_X;\nTD := X < last_X;\nQ := TU OR TD;\nD := X - LAST_X;\n\nlast_X := X;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "TU",
          "type": "BOOL",
          "description": "输出参数TU"
        },
        {
          "name": "TD",
          "type": "BOOL",
          "description": "输出参数TD"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "输出参数D"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算Cauchy分布的累积分布函数值怎么编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tT : REAL;\n\tU : REAL;\nEND_VAR\n\nCAUCHYCD := 0.5 + 0.318309886183791 * ATAN((X - T) / U);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "U",
          "type": "REAL",
          "description": "输入参数U"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在plc上怎么实现FTP文件传输",
      "input": "",
      "output": "VAR_INPUT\n\tFTP_URL : oscat_STRING250;\n\tFTP_ACTIV : BOOL;\n\tFILE_DELETE : BOOL;\n\tTIMEOUT : TIME := T#30s;\n\tRETRY : INT;\n\tRETRY_TIME : TIME := T#30s;\n\tDNS_IP4 : DWORD;\n\tPLC_IP4 : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tDONE : BOOL;\n\tBUSY : BOOL;\n\tERROR_C : DWORD;\n\tERROR_T : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_DLOG_DATA;\nEND_VAR\n\n(*Group:lokal*)\n\nVAR\n\tUCBD : oscat_UNI_CIRCULAR_BUFFER_DATA;\n\tUCB : UNI_CIRCULAR_BUFFER;\n\tFTP_CLIENT : FTP_CLIENT;\n\tWT_1 : TON;\n\tftrig_old : BOOL;\n\tfilename : STRING;\n\tstep : INT;\n\tftp_busy : BOOL;\n\tftp_done : BOOL;\n\tcnt : INT;\nEND_VAR\n\n(* neue Filenamen speichern *)\nIF X.NEW_FILE_RTRIG AND ftrig_old = FALSE THEN\n\tUCBD.D_HEAD := WORD#1;\n\tUCBD.D_MODE := 1;\n\tUCBD.D_STRING := X.NEW_FILE;\n\tUCB(DATA := UCBD); (* 数据写入 *)\n\tUCBD := UCB.DATA;\nEND_IF;\nftrig_old := X.NEW_FILE_RTRIG;\n\nCASE step OF\n\n00: IF UCBD.BUF_COUNT > 0 AND ftp_busy = FALSE THEN\n\tUCBD.D_MODE := 12;\n\tUCB(DATA := UCBD);\n\tUCBD := UCB.DATA;\n\tfilename := UCBD.D_STRING;\n\tcnt := 0;\n\tstep := 10;\nEND_IF;\n\n10: IF ftp_busy = FALSE THEN\n\tIF ftp_done THEN\n\t\tstep := 0;\n\tELSE\n\t\tstep := 20; (* 错误后的暂停 *)\n\tEND_IF;\nEND_IF;\n\n20: IF WT_1.Q THEN (* 等待时间 *)\n\tcnt := cnt - 1;\n\tIF RETRY = 0 THEN (* 无限次重试FTP传输 *)\n\t\tstep := 10; (* 重试FTP传输 *)\n\tELSIF cnt >= 0 THEN\n\t\tstep := 10; (* 重试FTP传输 *)\n\tELSE\n\t\tstep := 0; (* 丢弃FTP任务 *)\n\tEND_IF;\nEND_IF;\n\nEND_CASE;\n\nBUSY := step = 10;\nDONE := step = 0;\nWT_1(IN := step = 20, PT := RETRY_TIME);\n\nFTP_CLIENT(\n\tACTIVATE := BUSY,\n\tFILENAME := filename,\n\tFTP_URL := FTP_URL,\n\tFTP_DOWNLOAD := FALSE,\n\tFTP_ACTIV := FTP_ACTIV,\n\tFILE_DELETE := FILE_DELETE,\n\tTIMEOUT := TIMEOUT,\n\tDNS_IP4 := DNS_IP4,\n\tPLC_IP4 := PLC_IP4\n\t);\nftp_done := FTP_CLIENT.DONE;\nftp_busy := FTP_CLIENT.BUSY;\nERROR_C := FTP_CLIENT.ERROR_C;\nERROR_T := FTP_CLIENT.ERROR_T;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "FTP_URL",
          "type": "oscat_STRING250",
          "description": "输入参数FTP_URL"
        },
        {
          "name": "FTP_ACTIV",
          "type": "BOOL",
          "description": "输入参数FTP_ACTIV"
        },
        {
          "name": "FILE_DELETE",
          "type": "BOOL",
          "description": "输入参数FILE_DELETE"
        },
        {
          "name": "TIMEOUT",
          "type": "TIME",
          "description": "输入参数TIMEOUT"
        },
        {
          "name": "RETRY",
          "type": "INT",
          "description": "输入参数RETRY"
        },
        {
          "name": "RETRY_TIME",
          "type": "TIME",
          "description": "输入参数RETRY_TIME"
        },
        {
          "name": "DNS_IP4",
          "type": "DWORD",
          "description": "输入参数DNS_IP4"
        },
        {
          "name": "PLC_IP4",
          "type": "DWORD",
          "description": "输入参数PLC_IP4"
        }
      ],
      "outputs": [
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        },
        {
          "name": "BUSY",
          "type": "BOOL",
          "description": "忙碌状态"
        },
        {
          "name": "ERROR_C",
          "type": "DWORD",
          "description": "输出参数ERROR_C"
        },
        {
          "name": "ERROR_T",
          "type": "BYTE",
          "description": "输出参数ERROR_T"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST代码将输入的字节流进行BASE64编码",
      "input": "",
      "output": "VAR_IN_OUT\n\tBUF1 : oscat_aB0_47;\n\tBUF2 : oscat_aB0_63;\nEND_VAR\n\nVAR_INPUT\n\tSIZE1 : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tSIZE2 : INT;\nEND_VAR\n\nVAR\n\ta : INT;\n\tb : WORD;\n\ti : INT;\n\ti2 : INT;\n\ti3 : INT;\n\tc : INT;\n\tBASE64 : oscat_STRING64 := 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nEND_VAR\n\nIF SIZE1 <= 0 THEN\n\tSIZE2 := 0;\n\tRETURN;\nEND_IF;\nc := SIZE1 - 1;\ni2 := 0;\na := 0;\nb := WORD#0;\nFOR i := 0 TO c DO\n\tb := SHL_WORD(b, 8) OR BYTE_TO_WORD(BUF1[i]);\n\ta := a + 8;\n\tWHILE a >= 6 DO\n\t\ta := a - 6;\n\t\tbuf2[i2] := INT_TO_BYTE(GET_CHAR(BASE64, WORD_TO_INT(SHR(b, a)) + 1));\n\t\ti2 := i2 + 1;\n\t\tb := b AND NOT SHL(WORD#16#FFFF, a);\n\tEND_WHILE;\nEND_FOR;\nIF a > 0 THEN\n\tbuf2[i2] := INT_TO_BYTE(GET_CHAR(BASE64, WORD_TO_INT(SHL(b, 6 - a)) + 1));\n\ti2 := i2 + 1;\n\ti3 := i2 + WORD_TO_INT(NOT INT_TO_WORD(i2) AND WORD#2#11);\n\tFOR i := i2 TO i3 DO\n\t\tbuf2[i] := BYTE#61;\n\tEND_FOR;\n\tSIZE2 := i3 + 1;\nELSE\n\tSIZE2 := i2;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE1",
          "type": "INT",
          "description": "输入参数SIZE1"
        }
      ],
      "outputs": [
        {
          "name": "SIZE2",
          "type": "INT",
          "description": "输出参数SIZE2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个基于不同模式的流程控制",
      "input": "",
      "output": "VAR_INPUT\n\tRUN : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDONE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tSTR : oscat_STRING250;\n\tMD5 : oscat_aB0_15;\nEND_VAR\n\nVAR\n\trun_last : BOOL;\n\tbuf : oscat_aB0_63;\n\tmode : INT;\n\tsize : UDINT;\n\tpos : UDINT;\n\ti : INT;\n\ti2 : INT;\n\tMD5_STREAM : MD5_STREAM;\n\tCODE : CODE;\nEND_VAR\n\nCASE mode OF\n0: (* 等待启动 *)\n\tIF RUN AND NOT run_last THEN\n\t\tDONE := FALSE;\n\t\tmode := 1; (* 初始化 *)\n\t\tsize := INT_TO_UDINT(LEN(STR));\n\tEND_IF;\n\n2: (* 数据复制与计算 *)\n\tIF size > UDINT#0 THEN\n\t\ti2 := 0;\n\t\tFOR i := 1 TO UDINT_TO_INT(SIZE) DO\n\t\t\tCODE(STR:=MID(STR,1,UDINT_TO_INT(POS) + i),POS:=1);\n\t\t\tbuf[i2] := CODE.CODE;\n\t\t\ti2 := i2 + 1;\n\t\tEND_FOR;\n\tEND_IF;\n\n3: DONE := TRUE;\n\tmode := 0; (* 停止 *)\n\nEND_CASE;\n\nIF mode > 0 THEN\n\tMD5_STREAM(SIZE:=size, MODE:=mode, BUF:=buf, MD5:=MD5);\n\tmode := MD5_STREAM.MODE;\n\tbuf := MD5_STREAM.BUF;\n\tMD5 := MD5_STREAM.MD5;\n\tsize := MD5_STREAM.SIZE;\n\tpos := MD5_STREAM.POS;\nEND_IF;\n\nrun_last := RUN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "输入参数RUN"
        }
      ],
      "outputs": [
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据硅传感器的电阻值计算温度怎么用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tRES : REAL;\n\tRS : REAL;\n\tTS : REAL;\nEND_VAR\n\nTEMP_SI := (-7.64E-3 + SQRT(Res / RS * 6.64E-5 - 0.803E-5)) * 30120.48193 + TS;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RES",
          "type": "REAL",
          "description": "输入参数RES"
        },
        {
          "name": "RS",
          "type": "REAL",
          "description": "输入参数RS"
        },
        {
          "name": "TS",
          "type": "REAL",
          "description": "输入参数TS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对数组进行洗牌，随机交换数组中的元素。给出st代码",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\t_ARRAY_SHUFFLE : BOOL;\nEND_VAR\n\nVAR\n\ttemp : REAL;\n\tpos : INT;\n\ti : INT;\n\tstop : INT;\n\trdm2 : rdm2;\nEND_VAR\n\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nFOR i := 1 TO stop DO\n\trdm2(last := i + pos, low := 1, high := stop);\n\tpos := rdm2.rdm2;\n\t(* 交换元素 *)\n\ttemp := pt[i];\n\tpt[i] := pt[pos];\n\tpt[pos] := temp;\nEND_FOR;\n\n_ARRAY_SHUFFLE := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "_ARRAY_SHUFFLE",
          "type": "BOOL",
          "description": "输出参数_ARRAY_SHUFFLE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于plc计算复数的正弦值",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCSIN : oscat_complex;\nEND_VAR\n\nCSIN.re := cosH(X.im) * SIN(X.re);\nCSIN.im := sinH(X.im) * COS(X.re);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CSIN",
          "type": "oscat_complex",
          "description": "输出参数CSIN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "输入温度T，输出对应的比热容怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tCAP : REAL;\nEND_VAR\n\nVAR\n\tPts : INT;\n\tdata : oscat_XY;\n\tFB_LINEAR_INT : LINEAR_INT;\nEND_VAR\n\nIF Pts = 0 THEN\n\tPts := 10;\n\tdata[01][0] := REAL#0.0;\n\tdata[01][1] := REAL#4.228;\n\tdata[02][0] := REAL#05.0;\n\tdata[02][1] := REAL#4.200;\n\tdata[03][0] := REAL#10.0;\n\tdata[03][1] := REAL#4.188;\n\tdata[04][0] := REAL#15.0;\n\tdata[04][1] := REAL#4.184;\n\tdata[05][0] := REAL#50.0;\n\tdata[05][1] := REAL#4.181;\n\tdata[06][0] := REAL#60.0;\n\tdata[06][1] := REAL#4.183;\n\tdata[07][0] := REAL#70.0;\n\tdata[07][1] := REAL#4.187;\n\tdata[08][0] := REAL#80.0;\n\tdata[08][1] := REAL#4.194;\n\tdata[09][0] := REAL#90.0;\n\tdata[09][1] := REAL#4.204;\n\tdata[10][0] := REAL#100.0;\n\tdata[10][1] := REAL#4.220;\nEND_IF;\n\nFB_LINEAR_INT(X:=T,XY:=Data,Pts:=Pts);\nCAP := FB_LINEAR_INT.LINEAR_INT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        }
      ],
      "outputs": [
        {
          "name": "CAP",
          "type": "REAL",
          "description": "输出参数CAP"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言将一个32位的双字的低L位进行反转",
      "input": "",
      "output": "VAR_INPUT\n\tD : DWORD;\n\tL : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\t_d : DWORD;\nEND_VAR\n\nREFLECT := DWORD#0;\n_d := D;\nFOR i := 1 TO L DO\n\tREFLECT := SHL(REFLECT, 1) OR BOOL_TO_DWORD((_d AND DWORD#2#0000_0001) > DWORD#0); (* D.0 *)\n\t_d := SHR(_d, 1);\nEND_FOR;\nREFLECT := REFLECT OR SHL(_d, L);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D",
          "type": "DWORD",
          "description": "输入参数D"
        },
        {
          "name": "L",
          "type": "INT",
          "description": "长度参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何从INI文件中解析配置参数",
      "input": "",
      "output": "VAR\n\tSMTP_SERVER : STRING;\n\tSMTP_FROM : STRING;\n\tSTATION_NAME : STRING;\n\tSTATION_IP : STRING;\nEND_VAR\n\nVAR\n\tIPF : INI_PARSER_FILE;\n\tFS : FILE_SERVER;\n\tFSD : oscat_FILE_SERVER_DATA;\n\tPT : oscat_NETWORK_BUFFER;\n\tsection : INT;\n\tfilename : STRING;\n\tkey : oscat_STRING250;\n\tvalue : oscat_STRING250;\n\tstr : oscat_STRING250;\n\tstep : INT;\n\tresult : BYTE;\n\toffset : UDINT;\n\trun : BYTE;\n\tdone : BOOL;\nEND_VAR\n\nCASE step OF\n\n00: IF NOT done THEN\n\t\tfilename := 'config.ini'; (* 设置文件数据 *)\n\t\toffset := UDINT#0; (* 设置起始偏移量 *)\n\t\tstr := '';\n\t\trun := BYTE#3; (* 查找键 *)\n\t\tstep := 50;\n\tEND_IF;\n\n50: IF run = BYTE#0 THEN\n\t\trun := BYTE#3; (* 默认设置 -> 查找下一个键 *)\n\n\t\tIF result = BYTE#1 THEN (* 找到新节 *)\n\t\t\tIF EQ_STRING(key,'Station') THEN\n\t\t\t\tsection := 1;\n\t\t\tELSIF EQ_STRING(key,'SMTP') THEN\n\t\t\t\tsection := 2;\n\n\t\t\tELSE\n\t\t\t\tsection := 0; (* 找到未知节 -> 忽略 *)\n\t\t\tEND_IF;\n\n\t\tELSIF result = BYTE#2 AND section > 0 THEN (* 在已知节中找到键 *)\n\n\t\t\tCASE section OF\n\n\t\t\t1: (* Section: Station *)\n\t\t\t\tIF EQ_STRING(key,'NAME') THEN\n\t\t\t\t\tSTATION_NAME := value; (* 名称 *)\n\t\t\t\tELSIF EQ_STRING(key,'IP') THEN\n\t\t\t\t\tSTATION_IP := value; (* IP 地址 *)\n\t\t\t\tEND_IF;\n\n\t\t\t2: (* Section: SMTP *)\n\t\t\t\tIF EQ_STRING(key,'SERVER') THEN\n\t\t\t\t\tSMTP_SERVER := value; (* SMTP 服务器 *)\n\t\t\t\tELSIF EQ_STRING(key,'FROM') THEN\n\t\t\t\t\tSMTP_FROM := value; (* SMTP 发件人 *)\n\t\t\t\tEND_IF;\n\n\t\t\tEND_CASE;\n\n\t\tELSIF result = BYTE#10 THEN (* 没有更多内容 *)\n\t\trun := BYTE#0; (* 不再需要解析 INI *)\n\t\tFSD.MODE := BYTE#5; (* 关闭文件 *)\n\t\tstep := 30;\n\tEND_IF;\nEND_IF;\n\n30: IF FSD.MODE = BYTE#0 THEN (* 文件关闭命令完成 *)\n\t\tstep := 0;\n\t\tdone := TRUE;\nEND_IF;\n\nEND_CASE;\n\n(* INI 参数文件 *)\nIPF(FILENAME:=FILENAME,FSD:=FSD,STR:=str,RUN:=run,OFFSET:=offset,KEY:=key,VALUE:=value,PT:=PT);\nFILENAME:=IPF.FILENAME;\nFSD:=IPF.FSD;\nstr:=IPF.STR;\nrun:=IPF.RUN;\noffset:=IPF.OFFSET;\nkey:=IPF.KEY;\nvalue:=IPF.VALUE;\nPT:=IPF.PT;\nresult:=IPF.RESULT;\n\n(* 文件服务器 *)\nFS(FSD:=FSD,PT:=PT);\nFSD:=FS.FSD;\nPT:=FS.PT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过编程计算两个日期之间的天数差",
      "input": "",
      "output": "VAR_INPUT\n\tDATE_1 : UDINT;\n\tDATE_2 : UDINT;\nEND_VAR\n\nIF DATE_1 > DATE_2 THEN\n\tDAYS_DELTA := - UDINT_TO_DINT((date_1 - date_2) / UDINT#86400);\nELSE\n\tDAYS_DELTA := UDINT_TO_DINT((date_2 - date_1) / UDINT#86400);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DATE_1",
          "type": "UDINT",
          "description": "输入参数DATE_1"
        },
        {
          "name": "DATE_2",
          "type": "UDINT",
          "description": "输入参数DATE_2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查向量A和B是否平行的ST代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tB : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_PAR : BOOL;\nEND_VAR\n\nVAR\n\tV3_XPRO : V3_XPRO;\n\tV3_ABS : V3_ABS;\nEND_VAR\n\nV3_XPRO(A:=A,B:=B);\nV3_ABS(A:=V3_XPRO.V3_XPRO);\n\nV3_PAR := V3_ABS.V3_ABS = 0.0;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "oscat_vector_3",
          "description": "输入值B"
        }
      ],
      "outputs": [
        {
          "name": "V3_PAR",
          "type": "BOOL",
          "description": "输出参数V3_PAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算复数的反双曲正弦值",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCASINH : oscat_complex;\nEND_VAR\n\nVAR\n\tY : oscat_complex;\n\tCLOG : CLOG;\n\tCSQRT : CSQRT;\nEND_VAR\n\nY.re := (X.re - X.im)*(X.re + X.im) + 1.0;\nY.im := 2.0 * X.re * X.im;\nCSQRT(X := Y);\nY := CSQRT.CSQRT;\nY.re := Y.re + X.re;\nY.im := Y.im + X.im;\nCLOG(X := Y);\nCASINH := CLOG.CLOG;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CASINH",
          "type": "oscat_complex",
          "description": "输出参数CASINH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用于控制线圈执行器的plc程序怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tSELF_ACT_CYCLE : TIME := T#10d;\n\tSELF_ACT_TIME : TIME := T#1s;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tlast : UDINT;\n\tinit : BOOL;\n\ttx : UDINT;\n\tnow : UDINT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\nnow := T_PLC_MS.T_PLC_MS;\n\n(* 第一个周期的初始化 *)\nIF NOT init THEN\n\tlast := now;\n\tinit := TRUE;\nELSIF IN THEN\n\tOUT := TRUE;\n\tSTATUS := BYTE#101; (* 输入激活 *)\n\tLAST := now;\nELSE\n\tOUT := FALSE;\n\tSTATUS := BYTE#100; (* 禁用 *)\n\t(* 现在需要检查自激活 *)\ntx := now - last;\n\tIF (SELF_ACT_CYCLE > T#0s) AND (tx >= TIME_TO_UDINT(SELF_ACT_CYCLE)) THEN\n\t\tOUT := TRUE;\n\t\tSTATUS := BYTE#102; (* 自动激活 *)\n\t\tIF tx >= TIME_TO_UDINT(SELF_ACT_CYCLE + SELF_ACT_TIME) THEN\n\t\t\tlast := now;\n\t\t\tOUT := FALSE;\n\t\t\tSTATUS := BYTE#100; (* 空闲 *)\n\t\tEND_IF;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "SELF_ACT_CYCLE",
          "type": "TIME",
          "description": "输入参数SELF_ACT_CYCLE"
        },
        {
          "name": "SELF_ACT_TIME",
          "type": "TIME",
          "description": "输入参数SELF_ACT_TIME"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "BOOL",
          "description": "输出值"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言将不同格式的字符串转换为byte格式",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING12;\nEND_VAR\n\nVAR_OUTPUT\n\tFSTRING_TO_BYTE : BYTE;\nEND_VAR\n\nVAR\n\tCLEAN : CLEAN;\n\tBIN_TO_BYTE : BIN_TO_BYTE;\n\tOCT_TO_BYTE : OCT_TO_BYTE;\n\tHEX_TO_BYTE : HEX_TO_BYTE;\n\ttmp : oscat_STRING3;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FSTRING_TO_BYTE\nIEC_LANGUAGE: ST\n*)\nIF LEN(IN)=0 THEN FSTRING_TO_BYTE := BYTE#0;RETURN;END_IF;\ntmp := LEFT(IN,MIN(2,LEN(IN)));\nIF EQ_STRING(tmp,'2#') THEN\n\t(* 我们需要转换为二进制 *)\n\tBIN_TO_BYTE(BIN:=RIGHT(in, LEN(in) - 2));\n\tFSTRING_TO_BYTE := BIN_TO_BYTE.BIN_TO_BYTE;\nELSIF EQ_STRING(tmp,'8#') THEN\n\t(* 我们需要转换为八进制 *)\n\tOCT_TO_BYTE(OCT:=RIGHT(in, LEN(in) - 2));\n\tFSTRING_TO_BYTE := OCT_TO_BYTE.OCT_TO_BYTE;\nELSE\n\ttmp := LEFT(IN,MIN(3,LEN(IN)));\n\tIF EQ_STRING(tmp,'16#') THEN\n\t\t(* 我们需要转换为十六进制 *)\n\t\tHEX_TO_BYTE(HEX:=RIGHT(in, LEN(in) - 3));\n\t\tFSTRING_TO_BYTE := HEX_TO_BYTE.HEX_TO_BYTE;\n\tELSE\n\t\t(* 我们假设是十进制表示 *)\n\t\tCLEAN(IN:=in,CX:='0123456789');\n\t\tFSTRING_TO_BYTE := STRING_TO_BYTE(CLEAN.CLEAN);\n\tEND_IF;\nEND_IF;",
      "description": "多格式字符串到字节转换函数，支持二进制(2#)、八进制(8#)、十六进制(16#)和十进制格式。自动识别输入格式并进行相应转换，提供灵活的数据输入方式。适用于配置参数解析、通信数据处理、用户输入转换等应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING12",
          "description": "格式化的数字字符串"
        }
      ],
      "outputs": [
        {
          "name": "FSTRING_TO_BYTE",
          "type": "BYTE",
          "description": "转换后的字节值"
        }
      ],
      "library_dependency": "OSCAT库: CLEAN, BIN_TO_BYTE, OCT_TO_BYTE, HEX_TO_BYTE函数",
      "iec_standard": "IEC 61131-3 多进制转换，字符串解析",
      "tags": [
        "多进制转换",
        "字符串解析",
        "二进制",
        "八进制",
        "十六进制",
        "数据输入"
      ]
    },
    {
      "instruction": "在PLC上跟踪和管理按天、周、月、年计算的时间统计数据，并根据日期的变化进行重置和更新。怎么编写程序？",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tDI : UDINT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tLAST_DAY : REAL;\n\tCURRENT_DAY : REAL;\n\tLAST_WEEK : REAL;\n\tCURRENT_WEEK : REAL;\n\tLAST_MONTH : REAL;\n\tCURRENT_MONTH : REAL;\n\tLAST_YEAR : REAL;\n\tCURRENT_YEAR : REAL;\nEND_VAR\n\nVAR RETAIN\n\tyear_start : REAL;\n\tmonth_start : REAL;\n\tweek_start : REAL;\n\tday_start : REAL;\n\tlast_run : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: METER_STAT\nIEC_LANGUAGE: ST\n*)\nIF rst THEN\n\tLast_Day := 0.0;\n\tCurrent_Day := 0.0;\n\tDay_start := IN;\n\tLast_week := 0.0;\n\tCurrent_week := 0.0;\n\tWeek_start := in;\n\tLast_month := 0.0;\n\tCurrent_month := 0.0;\n\tmonth_start := in;\n\tlast_year := 0.0;\n\tcurrent_year := 0.0;\n\tyear_start := in;\nELSE\n\tCurrent_Day := IN - Day_Start;\n\tCurrent_Week := In - Week_Start;\n\tCurrent_Month := IN - Month_Start;\n\tCurrent_Year := IN - Year_Start;\nEND_IF;\n\nIF YEAR_OF_DATE(DI) > YEAR_OF_DATE(last_run) THEN\n\t(* 新的一年开始 *)\n\tlast_year := current_year;\n\tcurrent_year := 0.0;\n\tyear_start := in;\n\tlast_month := current_month;\n\tcurrent_month := 0.0;\n\tmonth_start := in;\n\tlast_day := current_day;\n\tcurrent_day := 0.0;\n\tday_start := in;\nELSIF MONTH_OF_DATE(DI) > MONTH_OF_DATE(last_run) THEN\n\t(* 新的一月开始，1月已在年更改时处理 *)\n\tlast_month := current_month;\n\tcurrent_month := 0.0;\n\tmonth_start := in;\n\tlast_day := current_day;\n\tcurrent_day := 0.0;\n\tday_start := in;\nELSIF DAY_OF_YEAR(di) > DAY_OF_YEAR(last_run) THEN\n\t(* 新的一天开始，第一天已在年和月更改时处理 *)\n\tlast_day := current_day;\n\tcurrent_day := 0.0;\n\tday_start := in;\nEND_IF;\nIF DAY_OF_WEEK(DI) < DAY_OF_WEEK(last_run) THEN\n\t(* 新的一周开始 *)\n\tlast_week := current_week;\n\tcurrent_week := 0.0;\n\tweek_start := in;\nEND_IF;\nlast_run := di;",
      "description": "METER_STAT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "DI",
          "type": "UDINT",
          "description": "输入参数DI"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个双精度实数乘以一个单精度实数用st语言怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL2;\n\tY : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tR2_MUL : REAL2;\nEND_VAR\n\nR2_MUL.RX := X.RX * Y;\nR2_MUL.R1 := X.R1 * Y;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL2",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "R2_MUL",
          "type": "REAL2",
          "description": "输出参数R2_MUL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的实数转换为整数部分",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nD_TRUNC := TRUNC_DINT(X);\n",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "基于PLC实现一个简单的滞后比较逻辑",
      "input": "",
      "output": "VAR_INPUT\nIN : REAL;\nHIGH : REAL;\nLOW : REAL;\nEND_VAR\n\nVAR_OUTPUT\nQ : BOOL;\nWIN : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HYST_1\nIEC_LANGUAGE: ST\n*)\nIF in < low THEN\nQ := FALSE;\nwin := FALSE;\nELSIF in > high THEN\nQ := TRUE;\nwin := FALSE;\nELSE\nwin := TRUE;\nEND_IF;",
      "description": "HYST_1功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "WIN",
          "type": "BOOL",
          "description": "窗口状态"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么确保输出信号Q在输入信号IN为真的情况下，至少持续PT时间？",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tPT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tpm : TP;\nEND_VAR\n\npm(in := IN, PT := PT);\nQ := IN OR pm.Q;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言怎么根据温度、气压和相对湿度计算空气密度",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tP : REAL;\n\tRH : REAL;\nEND_VAR\n\nAIR_DENSITY := 101325.0 * (1.0 - RH * SDD(T, TRUE) * 3.773319E-3 / P) / (287.05 * (T - -273.15));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "P",
          "type": "REAL",
          "description": "输入参数P"
        },
        {
          "name": "RH",
          "type": "REAL",
          "description": "输入参数RH"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入X的值和预设的触发范围，以及报警阈值，生成一系列输出信号",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tRST : BOOL;\n\tTRIGGER_LOW : REAL;\n\tTRIGGER_HIGH : REAL;\n\tALARM_LOW : BOOL;\n\tALARM_HIGH : BOOL;\n\tLOG_SCALE : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tLOW : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQ4 : BOOL;\n\tQ5 : BOOL;\n\tQ6 : BOOL;\n\tHIGH : BOOL;\n\tALARM : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tT1 : REAL;\n\tT2 : REAL;\n\tT3 : REAL;\n\tT4 : REAL;\n\tT5 : REAL;\n\ttemp : REAL;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tIF log_scale THEN\n\t\ttemp := EXP(LN(Trigger_high / Trigger_low) * 0.166666666666666666666);\n\t\tT1 := trigger_low * temp;\n\t\tT2 := T1 * temp;\n\t\tT3 := T2 * temp;\n\t\tT4 := T3 * temp;\n\t\tT5 := T4 * temp;\n\tELSE\n\t\ttemp := (trigger_high - trigger_low) * 0.142857142;\n\t\tT1 := trigger_low + temp;\n\t\tT2 := T1 + temp;\n\t\tT3 := T2 + temp;\n\t\tT4 := T3 + temp;\n\t\tT5 := T4 + temp;\n\tEND_IF;\nEND_IF;\n\n(* clear outputs before checking *)\nQ1 := FALSE;\nQ2 := FALSE;\nQ3 := FALSE;\nQ4 := FALSE;\nQ5 := FALSE;\nQ6 := FALSE;\nstatus := BYTE#110;\n\n(* low, high and alarm can only be cleared with rst depending on alarm_low and alarm_high *)\nIF NOT alarm_low THEN low := FALSE; END_IF;\nIF NOT alarm_high THEN high := FALSE; END_IF;\nIF rst THEN\n\talarm := FALSE;\n\tlow := FALSE;\n\thigh := FALSE;\nEND_IF;\n\n(* check and set outputs *)\nIF X < trigger_low THEN\n\tLow := TRUE;\n\tstatus := BYTE#111;\n\tIF alarm_low THEN\n\t\talarm := TRUE;\n\t\tstatus := BYTE#1;\n\tEND_IF;\nELSIF X < T1 THEN\n\tQ1 := TRUE;\nELSIF x < t2 THEN\n\tQ2 := TRUE;\nELSIF x < t3 THEN\n\tQ3 := TRUE;\nELSIF x < T4 THEN\n\tQ4 := TRUE;\nELSIF x < T5 THEN\n\tq5 := TRUE;\nELSIF x < trigger_high THEN\n\tq6 := TRUE;\nELSE\n\thigh := TRUE;\n\tstatus := BYTE#112;\n\tIF alarm_high THEN\n\t\talarm := TRUE;\n\t\tstatus := BYTE#2;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "TRIGGER_LOW",
          "type": "REAL",
          "description": "输入参数TRIGGER_LOW"
        },
        {
          "name": "TRIGGER_HIGH",
          "type": "REAL",
          "description": "输入参数TRIGGER_HIGH"
        },
        {
          "name": "ALARM_LOW",
          "type": "BOOL",
          "description": "输入参数ALARM_LOW"
        },
        {
          "name": "ALARM_HIGH",
          "type": "BOOL",
          "description": "输入参数ALARM_HIGH"
        },
        {
          "name": "LOG_SCALE",
          "type": "BOOL",
          "description": "输入参数LOG_SCALE"
        }
      ],
      "outputs": [
        {
          "name": "LOW",
          "type": "BOOL",
          "description": "输出参数LOW"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "HIGH",
          "type": "BOOL",
          "description": "输出参数HIGH"
        },
        {
          "name": "ALARM",
          "type": "BOOL",
          "description": "输出参数ALARM"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言计算并跟踪系统的消耗量",
      "input": "",
      "output": "VAR_INPUT\n\tTF : REAL;\n\tTR : REAL;\n\tLPH : REAL;\n\tE : BOOL;\n\tRST : BOOL;\n\tCP : REAL;\n\tDENSITY : REAL;\n\tCONTENT : REAL;\n\tPULSE_MODE : BOOL;\n\tRETURN_METER : BOOL;\n\tAVG_TIME : TIME := T#5s;\nEND_VAR\n\nVAR_OUTPUT\n\tC : REAL;\nEND_VAR\n\nVAR_IN_OUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\ttx : UDINT;\n\tlast : UDINT;\n\tint1 : FT_INT2;\n\tedge : BOOL;\n\tx : REAL;\n\tinit : BOOL;\n\tY_last : REAL;\n\tT_PLC_MS : T_PLC_MS;\n\tWATER_ENTHALPY : WATER_ENTHALPY;\n\twa_TF : REAL;\n\twa_TR : REAL;\nEND_VAR\n\nIF rst THEN\n\tint1(rst := TRUE);\n\tint1.rst := FALSE;\n\tC := 0.0;\n\tY := 0.0;\nELSIF e THEN\n\twater_enthalpy(T := TF);\n\twa_TF := water_enthalpy.Result;\n\n\twater_enthalpy(T := TR);\n\twa_TR := water_enthalpy.Result;\n\n\tX := (WATER_DENSITY(SEL(return_meter, TF, TR), FALSE) * (wa_TF - wa_TR) * (1.0 - content) + CP * Density * content * (TF - TR));\nEND_IF;\n\n(* 积分或添加消耗量 *)\nint1(run := NOT pulse_mode AND e, in := X * LPH * 2.77777777777E-4);\nIF pulse_mode THEN\n\tIF NOT edge AND E THEN Y := Y + X * LPH; END_IF;\nELSE\n\tY := int1.Out;\nEND_IF;\n\n(* 存储e的值 *)\nedge := e;\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\n(* 只有在启动时才需要初始化 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\nEND_IF;\n\n(* 计算当前消耗量 *)\nIF (tx - last >= TIME_TO_UDINT(AVG_TIME)) AND (avg_time > T#0s) THEN\n\tlast := tx;\n\tC := (Y - Y_last) * 3.6E12 / TIME_TO_REAL(AVG_TIME);\n\tY_last := Y;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "TF",
          "type": "REAL",
          "description": "输入参数TF"
        },
        {
          "name": "TR",
          "type": "REAL",
          "description": "输入参数TR"
        },
        {
          "name": "LPH",
          "type": "REAL",
          "description": "输入参数LPH"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "CP",
          "type": "REAL",
          "description": "输入参数CP"
        },
        {
          "name": "DENSITY",
          "type": "REAL",
          "description": "输入参数DENSITY"
        },
        {
          "name": "CONTENT",
          "type": "REAL",
          "description": "输入参数CONTENT"
        },
        {
          "name": "PULSE_MODE",
          "type": "BOOL",
          "description": "输入参数PULSE_MODE"
        },
        {
          "name": "RETURN_METER",
          "type": "BOOL",
          "description": "输入参数RETURN_METER"
        },
        {
          "name": "AVG_TIME",
          "type": "TIME",
          "description": "输入参数AVG_TIME"
        }
      ],
      "outputs": [
        {
          "name": "C",
          "type": "REAL",
          "description": "输出参数C"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言怎么计算复数的相位角",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCARG : REAL;\nEND_VAR\n\nCARG := ATAN2(X.im, X.re);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CARG",
          "type": "REAL",
          "description": "输出参数CARG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在数组PT中查找与给定字符串STR相匹配的子串怎么用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\n\tSTR : oscat_STRING250;\n\tPOS : INT;\n\tIGN : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_SEARCH : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tend : INT;\n\tk : INT;\n\tk2 : INT;\n\tlx : INT;\n\tchar : BYTE;\n\tchx : BYTE;\nEND_VAR\n\nlx := LEN(str);\nIF pos >= 0 AND lx > 0 THEN\n\tend := UINT_TO_INT(size) - lx;\n\tlx := lx - 1;\n\tFOR i := pos TO end DO\n\t\tFOR k := 0 TO lx DO\n\t\t\tchar := INT_TO_BYTE(GET_CHAR(str,k + 1));\n\t\t\tk2 := i + k;\n\t\t\tIF IGN THEN\n\t\t\t\tchx := TO_UPPER(pt[k2]);\n\t\t\tELSE\n\t\t\t\tchx := pt[k2];\n\t\t\tEND_IF;\n\t\t\tIF char <> chx THEN EXIT; END_IF;\n\t\tEND_FOR;\n\t\tIF k > lx THEN\n\t\t\tBUFFER_SEARCH := i;\n\t\t\tRETURN;\n\t\tEND_IF;\n\tEND_FOR;\nEND_IF;\nBUFFER_SEARCH := -1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        },
        {
          "name": "IGN",
          "type": "BOOL",
          "description": "输入参数IGN"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_SEARCH",
          "type": "INT",
          "description": "输出参数BUFFER_SEARCH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成脉冲宽度调制信号的st代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tCI : REAL;\n\tMAN_IN : REAL;\n\tMANUAL : BOOL;\n\tF : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tPW : PWM_DC;\nEND_VAR\n\nPW(F := F, DC := SEL(MANUAL, CI, MAN_IN));\nQ := PW.Q;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CI",
          "type": "REAL",
          "description": "输入参数CI"
        },
        {
          "name": "MAN_IN",
          "type": "REAL",
          "description": "输入参数MAN_IN"
        },
        {
          "name": "MANUAL",
          "type": "BOOL",
          "description": "输入参数MANUAL"
        },
        {
          "name": "F",
          "type": "REAL",
          "description": "频率参数"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据给定的坐标，将指定的字符写入到屏幕的相应位置。给出st代码",
      "input": "",
      "output": "VAR\n\tin_Offset : INT;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y : INT;\n\tIin_X : INT;\n\tIby_CHAR : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY_ERROR(Iin_X,Iin_Y) THEN RETURN; END_IF;\n\nin_Offset := (Iin_Y * 80) + Iin_X;\nXus_TN_SCREEN.bya_CHAR[in_Offset] := Iby_CHAR; (* 写入字符 *);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        },
        {
          "name": "Iby_CHAR",
          "type": "BYTE",
          "description": "输入参数Iby_CHAR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过输入的地理位置和世界时间UTC，计算当前日期的日出、日落时间、太阳赤纬以及天文中午时太阳的方位。给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tLATITUDE : REAL;(*地理位置的纬度*)\n\tLONGITUDE : REAL;(*地理位置的经度*)\n\tUTC : UDINT;(*世界时间*)\n\tH : REAL := -0.83333333333;(*日出时太阳的高度角*)\nEND_VAR\n\nVAR_OUTPUT\n\tMIDDAY : UDINT;(*天文中午时间，太阳位于南方时的时间*)\n\tSUN_RISE : UDINT;(*当前日期的日出时间，单位为本地时间*)\n\tSUN_SET : UDINT;(*当前日期的日落时间，单位为本地时间*)\n\tSUN_DECLINATION : REAL;(*天文中午时太阳的赤纬，单位为度*)\nEND_VAR\n\nVAR\n\tDK : REAL;(*天文中午时太阳的赤纬*)\n\tdelta : UDINT;(*日出和日落时间与天文中午的时间差*)\n\tB : REAL;\nEND_VAR\n\nB := latitude * 0.0174532925199433;\nMIDDAY := SUN_MIDDAY(longitude, utc);\nDK := 0.40954 * SIN(0.0172 * (INT_TO_REAL(DAY_OF_YEAR(utc)) - 79.35));\nsun_declination := DEG(DK);\nIF sun_declination > 180.0 THEN sun_declination := sun_declination - 360.0; END_IF;\nsun_declination := 90.0 - LATITUDE + sun_declination;\ndelta := TIME_TO_UDINT(HOUR_TO_TIME(ACOS((SIN(RAD(H)) - SIN(B) * SIN(DK)) / (COS(B) * COS(DK))) * 3.819718632));\nsun_rise := MIDDAY - delta;\nsun_set := MIDDAY + delta;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LATITUDE",
          "type": "REAL",
          "description": "输入参数LATITUDE"
        },
        {
          "name": "LONGITUDE",
          "type": "REAL",
          "description": "输入参数LONGITUDE"
        },
        {
          "name": "UTC",
          "type": "UDINT",
          "description": "输入参数UTC"
        },
        {
          "name": "H",
          "type": "REAL",
          "description": "输入参数H"
        }
      ],
      "outputs": [
        {
          "name": "MIDDAY",
          "type": "UDINT",
          "description": "输出参数MIDDAY"
        },
        {
          "name": "SUN_RISE",
          "type": "UDINT",
          "description": "输出参数SUN_RISE"
        },
        {
          "name": "SUN_SET",
          "type": "UDINT",
          "description": "输出参数SUN_SET"
        },
        {
          "name": "SUN_DECLINATION",
          "type": "REAL",
          "description": "输出参数SUN_DECLINATION"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何生成一个具有可编程周期时间的时钟脉冲",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME;\n\tN : INT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tCNT : INT;\n\tRUN : BOOL;\nEND_VAR\n\nVAR\n\ttx : UDINT;\n\ttn : UDINT;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\nQ := FALSE; (* 重置 Q，仅在一个周期内生成脉冲 *)\nRUN := CNT < N;\n\nIF NOT init OR RST THEN\n\tinit := TRUE;\n\tCNT := 0;\n\ttn := tx - TIME_TO_UDINT(PT);\n\tRUN := FALSE;\nELSIF (cnt < N OR N = 0) AND tx - tn >= TIME_TO_UDINT(PT) THEN (* 生成脉冲 *)\n\tCNT := CNT + 1;\n\tQ := TRUE;\n\ttn := tn + TIME_TO_UDINT(PT);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "CNT",
          "type": "INT",
          "description": "计数器值"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "运行状态"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算椭圆面积的ST代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tR1 : REAL;\n\tR2 : REAL;\nEND_VAR\n\nellipse_A := 3.14159265358979323846264338327950288 * R1 * R2;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "R1",
          "type": "REAL",
          "description": "输入参数R1"
        },
        {
          "name": "R2",
          "type": "REAL",
          "description": "输入参数R2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于优先级顺序依次添加对应的偏移量",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tO1 : BOOL;\n\tO2 : BOOL;\n\tO3 : BOOL;\n\tO4 : BOOL;\n\tD : BOOL;\n\tOFFSET_1 : REAL;\n\tOFFSET_2 : REAL;\n\tOFFSET_3 : REAL;\n\tOFFSET_4 : REAL;\n\tDEFAULT : REAL;\nEND_VAR\n\nIF D THEN Offset2 := default; ELSE Offset2 := X; END_IF;\nIF O4 THEN Offset2 := Offset2 + offset_4;\nELSIF O3 THEN Offset2 := Offset2 + offset_3;\nELSIF O2 THEN Offset2 := Offset2 + offset_2;\nELSIF O1 THEN Offset2 := Offset2 + offset_1;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "O1",
          "type": "BOOL",
          "description": "输入参数O1"
        },
        {
          "name": "O2",
          "type": "BOOL",
          "description": "输入参数O2"
        },
        {
          "name": "O3",
          "type": "BOOL",
          "description": "输入参数O3"
        },
        {
          "name": "O4",
          "type": "BOOL",
          "description": "输入参数O4"
        },
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "OFFSET_1",
          "type": "REAL",
          "description": "输入参数OFFSET_1"
        },
        {
          "name": "OFFSET_2",
          "type": "REAL",
          "description": "输入参数OFFSET_2"
        },
        {
          "name": "OFFSET_3",
          "type": "REAL",
          "description": "输入参数OFFSET_3"
        },
        {
          "name": "OFFSET_4",
          "type": "REAL",
          "description": "输入参数OFFSET_4"
        },
        {
          "name": "DEFAULT",
          "type": "REAL",
          "description": "默认值参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在PLC上怎么表示不同的风向",
      "input": "",
      "output": "VAR_IN_OUT\n\tDIRS : oscat_DIRS;\nEND_VAR\n\nVAR\n\tinit : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: SETUP_DIRS\nIEC_LANGUAGE: ST\n*)\n(* 初始化数据 *)\nIF init THEN RETURN; END_IF;\ninit := TRUE;\n\n(* ---- 英文方向 ---- *)\nDIRS[1][00] := 'N';\nDIRS[1][01] := 'NNE';\nDIRS[1][02] := 'NE';\nDIRS[1][03] := 'ENE';\nDIRS[1][04] := 'E';\nDIRS[1][05] := 'ESE';\nDIRS[1][06] := 'SE';\nDIRS[1][07] := 'SSE';\nDIRS[1][08] := 'S';\nDIRS[1][09] := 'SSW';\nDIRS[1][10] := 'SW';\nDIRS[1][11] := 'WSW';\nDIRS[1][12] := 'W';\nDIRS[1][13] := 'WNW';\nDIRS[1][14] := 'NW';\nDIRS[1][15] := 'NNW';",
      "description": "SETUP_DIRS功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言实现一个上升沿触发的RS触发器",
      "input": "",
      "output": "VAR_INPUT\n\tCS : BOOL;\n\tCR : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tes : BOOL;\n\ter : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FF_RSE\nIEC_LANGUAGE: ST\n*)\nIF rst THEN\n\t(* asynchronous reset *)\n\tQ := FALSE;\nELSIF CR AND NOT er THEN\n\t(* rising edge on CR *)\n\tQ := FALSE;\nELSIF CS AND NOT es THEN\n\t(* rising edge on CS *)\n\tQ := TRUE;\nEND_IF;\n\nes := CS;\n\ter := CR;",
      "description": "上升沿触发的RS触发器实现，支持异步复位功能。检测CS（置位）和CR（复位）输入的上升沿来触发状态变化，RST信号提供异步复位功能。适用于按钮去抖、状态锁存、边沿检测等应用场景。",
      "inputs": [
        {
          "name": "CS",
          "type": "BOOL",
          "description": "置位输入，上升沿触发置位"
        },
        {
          "name": "CR",
          "type": "BOOL",
          "description": "复位输入，上升沿触发复位"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "异步复位信号，高电平有效"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "触发器输出状态"
        }
      ],
      "library_dependency": "无特殊库依赖，使用标准IEC 61131-3功能",
      "iec_standard": "IEC 61131-3 基本功能块，上升沿检测逻辑",
      "tags": [
        "RS触发器",
        "上升沿检测",
        "状态锁存",
        "去抖动",
        "边沿触发",
        "数字逻辑"
      ]
    },
    {
      "instruction": "如何用st语言实现一个简单的状态机",
      "input": "",
      "output": "VAR_INPUT\n\tE : BOOL;\n\tSET : BOOL;\n\tIN : BYTE;\n\tUP : BOOL;\n\tDN : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQ4 : BOOL;\n\tQ5 : BOOL;\n\tQ6 : BOOL;\n\tQ7 : BOOL;\n\tSTATE : INT;\nEND_VAR\n\nVAR\n\tlast_up : BOOL;\n\tlast_dn : BOOL;\nEND_VAR\n\nIF rst THEN\n\tstate := 0;\nELSIF set THEN\n\tstate := _BYTE_TO_INT(IN);\nELSIF up AND NOT last_up THEN\n\tstate := inc(state,1,7);\nELSIF dn AND NOT last_dn THEN\n\tstate := inc(state,-1,7);\nEND_IF;\nlast_UP := UP;\nlast_DN := DN;\n\nQ0 := FALSE;\nQ1 := FALSE;\nQ2 := FALSE;\nQ3 := FALSE;\nQ4 := FALSE;\nQ5 := FALSE;\nQ6 := FALSE;\nQ7 := FALSE;\n\nIF e THEN\n\tCASE state OF\n\t\t0: Q0 := TRUE;\n\t\t1: Q1 := TRUE;\n\t\t2: Q2 := TRUE;\n\t\t3: Q3 := TRUE;\n\t\t4: Q4 := TRUE;\n\t\t5: Q5 := TRUE;\n\t\t6: Q6 := TRUE;\n\t\t7: Q7 := TRUE;\n\tEND_CASE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "Q7",
          "type": "BOOL",
          "description": "输出参数Q7"
        },
        {
          "name": "STATE",
          "type": "INT",
          "description": "输出参数STATE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在PLC上实现一个递增函数",
      "input": "",
      "output": "VAR_INPUT\nX : INT;\nN : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INC1\nIEC_LANGUAGE: ST\n*)\nIF X >= N - 1 THEN\nINC1 := 0;\nELSE\nINC1 := X + 1;\nEND_IF;",
      "description": "INC1功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算输入值的误差函数怎么用ST语言编写",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nVAR\n\tx2 : REAL;\n\tax2 : REAL;\nEND_VAR\n\nx2 := X * X;\nax2 := 0.147 * x2 + 1.0;\nERF := SQRT(1.0 - EXP(-x2 * ((0.27323954473516 + ax2) / (ax2)))) * INT_TO_REAL(SGN(X));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将一个字符串按字符写入屏幕并为每个字符设置相应的颜色属性，同时更新屏幕的行数据",
      "input": "",
      "output": "VAR\n\tCODE : CODE;\nEND_VAR\n\nVAR\n\tbo_Color : BOOL;\n\tin_Offset : INT;\n\tin_Char_Index : INT;\n\tin_String_Length : INT;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y : INT;\n\tIin_X : INT;\n\tIby_ATTR : BYTE;\n\tIst_STRING : STRING;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nin_String_Length := LEN(Ist_STRING);\nIF TN_SC_XY_ERROR(Iin_X + in_String_Length - 1,Iin_Y) THEN RETURN; END_IF;\nXus_TN_SCREEN.bya_Line_Update[Iin_Y] := TRUE; (* 释放更新行 *)\nin_Offset := (Iin_Y * 80) + Iin_X; (* 计算第一个字符的偏移 *)\nbo_Color := Iby_ATTR <> BYTE#00;\n\nFOR in_Char_Index := 1 TO in_String_Length DO\n\n\tIF bo_Color THEN Xus_TN_SCREEN.bya_COLOR[in_Offset] := Iby_ATTR; END_IF;\n\n\tCODE(STR := Ist_STRING, POS := in_Char_Index);\n\tXus_TN_SCREEN.bya_CHAR[in_Offset] := CODE.CODE;\n\tin_Offset := in_Offset + INT#1;\n\nEND_FOR;\n\n(* 保存字符串结束偏移 *)\nXus_TN_SCREEN.in_EOS_Offset := in_Offset;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        },
        {
          "name": "Iby_ATTR",
          "type": "BYTE",
          "description": "输入参数Iby_ATTR"
        },
        {
          "name": "Ist_STRING",
          "type": "STRING",
          "description": "输入参数Ist_STRING"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入的以秒为单位的时间戳转换为毫秒为单位的当天时间",
      "input": "",
      "output": "VAR_INPUT\n\tIN : UDINT;\nEND_VAR\n\nDT_TO_TOD := (IN MOD UDINT#86400) * UDINT#1000;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "UDINT",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "SMTP邮件发送功能怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tFILE_DELETE : BOOL;\n\tTIMEOUT : TIME := T#30s;\n\tDTI : UDINT;\n\tDTI_OFFSET : INT;\n\tRETRY : INT;\n\tRETRY_TIME : TIME := T#30s;\n\tDNS_IP4 : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tDONE : BOOL;\n\tBUSY : BOOL;\n\tERROR_C : DWORD;\n\tERROR_T : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tSERVER : STRING;\n\tMAILFROM : STRING;\n\tMAILTO : oscat_STRING250;\n\tSUBJECT : STRING;\n\tBODY : oscat_STRING250;\n\tX : oscat_DLOG_DATA;\nEND_VAR\n\nVAR\n\tUCBD : oscat_UNI_CIRCULAR_BUFFER_DATA;\n\tUCB : UNI_CIRCULAR_BUFFER;\n\tSMTP_CLIENT : SMTP_CLIENT;\n\tWT_1 : TON;\n\tftrig_old : BOOL;\n\tfiles : oscat_STRING250;\n\tstep : INT;\n\tsmtp_busy : BOOL;\n\tsmtp_done : BOOL;\n\tcnt : INT;\nEND_VAR\n\n(* neue Filenamen speichern *)\nIF X.NEW_FILE_RTRIG AND ftrig_old = FALSE THEN\n\tUCBD.D_HEAD := WORD#1;\n\tUCBD.D_MODE := 1;\n\tUCBD.D_STRING := X.NEW_FILE;\n\tUCB(DATA := UCBD); (* 数据写入 *)\n\tUCBD := UCB.DATA;\nEND_IF;\nftrig_old := X.NEW_FILE_RTRIG;\n\nCASE step OF\n\n00: IF UCBD.BUF_COUNT > 0 AND smtp_busy = FALSE THEN\n\tUCBD.D_MODE := 12;\n\tUCB(DATA := UCBD);\n\tUCBD := UCB.DATA;\n\tfiles := UCBD.D_STRING;\n\tIF FILE_DELETE THEN\n\t\tfiles := CONCAT(files,';#DEL#');\n\tEND_IF;\n\tcnt := 0;\n\tstep := 10;\nEND_IF;\n\n10: IF smtp_busy = FALSE THEN\n\tIF smtp_done THEN\n\t\tstep := 0;\n\tELSE\n\t\tstep := 20; (* 错误后的暂停 *)\n\tEND_IF;\nEND_IF;\n\n20: IF WT_1.Q THEN (* 等待时间 *)\n\tcnt := cnt - 1;\n\tIF RETRY = 0 THEN (* 无限次重试传输 *)\n\t\tstep := 10; (* 重试传输 *)\n\tELSIF cnt >= 0 THEN\n\t\tstep := 10; (* 重试传输 *)\n\tELSE\n\t\tstep := 0; (* 丢弃任务 *)\n\tEND_IF;\nEND_IF;\n\nEND_CASE;\n\nBUSY := step = 10;\nDONE := step = 0;\nWT_1(IN := step = 20, PT := RETRY_TIME);\n\nSMTP_CLIENT(\n\tACTIVATE := BUSY,\n\tTIMEOUT := TIMEOUT,\n\tDTI := DTI,\n\tDTI_OFFSET := DTI_OFFSET,\n\tDNS_IP4 := DNS_IP4,\n\tSERVER := SERVER,\n\tMAILFROM := MAILFROM,\n\tMAILTO := MAILTO,\n\tSUBJECT := SUBJECT,\n\tBODY := BODY,\n\tFILES := FILES\n\t);\n\tSERVER := SMTP_CLIENT.SERVER;\n\tMAILFROM := SMTP_CLIENT.MAILFROM;\n\tMAILTO := SMTP_CLIENT.MAILTO;\n\tSUBJECT := SMTP_CLIENT.SUBJECT;\n\tBODY := SMTP_CLIENT.BODY;\n\tFILES := SMTP_CLIENT.FILES;\n\tsmtp_done := SMTP_CLIENT.DONE;\n\tsmtp_busy := SMTP_CLIENT.BUSY;\n\tERROR_C := SMTP_CLIENT.ERROR_C;\n\tERROR_T := SMTP_CLIENT.ERROR_T;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "FILE_DELETE",
          "type": "BOOL",
          "description": "输入参数FILE_DELETE"
        },
        {
          "name": "TIMEOUT",
          "type": "TIME",
          "description": "输入参数TIMEOUT"
        },
        {
          "name": "DTI",
          "type": "UDINT",
          "description": "输入参数DTI"
        },
        {
          "name": "DTI_OFFSET",
          "type": "INT",
          "description": "输入参数DTI_OFFSET"
        },
        {
          "name": "RETRY",
          "type": "INT",
          "description": "输入参数RETRY"
        },
        {
          "name": "RETRY_TIME",
          "type": "TIME",
          "description": "输入参数RETRY_TIME"
        },
        {
          "name": "DNS_IP4",
          "type": "DWORD",
          "description": "输入参数DNS_IP4"
        }
      ],
      "outputs": [
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        },
        {
          "name": "BUSY",
          "type": "BOOL",
          "description": "忙碌状态"
        },
        {
          "name": "ERROR_C",
          "type": "DWORD",
          "description": "输出参数ERROR_C"
        },
        {
          "name": "ERROR_T",
          "type": "BYTE",
          "description": "输出参数ERROR_T"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "PLC怎么根据不同的条件控制输出信号，处理不同的紧急情况并进行相应的遮阳板控制",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tAI : BYTE;\n\tFIRE : BOOL;\n\tWIND : BOOL;\n\tALARM : BOOL;\n\tDOOR : BOOL;\n\tRAIN : BOOL;\n\tALARM_UP : BOOL := TRUE;\n\tWIND_UP : BOOL := TRUE;\n\tRAIN_UP : BOOL := TRUE;\nEND_VAR\n\nVAR_OUTPUT\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\n\tPO : BYTE;\n\tAO : BYTE;\nEND_VAR\n\nIF Fire THEN\n\tQU := TRUE;\n\tQD := FALSE;\n\tstatus := BYTE#111;\nELSIF Wind THEN\n\tQU := Wind_up;\n\tQD := NOT wind_up;\n\tstatus := BYTE#112;\nELSIF alarm THEN\n\tQU := Alarm_up;\n\tQD := NOT Alarm_up;\n\tstatus := BYTE#113;\nELSIF Door THEN\n\tQU := TRUE;\n\tQD := FALSE;\n\tstatus := BYTE#114;\nELSIF Rain AND NOT (up XOR dn) THEN\n\tQU := rain_up;\n\tQD := NOT rain_up;\n\tstatus := BYTE#115;\nELSE\n\tQU := UP;\n\tQD := DN;\n\tstatus := S_IN;\n\tpo := pi;\n\tao := ai;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "AI",
          "type": "BYTE",
          "description": "输入参数AI"
        },
        {
          "name": "FIRE",
          "type": "BOOL",
          "description": "输入参数FIRE"
        },
        {
          "name": "WIND",
          "type": "BOOL",
          "description": "输入参数WIND"
        },
        {
          "name": "ALARM",
          "type": "BOOL",
          "description": "输入参数ALARM"
        },
        {
          "name": "DOOR",
          "type": "BOOL",
          "description": "输入参数DOOR"
        },
        {
          "name": "RAIN",
          "type": "BOOL",
          "description": "输入参数RAIN"
        },
        {
          "name": "ALARM_UP",
          "type": "BOOL",
          "description": "输入参数ALARM_UP"
        },
        {
          "name": "WIND_UP",
          "type": "BOOL",
          "description": "输入参数WIND_UP"
        },
        {
          "name": "RAIN_UP",
          "type": "BOOL",
          "description": "输入参数RAIN_UP"
        }
      ],
      "outputs": [
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输出参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输出参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        },
        {
          "name": "PO",
          "type": "BYTE",
          "description": "输出参数PO"
        },
        {
          "name": "AO",
          "type": "BYTE",
          "description": "输出参数AO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过PLC程序实现一个双D型触发器，具有复位功能和上升沿触发",
      "input": "",
      "output": "VAR_INPUT\n\tD0 : BOOL;\n\tD1 : BOOL;\n\tCLK : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\nEND_VAR\n\nIF RST THEN\n\tQ0 := FALSE;\n\tQ1 := FALSE;\nELSIF CLK AND NOT edge THEN\n\tQ0 := D0;\n\tQ1 := D1;\nEND_IF;\nedge := CLK;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D1",
          "type": "BOOL",
          "description": "输入参数D1"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过PLC实现一个带上下限的递增功能",
      "input": "",
      "output": "VAR_INPUT\nX : INT;\nD : INT;\nL : INT;\nU : INT;\nEND_VAR\n\nVAR\ntmp : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INC2\nIEC_LANGUAGE: ST\n*)\ntmp := U - L + 1;\nINC2 := (X + D - L + tmp) MOD tmp + L;",
      "description": "INC2功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入参数值"
        },
        {
          "name": "D",
          "type": "INT",
          "description": "输入参数D"
        },
        {
          "name": "L",
          "type": "INT",
          "description": "长度参数"
        },
        {
          "name": "U",
          "type": "INT",
          "description": "输入参数U"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将两个WORD类型的变量按位组合成一个DWORD类型的变量",
      "input": "",
      "output": "VAR_INPUT\n\tW1 : WORD;\n\tW0 : WORD;\nEND_VAR\n\nDWORD_OF_WORD := SHL_DWORD(WORD_TO_DWORD(W1),16) OR WORD_TO_DWORD(W0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "W1",
          "type": "WORD",
          "description": "输入参数W1"
        },
        {
          "name": "W0",
          "type": "WORD",
          "description": "输入参数W0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将实数转换为整数怎么编程？用st语言",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nCEIL := REAL_TO_INT(x);\nIF INT_TO_REAL(CEIL) < X THEN\n\tCEIL := CEIL + 1;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现带有积分器和动态防风扰重置的PI控制器，用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tKI : REAL := 1.0;\n\tLIM_L : REAL := -1.0E38;\n\tLIM_H : REAL := 1.0E38;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ttx : UDINT;\n\ttc : REAL;\n\tt_last : UDINT;\n\tin_last : REAL;\n\ti : REAL;\n\tp : REAL;\n\tT_PLC_US : T_PLC_US;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PIWL\nIEC_LANGUAGE: ST\n*)\n(* 启动时初始化 *)\nIF NOT init OR RST THEN\n\tinit := TRUE;\n\tin_last := in;\n\tT_PLC_US();\n\tt_last := T_PLC_US.T_PLC_US;\n\ti := 0.0;\n\ttc := 0.0;\nELSE\n\t(* 读取上次周期时间，单位为微秒 *)\n\tT_PLC_US();\n\ttx := T_PLC_US.T_PLC_MS;\n\ttc := UDINT_TO_REAL(tx - t_last);\n\tt_last := tx;\n\t(* 计算比例部分 *)\n\tp := KP * IN;\n\t(* 运行积分器 *)\n\ti := (IN + in_last) * 5.0E-7 * KI * tc + i;\n\tin_last := IN;\n\t(* 计算输出Y *)\n\tY := p + i;\n\t(* 检查输出是否超过限制 *)\n\tIF Y >= LIM_H THEN\n\t\tY := LIM_H;\n\t\tIF ki <> 0.0 THEN\n\t\t\ti := LIM_H - p;\n\t\tELSE\n\t\t\ti := 0.0;\n\t\tEND_IF;\n\t\tLIM := TRUE;\n\tELSIF Y <= LIM_L THEN\n\t\tY := LIM_L;\n\t\tIF ki <> 0.0 THEN\n\t\t\ti := LIM_L - p;\n\t\tELSE\n\t\t\ti := 0.0;\n\t\tEND_IF;\n\t\tLIM := TRUE;\n\tELSE\n\t\tLIM := FALSE;\n\tEND_IF;\nEND_IF;",
      "description": "带动态风限复位的PI控制器，实现先进的抗积分饱和算法。当输出受限时动态调整积分值，提供优异的控制性能。适用于大扰动、频繁设定值变化等复杂工业控制场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "KI",
          "type": "REAL",
          "description": "积分增益系数"
        },
        {
          "name": "LIM_L/H",
          "type": "REAL",
          "description": "输出限幅范围"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "控制器复位"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PI控制器输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "限幅状态指示"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_US高精度时间函数",
      "iec_standard": "IEC 61131-3 先进抗饱和PI算法，动态风限复位",
      "tags": [
        "风限复位",
        "动态抗饱和",
        "先进PI",
        "复杂控制",
        "大扰动",
        "性能优化"
      ]
    },
    {
      "instruction": "用ST语言实现一个带有可编程时间常数的整数型低通滤波器",
      "input": "",
      "output": "VAR_INPUT\n\tX : INT;\n\tT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tY : INT;\nEND_VAR\n\nVAR\n\tYi : DINT;\n\tlast : UDINT;\n\ttx : UDINT;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILTER_I\nIEC_LANGUAGE: ST\n*)\n(* read system time *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\n(* startup initialisation *)\nIF NOT init OR T = t#0s THEN\n\tinit := TRUE;\n\tYi := INT_TO_DINT(X) * DINT#1000;\nELSE\n\t(* to increase accuracy of the filter we calculate internal Yi wich is Y * 1000 *)\n\tYi := Yi + INT_TO_DINT(X - Y) * UDINT_TO_DINT(tx - last) * DINT#1000 / TIME_TO_DINT(T);\nEND_IF;\nlast := tx;\nY := DINT_TO_INT(yi / DINT#1000);",
      "description": "INT类型整数低通滤波器，采用内部高精度计算提高滤波精度。通过将内部计算精度提高1000倍，有效减少量化误差。适用于整数传感器信号、计数器值、温度测量等需要平滑处理的整数数据。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入信号(有符号整数)"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "滤波时间常数"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "INT",
          "description": "滤波后的输出信号"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_MS系统时间函数, 高精度类型转换",
      "iec_standard": "IEC 61131-3 高精度滤波算法，量化误差优化",
      "tags": [
        "整数滤波",
        "高精度处理",
        "量化误差",
        "信号平滑",
        "温度滤波",
        "计数器平滑"
      ]
    },
    {
      "instruction": "如何将一个UDINT类型的时间戳转换为字符串格式",
      "input": "",
      "output": "VAR_INPUT\n\tIDT : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tDT_STRING : STRING;\nEND_VAR\n\nVAR\n\tst_tmp1 : STRING;\n\tst_tmp2 : STRING;\nEND_VAR\n\nst_tmp2 := CONCAT(INT_TO_STRING(YEAR_OF_DATE(IDT), '%04d-'), INT_TO_STRING(MONTH_OF_DATE(IDT), '%02d-'));\nst_tmp1 := CONCAT(INT_TO_STRING(DAY_OF_MONTH(IDT), '%02d-'), INT_TO_STRING(HOUR_OF_DT(IDT), '%02d:'));\nst_tmp2 := CONCAT(st_tmp2, st_tmp1);\nst_tmp1 := CONCAT(INT_TO_STRING(MINUTE_OF_DT(IDT), '%02d:'), INT_TO_STRING(SECOND_OF_DT(IDT), '%02d'));\nst_tmp2 := CONCAT(st_tmp2, st_tmp1);\nDT_STRING := st_tmp2;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDT",
          "type": "UDINT",
          "description": "输入参数IDT"
        }
      ],
      "outputs": [
        {
          "name": "DT_STRING",
          "type": "STRING",
          "description": "输出参数DT_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么在不同的天文长度单位之间进行转换",
      "input": "",
      "output": "VAR_INPUT\n\tM : REAL;\n\tAE : REAL;\n\tPC : REAL;\n\tLJ : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tYM : REAL;\n\tYAE : REAL;\n\tYPC : REAL;\n\tYLJ : REAL;\nEND_VAR\n\nYAE := AE + m * 6.6845871535E-012 + PC * 206265.0 + LJ * 63240.0;\nYm := YAE * 149.597870E9;\nYPC := YAE * 4.8481322570E-006;\nYLJ := YAE * 1.5812776724E-005;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "M",
          "type": "REAL",
          "description": "输入参数M"
        },
        {
          "name": "AE",
          "type": "REAL",
          "description": "输入参数AE"
        },
        {
          "name": "PC",
          "type": "REAL",
          "description": "输入参数PC"
        },
        {
          "name": "LJ",
          "type": "REAL",
          "description": "输入参数LJ"
        }
      ],
      "outputs": [
        {
          "name": "YM",
          "type": "REAL",
          "description": "输出参数YM"
        },
        {
          "name": "YAE",
          "type": "REAL",
          "description": "输出参数YAE"
        },
        {
          "name": "YPC",
          "type": "REAL",
          "description": "输出参数YPC"
        },
        {
          "name": "YLJ",
          "type": "REAL",
          "description": "输出参数YLJ"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据不同的输入状态控制输出的值，实现手动控制逻辑",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tMAN : BOOL;\n\tM_I : BOOL;\n\tSET : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tS_edge : BOOL;\n\tr_edge : BOOL;\n\tedge : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MANUAL_1\nIEC_LANGUAGE: ST\n*)\nIF NOT man THEN\n\tQ := IN;\n\tSTATUS := BYTE#100;\n\tedge := FALSE;\nELSIF NOT s_edge AND set THEN\n\tQ := TRUE;\n\tedge := TRUE;\n\tstatus := BYTE#101;\nELSIF NOT r_edge AND rst THEN\n\tQ := FALSE;\n\tedge := TRUE;\n\tstatus := BYTE#102;\nELSIF NOT edge THEN\n\tQ := M_I;\n\tstatus := BYTE#103;\nEND_IF;\n\n(* 记住手动信号的状态 *)\ns_edge := SET;\nr_edge := RST;",
      "description": "MANUAL_1功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "MAN",
          "type": "BOOL",
          "description": "手动模式"
        },
        {
          "name": "M_I",
          "type": "BOOL",
          "description": "输入参数M_I"
        },
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入的日期计算该日期所在月份的天数？给出代码",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nDAYS_IN_MONTH := DAY_OF_YEAR(IDATE);\nIF LEAP_OF_DATE(IDATE) THEN\n\tCASE DAYS_IN_MONTH OF\n\t\t32..60 : DAYS_IN_MONTH := 29;\n\t\t92..121 : DAYS_IN_MONTH := 30;\n\t\t153..182: DAYS_IN_MONTH := 30;\n\t\t245..274: DAYS_IN_MONTH := 30;\n\t\t306..335: DAYS_IN_MONTH := 30;\n\tELSE\n\t\tDAYS_IN_MONTH := 31;\n\tEND_CASE;\nELSE\n\tCASE DAYS_IN_MONTH OF\n\t\t32..59 : DAYS_IN_MONTH := 28;\n\t\t91..120 : DAYS_IN_MONTH := 30;\n\t\t152..181: DAYS_IN_MONTH := 30;\n\t\t244..273: DAYS_IN_MONTH := 30;\n\t\t305..334: DAYS_IN_MONTH := 30;\n\tELSE\n\t\tDAYS_IN_MONTH := 31;\n\tEND_CASE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过IN或ON为真且OFF为假的条件来设置MANUAL的值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tON : BOOL;\n\tOFF : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MANUAL\nIEC_LANGUAGE: ST\n*)\nMANUAL := NOT OFF AND (IN OR ON);",
      "description": "MANUAL功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "ON",
          "type": "BOOL",
          "description": "开启阈值"
        },
        {
          "name": "OFF",
          "type": "BOOL",
          "description": "关闭阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将输入值依次传递给输出变量，实现输出的轮换",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT1 : REAL;\n\tOUT2 : REAL;\n\tOUT3 : REAL;\n\tOUT4 : REAL;\nEND_VAR\n\nVAR\n\ttemp : REAL;\nEND_VAR\n\nout4 := out3;\nout3 := out2;\nout2 := out1;\nout1 := temp;\ntemp := in;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "OUT1",
          "type": "REAL",
          "description": "输出参数OUT1"
        },
        {
          "name": "OUT2",
          "type": "REAL",
          "description": "输出参数OUT2"
        },
        {
          "name": "OUT3",
          "type": "REAL",
          "description": "输出参数OUT3"
        },
        {
          "name": "OUT4",
          "type": "REAL",
          "description": "输出参数OUT4"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么基于st语言实现基于步长D的量化处理",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tD : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nIF D > 0.0 THEN\n\tIF X >= Y + D OR X <= Y - D THEN Y := INT_TO_REAL(FLOOR(X/D)) * D; END_IF;\nELSE\n\tY := X;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "输入参数D"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个带有双精度精度的积分器，用于对输入信号进行积分处理",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tK : REAL := 1.0;\n\tRUN : BOOL := TRUE;\n\tRST : BOOL;\n\tOUT_MIN : REAL := REAL#-1.0E-37;\n\tOUT_MAX : REAL := REAL#1.0E37;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tinteg : INTEGRATE;\n\tix : REAL;\n\tval : REAL2;\n\tR2_ADD : R2_ADD;\n\tR2_SET : R2_SET;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_INT2\nIEC_LANGUAGE: ST\n*)\nIF RST THEN\n\tR2_SET(X:=0.0);\n\tval:=R2_SET.R2_SET;\n\tout := 0.0;\nELSE\n\tinteg(X := IN, E := RUN, K := K, Y := ix);\n\tix := integ.Y;\n\tR2_ADD(X:=val,Y:=ix);\n\tval:=R2_ADD.R2_ADD;\n\tix := 0.0;\n\tOUT := val.RX;\nEND_IF;\n\n(* 检查输出是否超出限制 *)\nIF out > OUT_MIN AND out < OUT_MAX THEN\n\tLIM := FALSE;\nELSE\n\tOUT := LIMIT(OUT_MIN, OUT, OUT_MAX);\n\tR2_SET(X:=OUT);\n\tval:=R2_SET.R2_SET;\n\tLIM := TRUE;\nEND_IF;",
      "description": "双精度积分器，使用REAL2高精度数据类型减少累积误差。适用于长时间积分、高精度位置控制、精密测量等需要高精度数值积分的应用场景。提供限幅保护和误差补偿功能。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "积分增益系数"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "积分运行控制"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "积分器复位"
        },
        {
          "name": "OUT_MIN/MAX",
          "type": "REAL",
          "description": "输出限制范围"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "高精度积分输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "限幅状态指示"
        }
      ],
      "library_dependency": "OSCAT库: INTEGRATE积分器, REAL2高精度类型, R2_ADD/R2_SET",
      "iec_standard": "IEC 61131-3 高精度积分算法，误差补偿",
      "tags": [
        "双精度积分",
        "高精度",
        "累积误差",
        "长时间积分",
        "精密控制",
        "误差补偿"
      ]
    },
    {
      "instruction": "将输入的日期转换为字符串格式",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tDATE_STRING : STRING;\nEND_VAR\n\nVAR\n\tst_tmp1 : STRING;\nEND_VAR\n\nst_tmp1 := CONCAT(INT_TO_STRING(YEAR_OF_DATE(IDATE), '%04d-'), INT_TO_STRING(MONTH_OF_DATE(IDATE), '%02d-'));\nDATE_STRING := CONCAT(st_tmp1, INT_TO_STRING(day_of_month(IDATE), '%02d'));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [
        {
          "name": "DATE_STRING",
          "type": "STRING",
          "description": "输出参数DATE_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st语言计算X的正切值与X的商",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF X = 0.0 THEN\n\tTANC := 1.0;\nELSE\n\tTANC := TAN(x) / x;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将四个字节按位组合成一个DWORD类型的变量怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tB3 : BYTE;\n\tB2 : BYTE;\n\tB1 : BYTE;\n\tB0 : BYTE;\nEND_VAR\n\nDWORD_OF_BYTE := SHL(SHL(SHL(BYTE_TO_DWORD(B3),8) OR BYTE_TO_DWORD(B2),8) OR BYTE_TO_DWORD(B1),8) OR BYTE_TO_DWORD(B0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "B3",
          "type": "BYTE",
          "description": "输入参数B3"
        },
        {
          "name": "B2",
          "type": "BYTE",
          "description": "输入参数B2"
        },
        {
          "name": "B1",
          "type": "BYTE",
          "description": "输入参数B1"
        },
        {
          "name": "B0",
          "type": "BYTE",
          "description": "输入参数B0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入字符串STR中的指令解析，生成相应的时间、日期信息或命令参数。给我st语言代码",
      "input": "",
      "output": "VAR\n\tpos : INT;\n\tc : INT;\n\tsrc : oscat_STRING1 := STRING#'~';\n\trun : BOOL;\n\tCODE : CODE;\nEND_VAR\n\n(*组：输入输出*)\n\nVAR_IN_OUT\n\tPRINTF_DATA : PRINTF_DATA_80;\n\tSTR : oscat_STRING80;\nEND_VAR\n\n(*组：系统*)\n\nVAR_EXTERNAL\n\tPLC_SYS_TICK_CNT : DINT;\n\tRTC_HOURS : INT;\n\tRTC_MINUTES : INT;\n\tRTC_SECONDS : INT;\n\tRTC_DAY : INT;\n\tRTC_MONTH : INT;\n\tRTC_YEAR : INT;\nEND_VAR\n\nIF LEN(STR) > 0 THEN\n\trun := TRUE;\n\n\tWHILE (run) DO\n\t\tpos := FIND(STR,src);\n\t\tPRINTF_DATA[10] := '';\n\n\t\tIF (pos = 0) THEN\n\t\t\trun := FALSE;\n\t\tELSE\n\t\t\tCODE(STR := STR, POS := pos + INT#01);\n\t\t\tc := _BYTE_TO_INT(CODE.CODE);\n\n\t\t\tIF ISC_NUM(INT_TO_BYTE(c)) THEN\n\t\t\t\tc := c - 48; (* 必要，因为在索引中只能有一个变量 *)\n\t\t\t\tPRINTF_DATA[10] := PRINTF_DATA[c]; (* 命令1-9对应参数索引1-9 *)\n\n\t\t\tELSIF c = 68 THEN (* 检查'D' *)\n\t\t\t\t(* 生成日期字符串，如2008.11.12 *)\n\t\t\t\tPRINTF_DATA[10] := CONCAT(INT_TO_STRING(RTC_DAY,'%02d'),'.');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_MONTH,'%02d'));\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],'.');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_YEAR,'%02d'));\n\n\t\t\tELSIF c = 83 OR c = 84 THEN (* 检查'S'或'T' *)\n\t\t\t\tPRINTF_DATA[10] := CONCAT(INT_TO_STRING(RTC_HOURS ,'%02d'),STRING#':');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_MINUTES,'%02d'));\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],':');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_SECONDS,'%02d'));\n\n\t\t\t\tIF c = 83 THEN (* 检查'S' *)\n\t\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],':');\n\t\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],DINT_TO_STRING(PLC_SYS_TICK_CNT MOD DINT#1000,'%03d'));\n\t\t\t\tEND_IF;\n\t\tEND_IF;\n\n\t\t(* 参数与文本交换 *)\n\t\tIF LEN(PRINTF_DATA[10]) + LEN(STR) > 80 THEN\n\t\t\tPRINTF_DATA[10] := '..';\n\t\tEND_IF;\n\n\t\t(* pcworx：输入输出字符串必须不同 *)\n\t\tPRINTF_DATA[11] := STR;\n\t\tSTR := REPLACE(PRINTF_DATA[11],PRINTF_DATA[10],2,pos);\n\tEND_IF;\n\tEND_WHILE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言将一个字符串中的十进制字符转换为字节",
      "input": "",
      "output": "VAR_INPUT\n\tDEC : oscat_STRING10;\nEND_VAR\n\nVAR_OUTPUT\n\tDEC_TO_BYTE : BYTE;\nEND_VAR\n\nVAR\n\ti : INT;\n\tX : INT;\n\tstop : INT;\nEND_VAR\n\nDEC_TO_BYTE := BYTE#0;\nstop := LEN(DEC);\nFOR I := 1 TO stop DO\n\t(* read the first character and subtract 48 to get value in decimal 0 = 48 *)\n\tX := GET_CHAR(DEC, I);\n\t(* calculate the value of the digit *)\n\tIF X > 47 AND X < 58 THEN\n\t\tDEC_TO_BYTE := INT_TO_BYTE(_BYTE_TO_INT(DEC_TO_BYTE) * 10 + X - 48);\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEC",
          "type": "oscat_STRING10",
          "description": "输入参数DEC"
        }
      ],
      "outputs": [
        {
          "name": "DEC_TO_BYTE",
          "type": "BYTE",
          "description": "输出参数DEC_TO_BYTE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言怎么基于输入信号的去抖动和边沿检测电路",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tIN : BOOL;\n\tRST : BOOL;\n\tT_DEBOUNCE : TIME := T#10ms;\n\tT_RECONFIG : TIME := T#1s;\n\tT_ON_MAX : TIME := T#0h;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL := FALSE;\nEND_VAR\n\nVAR\n\tstate : BYTE := BYTE#0;\n\tedge : BOOL := FALSE;\n\tr_edge : BOOL := FALSE;\n\tT_on : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 异步设置和复位 *)\nIF set AND NOT rst THEN\n\tQ := TRUE;\n\tT_on := tx;\nELSIF rst THEN\n\tQ := FALSE;\n(* 检查输入边沿并启动去抖动定时器 *)\nELSIF (in XOR edge) AND NOT (state = BYTE#1) THEN\n\tstate := BYTE#1;\n\tT_on := Tx;\n(* 检测到边沿并且去抖动时间已到 *)\nELSIF (state = BYTE#1) AND (Tx - t_debounce >= T_on) THEN\n\tstate := BYTE#2;\n\t(* 根据r_edge反应上升或下降沿 *)\n\tIF r_edge XOR in THEN Q := NOT Q; END_IF;\n(* 等待T_reconfig并调整r_edge *)\nELSIF state = BYTE#2 AND Tx - t_reconfig >= T_on THEN\n\tr_edge := in;\nEND_IF;\nIF Q AND T_on_max > t#0ms AND Tx >= T_on + T_on_max THEN\n\tQ := FALSE;\nEND_IF;\nedge := in;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "T_DEBOUNCE",
          "type": "TIME",
          "description": "输入参数T_DEBOUNCE"
        },
        {
          "name": "T_RECONFIG",
          "type": "TIME",
          "description": "输入参数T_RECONFIG"
        },
        {
          "name": "T_ON_MAX",
          "type": "TIME",
          "description": "输入参数T_ON_MAX"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个时间格式的字符串解析为一个UDINT类型的值怎么用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\t_TOD : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tSTRING_TO_TOD : UDINT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\ti : INT;\n\ttmp : STRING;\n\ttmp2 : STRING;\nEND_VAR\n\nSTRING_TO_TOD := UDINT#0;\n\ti := LEN(_TOD);\n\tpos := FIND(_TOD,'#');\n\nIF pos > 0 AND i > pos THEN\n\ttmp := RIGHT(_TOD, LEN(_TOD) - pos);\n\tpos := FIND(tmp, ':');\n\tIF pos > 1 THEN\n\t\ttmp2 := LEFT(tmp, pos - 1);\n\t\ttmp := RIGHT(tmp, LEN(tmp) - pos);\n\t\tSTRING_TO_TOD := STRING_TO_UDINT(tmp2) * UDINT#3600000;\n\t\tpos := FIND(tmp, ':');\n\t\tIF pos > 1 THEN\n\t\t\ttmp2 := LEFT(tmp, pos - 1);\n\t\t\ttmp := RIGHT(tmp, LEN(tmp) - pos);\n\t\t\tSTRING_TO_TOD := STRING_TO_TOD + STRING_TO_UDINT(tmp2) * UDINT#60000;\n\t\t\tSTRING_TO_TOD := STRING_TO_TOD + STRING_TO_UDINT(tmp) * UDINT#1000;\n\t\tEND_IF;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "_TOD",
          "type": "STRING",
          "description": "输入参数_TOD"
        }
      ],
      "outputs": [
        {
          "name": "STRING_TO_TOD",
          "type": "UDINT",
          "description": "输出参数STRING_TO_TOD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查给定的坐标对是否在有效的范围内的ST代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tX1 : INT;\n\tY1 : INT;\n\tX2 : INT;\n\tY2 : INT;\nEND_VAR\n\n(* 检查最小值和最大值 *)\nTN_SC_XY2_ERROR := Y1 < 0 OR X1 < 0 OR Y2 < 0 OR X2 < 0 OR Y1 > 23 OR X1 > 79 OR Y2 > 23 OR X2 > 79;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X1",
          "type": "INT",
          "description": "输入参数X1"
        },
        {
          "name": "Y1",
          "type": "INT",
          "description": "输入参数Y1"
        },
        {
          "name": "X2",
          "type": "INT",
          "description": "输入参数X2"
        },
        {
          "name": "Y2",
          "type": "INT",
          "description": "输入参数Y2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言将千米每小时转换为米每秒",
      "input": "",
      "output": "VAR_INPUT\nKMH : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: KMH_TO_MS\nIEC_LANGUAGE: ST\n*)\nKMH_TO_MS := kmh * 0.2777777777777;",
      "description": "KMH_TO_MS功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "KMH",
          "type": "REAL",
          "description": "输入参数KMH"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "写一个ST语言程序检查字符串是否没有任何前缀与目标字符串匹配",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nCMP : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_NCC : BOOL;\nEND_VAR\n\nVAR\nL : INT;\npos : INT;\ntemp : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_NCC\nIEC_LANGUAGE: ST\n*)\nL := LEN(str);\nFOR pos := 1 TO L DO\ntemp := MID(str,1,pos);\nIF FIND(CMP,temp) > 0 THEN\nIS_NCC := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_NCC := TRUE;",
      "description": "IS_NCC检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "CMP",
          "type": "STRING",
          "description": "输入参数CMP"
        }
      ],
      "outputs": [
        {
          "name": "IS_NCC",
          "type": "BOOL",
          "description": "输出参数IS_NCC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "用ST语言根据温度计算水的密度",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tSAT : BOOL;\nEND_VAR\n\nVAR\n\tT2 : REAL;\n\tT4 : REAL;\nEND_VAR\n\nT2 := T * T;\nT4 := T2 * T2;\nWATER_DENSITY := (999.83952 + 16.952577*T + -7.9905127E-3*T2 + -4.6241757E-5*T2*T + 1.0584601E-7*T4 + -2.8103006E-10*T4*T) / (1.0 + 0.0168872*T);\nIF SAT THEN WATER_DENSITY := WATER_DENSITY - 0.004612 + 0.000106 * T; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "SAT",
          "type": "BOOL",
          "description": "输入参数SAT"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言计算正态分布函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tU : REAL;\n\tSI : REAL;\nEND_VAR\n\nVAR\n\ttemp : REAL;\n\tsi_inv : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GAUSS\nIEC_LANGUAGE: ST\n*)\ntemp := X - U;\nsi_inv := 1.0 / si;\nGAUSS := EXP(Temp * Temp * si_inv * SI_inv * - 0.5) * 0.39894228 * si_inv;",
      "description": "正态分布概率密度函数计算，支持自定义均值和标准差。用于统计分析、质量控制、信号处理等应用。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "U",
          "type": "REAL",
          "description": "输入参数U"
        },
        {
          "name": "SI",
          "type": "REAL",
          "description": "输入参数SI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数学函数和统计计算",
      "tags": [
        "正态分布",
        "概率密度",
        "统计分析",
        "质量控制",
        "信号处理"
      ]
    },
    {
      "instruction": "如何根据不同的条件计算PID控制器的参数",
      "input": "",
      "output": "VAR_INPUT\n\tKT : REAL;\n\tTT : REAL;\n\tPI : BOOL;\n\tPID : BOOL;\n\tP_K : REAL := 0.5;\n\tPI_K : REAL := 0.45;\n\tPI_TN : REAL := 0.83;\n\tPID_K : REAL := 0.6;\n\tPID_TN : REAL := 0.5;\n\tPID_TV : REAL := 0.125;\nEND_VAR\n\nVAR_OUTPUT\n\tKP : REAL;\n\tTN : REAL;\n\tTV : REAL;\n\tKI : REAL;\n\tKD : REAL;\nEND_VAR\n\nIF pi AND PID THEN\n\tKP := 0.0;\n\tTN := 0.0;\n\tTV := 0.0;\nELSIF PID THEN\n\tKP := PID_K * Kt;\n\tTN := PID_TN * Tt;\n\tTV := PID_TV * Tt;\nELSIF PI THEN\n\tKP := PI_K * Kt;\n\tTN := PI_TN * Tt;\nELSE\n\tKP := P_K * Kt;\nEND_IF;\n\n(* KI and KD are calculated *)\nIF tn > 0.0 THEN KI := KP / TN; ELSE KI := 0.0; END_IF;\nKD := KP * TV;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "KT",
          "type": "REAL",
          "description": "输入参数KT"
        },
        {
          "name": "TT",
          "type": "REAL",
          "description": "输入参数TT"
        },
        {
          "name": "PI",
          "type": "BOOL",
          "description": "输入参数PI"
        },
        {
          "name": "PID",
          "type": "BOOL",
          "description": "输入参数PID"
        },
        {
          "name": "P_K",
          "type": "REAL",
          "description": "输入参数P_K"
        },
        {
          "name": "PI_K",
          "type": "REAL",
          "description": "输入参数PI_K"
        },
        {
          "name": "PI_TN",
          "type": "REAL",
          "description": "输入参数PI_TN"
        },
        {
          "name": "PID_K",
          "type": "REAL",
          "description": "输入参数PID_K"
        },
        {
          "name": "PID_TN",
          "type": "REAL",
          "description": "输入参数PID_TN"
        },
        {
          "name": "PID_TV",
          "type": "REAL",
          "description": "输入参数PID_TV"
        }
      ],
      "outputs": [
        {
          "name": "KP",
          "type": "REAL",
          "description": "输出参数KP"
        },
        {
          "name": "TN",
          "type": "REAL",
          "description": "输出参数TN"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "输出参数TV"
        },
        {
          "name": "KI",
          "type": "REAL",
          "description": "输出参数KI"
        },
        {
          "name": "KD",
          "type": "REAL",
          "description": "输出参数KD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算幂函数怎么在plc上编程",
      "input": "",
      "output": "VAR_INPUT\n\tA : REAL;\n\tX : REAL;\n\tN : REAL;\nEND_VAR\n\nf_power := A * EXPT(X, N);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "REAL",
          "description": "输入值A"
        },
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "REAL",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何对模拟输入信号进行偏移和缩放校准",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tCO : BOOL;\n\tCS : BOOL;\n\tY_OFFSET : REAL;\n\tY_SCALE : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR RETAIN\n\toffset : REAL;\n\tScale : REAL := 1.0;\nEND_VAR\n\n(* 检查标定 *)\nIF CO THEN\n\tOFFSET := Y_OFFSET - X;\nELSIF CS THEN\n\tSCALE := Y_SCALE / (X + OFFSET);\nEND_IF;\n(* 计算输出 *)\nY := (X + OFFSET) * SCALE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "CO",
          "type": "BOOL",
          "description": "输入参数CO"
        },
        {
          "name": "CS",
          "type": "BOOL",
          "description": "输入参数CS"
        },
        {
          "name": "Y_OFFSET",
          "type": "REAL",
          "description": "输入参数Y_OFFSET"
        },
        {
          "name": "Y_SCALE",
          "type": "REAL",
          "description": "输入参数Y_SCALE"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个采样保持模块，不仅定时采样输入信号，还对采样数据进行平均值计算。给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tPT : TIME;\n\tN : INT := INT#16;\n\tDISC : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tTRIG : BOOL;\n\tAVG : REAL;\n\tHIGH : REAL;\n\tLOW : REAL;\nEND_VAR\n\nVAR\n\tM : INT;\n\tbuf : oscat_arr_0_15;\n\tbuf2 : oscat_arr_0_15;\n\tlast : TIME;\n\ti : INT;\n\tI2 : INT;\n\tstart : INT;\n\ttemp : REAL;\n\tstop : INT;\n\ttx : TIME;\n\td2 : INT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\nd2 := WORD_TO_INT(SHR(INT_TO_WORD(disc),1));\n\nIF tx - last >= PT THEN\n\tlast := tx;\n\ttrig := TRUE;\n\n\t(* 限制 M 的值在 0..16 之间 *)\n\tM := LIMIT(1, N, 16);\n\n\t(* 检测到边缘，开始采样 *)\n\ti := M-1;\n\tWHILE (i >= 1) DO\n\t\ti2 := i - 1;\n\t\tbuf2[i] := buf2[i2];\n\t\ti := i - 1;\n\tEND_WHILE;\n\n\tbuf2[0] := in;\n\tout := in;\n\tbuf := buf2;\n\n\t(* 对数组进行排序，最小值放在位置 0 *)\n\tFOR start := 0 TO M - 2 DO\n\t\tFOR i := start + 1 TO M - 1 DO\n\t\t\tIF buf[start] > buf[i] THEN\n\t\t\t\ttemp := buf[start];\n\t\t\t\tbuf[start] := buf[i];\n\t\t\t\tbuf[i] := temp;\n\t\t\tEND_IF;\n\t\tEND_FOR;\n\tEND_FOR;\n\n\t(* 在此进行与采样相关的计算 *)\n\tstop := M - 1 - d2;\n\tstart := d2;\n\tIF NOT even(INT_TO_DINT(disc)) THEN start := start + 1; END_IF;\n\tavg := 0.0;\n\tFOR i := start TO stop DO\n\t\tavg := avg + buf[i];\n\tEND_FOR;\n\tavg := avg / INT_TO_REAL(stop - start + 1);\n\tlow := buf[start];\n\thigh := buf[stop];\nELSE\n\ttrig := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "DISC",
          "type": "INT",
          "description": "输入参数DISC"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        },
        {
          "name": "AVG",
          "type": "REAL",
          "description": "输出参数AVG"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "输出参数HIGH"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "输出参数LOW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将不同格式的表示月份的字符转换为统一的数字表示，用st语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tMTH : oscat_STRING20;\n\tLANG : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFSTRING_TO_MONTH : INT;\nEND_VAR\n\nVAR\n\tlx : INT;\n\tSETUP_MONTHS : SETUP_MONTHS;\n\tMONTHS : oscat_MONTHS;\n\tSETUP_MONTHS3 : SETUP_MONTHS3;\n\tMONTHS3 : oscat_MONTHS3;\n\tSETUP_LANGUAGE : SETUP_LANGUAGE;\n\tLANGUAGE : oscat_LANGUAGE;\n\tLOWERCASE : LOWERCASE;\n\tCAPITALIZE : CAPITALIZE;\n\tIS_NUM : IS_NUM;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FSTRING_TO_MONTH\nIEC_LANGUAGE: ST\n*)\nSETUP_MONTHS(MONTHS:=MONTHS);\nMONTHS:=SETUP_MONTHS.MONTHS;\nSETUP_MONTHS3(MONTHS3:=MONTHS3);\nMONTHS3:=SETUP_MONTHS3.MONTHS3;\nSETUP_LANGUAGE(LANGUAGE:=LANGUAGE);\nLANGUAGE:=SETUP_LANGUAGE.LANGUAGE;\n\nIF LANG = 0 THEN lx := LANGUAGE.DEFAULT; ELSE lx := MIN(LANG, LANGUAGE.LMAX); END_IF;\nLOWERCASE(str:=MTH);\nCAPITALIZE(str:=LOWERCASE.lowercase);\nMTH:=CAPITALIZE.CAPITALIZE;\n\nFOR FSTRING_TO_MONTH := 1 TO 12 DO\n\tIF EQ_STRING(MTH,MONTHS[lx][FSTRING_TO_MONTH]) THEN RETURN; END_IF;\n\tIF EQ_STRING(MTH,MONTHS3[lx][FSTRING_TO_MONTH]) THEN RETURN; END_IF;\nEND_FOR;\n\n(* 由于没有匹配的名称，尝试将其解码为整数 *)\nIS_NUM(str:=MTH);\nIF IS_NUM.IS_NUM THEN\n\tFSTRING_TO_MONTH := STRING_TO_INT(MTH);\nELSE\n\tFSTRING_TO_MONTH := 0;\nEND_IF;",
      "description": "月份名称到数字转换函数，支持多语言和长短格式。能够识别英文月份全称、缩写，并支持数字输入作为备选。适用于国际化应用、日期解析、报表生成等需要处理月份文本表示的场景。",
      "inputs": [
        {
          "name": "MTH",
          "type": "oscat_STRING20",
          "description": "月份名称字符串"
        },
        {
          "name": "LANG",
          "type": "INT",
          "description": "语言选择(0=默认)"
        }
      ],
      "outputs": [
        {
          "name": "FSTRING_TO_MONTH",
          "type": "INT",
          "description": "月份数字(1-12,0=无效)"
        }
      ],
      "library_dependency": "OSCAT库: 月份和语言设置函数, LOWERCASE, CAPITALIZE, IS_NUM",
      "iec_standard": "IEC 61131-3 字符串匹配和转换，国际化处理",
      "tags": [
        "月份转换",
        "多语言",
        "日期解析",
        "国际化",
        "字符串匹配",
        "报表生成"
      ]
    },
    {
      "instruction": "实现一个斜坡函数块，用于根据输入信号进行线性上升或下降，给我st代码",
      "input": "",
      "output": "VAR_INPUT\n\tRMP :\tBOOL := TRUE;\n\tIN :\tREAL;\n\tKR :\tREAL;\n\tKF :\tREAL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT :\tREAL;\n\tBUSY :\tBOOL;\n\tUD :\tBOOL;\nEND_VAR\n\nVAR\n\ttx :\tTIME;\n\tlast :\tTIME;\n\tinit :\tBOOL;\n\tT_PLC_MS :\tT_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_RMP\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_MS();\n\ttx:= UDINT_TO_TIME(T_PLC_MS.T_PLC_MS) - last;\n\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\ttx := t#0s;\n\tout := in;\nEND_IF;\nIF NOT rmp THEN\n\tout := in;\n\tbusy := FALSE;\nELSIF out > in THEN\n\t(* 降低斜坡 *)\n\tout := out - TIME_TO_REAL(tx) * 0.001 * KF;\n\tout := MAX(in, out);\nELSIF out < in THEN\n\t(* 提高斜坡 *)\n\tout := out + TIME_TO_REAL(tx) * 0.001 * KR;\n\tout := MIN(in, out);\nEND_IF;\n\n(* 设置忙碌标志和方向标志 *)\nIF out < in THEN\n\tbusy := TRUE;\n\tud := TRUE;\nELSIF out > in THEN\n\tbusy := TRUE;\n\tud := FALSE;\nELSE\n\tbusy := FALSE;\nEND_IF;\nlast := last + tx;",
      "description": "斜坡函数块，实现输入信号的线性上升或下降控制，支持可配置的上升和下降速率。适用于电机控制、温度控制等需要平滑过渡的应用场景。",
      "inputs": [
        {
          "name": "RMP",
          "type": "BOOL",
          "description": "斜坡使能"
        },
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "KR",
          "type": "REAL",
          "description": "上升速率系数"
        },
        {
          "name": "KF",
          "type": "REAL",
          "description": "下降速率系数"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "BUSY",
          "type": "BOOL",
          "description": "忙碌状态"
        },
        {
          "name": "UD",
          "type": "BOOL",
          "description": "上升/下降方向指示"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：功能块和顺序功能图",
      "tags": [
        "斜坡控制",
        "线性控制",
        "信号平滑",
        "电机控制",
        "温度控制"
      ]
    },
    {
      "instruction": "如何用ST语言计算给定数组的趋势",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_TREND : REAL;\nEND_VAR\n\nVAR\n\td : INT;\n\ti : INT;\n\tstop : INT;\n\tstop2 : INT;\n\tx : REAL;\nEND_VAR\n\nx := 0.0;\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\nstop2 := WORD_TO_INT(SHR(INT_TO_WORD(stop),1));\nIF even(INT_TO_DINT(stop)) THEN d := 0; ELSE d := 1; END_IF;\n\nFOR i := 1 TO stop2+d DO\n\tx := x - pt[i];\nEND_FOR;\nFOR i := stop2+1 TO stop DO\n\tx := x + pt[i];\nEND_FOR;\narray_trend := x / INT_TO_REAL(stop2+d);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_TREND",
          "type": "REAL",
          "description": "输出参数ARRAY_TREND"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算二维坐标系中点（X, Y）的反正切值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tY : REAL;\nEND_VAR\n\nIF X > 0.0 THEN\n\tATAN2 := ATAN(Y/X);\nELSIF X < 0.0 THEN\n\tIF Y >= 0.0 THEN\n\t\tATAN2 := ATAN(Y/X) + 3.14159265358979323846264338327950288;\n\tELSE\n\t\tATAN2 := ATAN(Y/X) - 3.14159265358979323846264338327950288;\n\tEND_IF;\nELSIF Y > 0.0 THEN\n\tATAN2 := 1.5707963267948965580;\nELSIF Y < 0.0 THEN\n\tATAN2 := -1.5707963267948965580;\nELSE\n\tATAN2 := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "REAL",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "控制第三方驱动进行联动的机械臂运动代码怎么写",
      "input": "",
      "output": "MODULE MainModule\n\tPERS bool OnceControl:=FALSE;\n\tPROC main()\n\t\t! 中间变量及初始化\n\t\tVAR bool b_timeout{2};\n\t\tFOR i FROM 1 TO 2 DO\n\t\t\tb_timeout{i}:=FALSE;\n\t\tENDFOR\n\t\t! 复位\n\t\tSetDO unit1_reset,1;\n\t\t! 后台交互上电只执行一次\n\t\tOnceControl:=TRUE;\n\t\tWHILE TRUE DO\n\t\t\tIF OnceControl THEN\n\t\t\t\t! 设置初始条件\n\t\t\t\tSetGO v90_STW1,1078;\n\t\t\t\t! 设置速度\n\t\t\t\tSetGO vel1_ref,3000;\n\t\t\t\t! 设置override\n\t\t\t\tSetGO v90_STW5,30000;\n\t\t\t\t! 设置acceleration\n\t\t\t\tSetGO v90_STW10,3000;\n\t\t\t\t! 设置deceleration\n\t\t\t\tSetGO v90_STW11,3000;\n\t\t\t\t! pos1_fdb_valid为1，则会将pos1_fdb值复制到pos1_ref\n\t\t\t\tSetDO pos1_fdb_valid,1;\n\t\t\t\t! 设置unit1_continuemode_enable为1\n\t\t\t\tSetDO unit1_continuemode_enable,1;\n\t\t\t\t! 设置unit1_MDI_abspos为1\n\t\t\t\tSetDO unit1_MDI_abspos,1;\n\t\t\t\t! 未满足条件复位跳转标识\n\t\t\t\tUnitOn_1:\n\t\t\t\t\t! 松开抱闸\n\t\t\t\t\tSetDO unit1_on,1;\n\t\t\t\t\tSetDO unit1_enable,1;\n\t\t\t\t\t! 等待反馈，超时则复位重新置位\n\t\t\t\t\tWaitUntil unit1_ready=1 AND unit1_enabled=1\\MaxTime:=0.020\\TimeFlag:=b_timeout{1};\n\t\t\t\t\tIF b_timeout{1}=TRUE THEN\n\t\t\t\t\t\tSetDO unit1_reset,1;\n\t\t\t\t\t\tSetDO unit1_on,0;\n\t\t\t\t\t\tSetDO unit1_enable,0;\n\t\t\t\t\t\tGOTO UnitOn_1;\n\t\t\t\t\tENDIF\n\t\t\t\t\t! 设置初始条件\n\t\t\t\t\tSetDO unit1_task_enable,0;\n\t\t\t\t\t! 后台交互上电只执行一次\n\t\t\t\t\tOnceControl:=FALSE;\n\t\t\t\t\tSetDO unit1_reset,0;\n\t\t\t\tENDIF\n\t\tENDWHILE\n\tENDPROC\nENDMODULE",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言编写一个程序，将输入的不同长度单位转换为米",
      "input": "",
      "output": "VAR_INPUT\nM : REAL;\nP : REAL;\nIN : REAL;\nFT : REAL;\nYD : REAL;\nMILE : REAL;\nSM : REAL;\nFM : REAL;\nEND_VAR\n\nVAR_OUTPUT\nYM : REAL;\nYP : REAL;\nYIN : REAL;\nYFT : REAL;\nYYD : REAL;\nYMILE : REAL;\nYSM : REAL;\nYFM : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LENGTH\nIEC_LANGUAGE: ST\n*)\nYm := m\n\t+ p * 0.000376065\n\t+ in * 0.0254\n\t+ ft * 0.3048\n\t+ yd * 0.9144\n\t+ mile * 1609.344\n\t+ sm * 1852.0\n\t+ fm * 1.829;\nYp := Ym * 2659.11478068951;\nYin := Ym * 39.37007874016;\nYft := Ym * 3.28083989501;\nYyd := Ym * 1.09361329834;\nYmile := Ym * 0.00062137119;\nYsm := Ym * 0.00053995680;\nYfm := Ym * 0.54674685621;",
      "description": "LENGTH功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "M",
          "type": "REAL",
          "description": "输入参数M"
        },
        {
          "name": "P",
          "type": "REAL",
          "description": "输入参数P"
        },
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "FT",
          "type": "REAL",
          "description": "输入参数FT"
        },
        {
          "name": "YD",
          "type": "REAL",
          "description": "输入参数YD"
        },
        {
          "name": "MILE",
          "type": "REAL",
          "description": "输入参数MILE"
        },
        {
          "name": "SM",
          "type": "REAL",
          "description": "输入参数SM"
        },
        {
          "name": "FM",
          "type": "REAL",
          "description": "输入参数FM"
        }
      ],
      "outputs": [
        {
          "name": "YM",
          "type": "REAL",
          "description": "输出参数YM"
        },
        {
          "name": "YP",
          "type": "REAL",
          "description": "输出参数YP"
        },
        {
          "name": "YIN",
          "type": "REAL",
          "description": "输出参数YIN"
        },
        {
          "name": "YFT",
          "type": "REAL",
          "description": "输出参数YFT"
        },
        {
          "name": "YYD",
          "type": "REAL",
          "description": "输出参数YYD"
        },
        {
          "name": "YMILE",
          "type": "REAL",
          "description": "输出参数YMILE"
        },
        {
          "name": "YSM",
          "type": "REAL",
          "description": "输出参数YSM"
        },
        {
          "name": "YFM",
          "type": "REAL",
          "description": "输出参数YFM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码根据开关状态和运行时间，控制灯的亮度和状态",
      "input": "",
      "output": "VAR_INPUT\n\tSWITCH : BOOL;\n\tDIMM : BYTE := BYTE#255;\n\tRST : BOOL;\n\tT_NO_DIMM : UINT := UINT#100;\n\tT_MAINTENANCE : UINT := UINT#15000;\nEND_VAR\n\nVAR_OUTPUT\n\tLAMP : BYTE;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tONTIME : UDINT;\n\tCYCLES : UDINT;\nEND_VAR\n\nVAR\n\truntime : ONTIME;\nEND_VAR\n\nruntime(in := switch, SECONDS := ONTIME , CYCLES := CYCLES);\nCYCLES := runtime.CYCLES;\nONTIME := runtime.SECONDS;\n\nIF RST THEN\n\tONTIME := UDINT#0;\n\tCYCLES := UDINT#0;\nEND_IF;\nIF SWITCH THEN\n\tIF ontime < UINT_TO_UDINT(T_NO_DIMM) * UDINT#3600 THEN\n\t\tLAMP := BYTE#255;\n\t\tSTATUS := BYTE#111;\n\tELSE\n\t\tLAMP := DIMM;\n\t\tSTATUS := BYTE#112;\n\tEND_IF;\nELSE\n\tLAMP := BYTE#0;\n\tSTATUS := BYTE#110;\nEND_IF;\n\nIF ontime >= UINT_TO_UDINT(T_maintenance) * UDINT#3600 AND T_Maintenance > UINT#0 THEN\n\tSTATUS := BYTE#120;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SWITCH",
          "type": "BOOL",
          "description": "输入参数SWITCH"
        },
        {
          "name": "DIMM",
          "type": "BYTE",
          "description": "输入参数DIMM"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "T_NO_DIMM",
          "type": "UINT",
          "description": "输入参数T_NO_DIMM"
        },
        {
          "name": "T_MAINTENANCE",
          "type": "UINT",
          "description": "输入参数T_MAINTENANCE"
        }
      ],
      "outputs": [
        {
          "name": "LAMP",
          "type": "BYTE",
          "description": "输出参数LAMP"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过ST语言将输入的天数转换为对应的时间值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\nday_to_time := DINT_TO_TIME(UDINT_TO_DINT(_REAL_TO_UDINT(IN * REAL#86400000.00)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么以秒为单位计算PLC系统的时间差",
      "input": "",
      "output": "VAR_OUTPUT\n\tTC : REAL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ttx : UDINT;\n\tlast : UDINT;\n\tT_PLC_US : T_PLC_US;\nEND_VAR\n\n(* 读取系统时间并准备输入数据 *)\nT_PLC_US();\ntx := T_PLC_US.T_PLC_US;\n\nIF NOT init THEN\n\tinit := TRUE;\n\tTC := 0.0;\nELSE\n\ttc := UDINT_TO_REAL(tx - last) * 1.0E-6;\nEND_IF;\nlast := tx;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "TC",
          "type": "REAL",
          "description": "输出参数TC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "现需要一个4位移位寄存器，支持上升沿触发，并且可以根据方向输入进行向上或向下移位，给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tD0 : BOOL;\n\tD3 : BOOL;\n\tCLK : BOOL;\n\tDN : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\ttrig : R_TRIG;\nEND_VAR\n\n(* trig.Q 信号表示 CLK 的上升沿 *)\ntrig(clk := clk);\n\nIF set OR rst THEN\n\tQ0 := NOT RST;\n\tQ1 := Q0;\n\tQ2 := Q0;\n\tQ3 := Q0;\nELSIF trig.Q THEN\n\tIF dn THEN\n\t\tQ0 := Q1;\n\t\tQ1 := Q2;\n\t\tQ2 := Q3;\n\t\tQ3 := D3;\n\tELSE\n\t\tQ3 := Q2;\n\t\tQ2 := Q1;\n\t\tQ1 := Q0;\n\t\tQ0 := D0;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D3",
          "type": "BOOL",
          "description": "输入参数D3"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据设备代码和按键代码，将接收到的命令解码为八个输出信号",
      "input": "",
      "output": "VAR_INPUT\n\tCMD : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tDEV : STRING;\n\tKEY : STRING;\nEND_VAR\n\nVAR_INPUT\n\tDEV_CODE : STRING;\n\tKEY_CODE_0 : STRING;\n\tKEY_CODE_1 : STRING;\n\tKEY_CODE_2 : STRING;\n\tKEY_CODE_3 : STRING;\n\tKEY_CODE_4 : STRING;\n\tKEY_CODE_5 : STRING;\n\tKEY_CODE_6 : STRING;\n\tKEY_CODE_7 : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQ4 : BOOL;\n\tQ5 : BOOL;\n\tQ6 : BOOL;\n\tQ7 : BOOL;\nEND_VAR\n\nVAR\n\tdecode : BOOL;\nEND_VAR\n\ndecode := cmd AND EQ_STRING(dev_code,dev);\n\nQ0 := EQ_STRING(key,key_code_0) AND decode;\nQ1 := EQ_STRING(key,key_code_1) AND decode;\nQ2 := EQ_STRING(key,key_code_2) AND decode;\nQ3 := EQ_STRING(key,key_code_3) AND decode;\nQ4 := EQ_STRING(key,key_code_4) AND decode;\nQ5 := EQ_STRING(key,key_code_5) AND decode;\nQ6 := EQ_STRING(key,key_code_6) AND decode;\nQ7 := EQ_STRING(key,key_code_7) AND decode;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CMD",
          "type": "BOOL",
          "description": "输入参数CMD"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "Q7",
          "type": "BOOL",
          "description": "输出参数Q7"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对多达8个字节输入进行缩放和线性变换的plc程序怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BYTE;\n\tIN2 : BYTE;\n\tIN3 : BYTE;\n\tIN4 : BYTE;\n\tIN5 : BYTE;\n\tIN6 : BYTE;\n\tIN7 : BYTE;\n\tIN8 : BYTE;\n\tK : REAL;\n\tO : REAL;\n\tIN1_MIN : REAL;(* Standard = 0 *)\n\tIN1_MAX : REAL;(* Standard = 1000 *)\n\tIN2_MIN : REAL;(* Standard = 0 *)\n\tIN2_MAX : REAL;(* Standard = 1000 *)\n\tIN3_MIN : REAL;(* Standard = 0 *)\n\tIN3_MAX : REAL;(* Standard = 1000 *)\n\tIN4_MIN : REAL;(* Standard = 0 *)\n\tIN4_MAX : REAL;(* Standard = 1000 *)\n\tIN5_MIN : REAL;(* Standard = 0 *)\n\tIN5_MAX : REAL;(* Standard = 1000 *)\n\tIN6_MIN : REAL;(* Standard = 0 *)\n\tIN6_MAX : REAL;(* Standard = 1000 *)\n\tIN7_MIN : REAL;(* Standard = 0 *)\n\tIN7_MAX : REAL;(* Standard = 1000 *)\n\tIN8_MIN : REAL;(* Standard = 0 *)\n\tIN8_MAX : REAL;(* Standard = 1000 *)\nEND_VAR\n\nSCALE_B8 := (((in1_max - in1_min) * _BYTE_TO_REAL(in1) + (in2_max - in2_min) * _BYTE_TO_REAL(in2) + (in3_max - in3_min) * _BYTE_TO_REAL(in3) + (in4_max - in4_min) * _BYTE_TO_REAL(in4) +\n\t\t\t\t\t\t(in5_max - in5_min) * _BYTE_TO_REAL(in5) + (in6_max - in6_min) * _BYTE_TO_REAL(in6) + (in7_max - in7_min) * _BYTE_TO_REAL(in7) + (in8_max - in8_min) * _BYTE_TO_REAL(in8)) * 0.003921569\n\t\t\t\t\t\t+ in1_min + in2_min + in3_min + in4_min + in5_min + in6_min + in7_min + in8_min) * K + O;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BYTE",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BYTE",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BYTE",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "BYTE",
          "description": "输入参数IN4"
        },
        {
          "name": "IN5",
          "type": "BYTE",
          "description": "输入参数IN5"
        },
        {
          "name": "IN6",
          "type": "BYTE",
          "description": "输入参数IN6"
        },
        {
          "name": "IN7",
          "type": "BYTE",
          "description": "输入参数IN7"
        },
        {
          "name": "IN8",
          "type": "BYTE",
          "description": "输入参数IN8"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "O",
          "type": "REAL",
          "description": "输入参数O"
        },
        {
          "name": "IN1_MIN",
          "type": "REAL",
          "description": "输入参数IN1_MIN"
        },
        {
          "name": "IN1_MAX",
          "type": "REAL",
          "description": "输入参数IN1_MAX"
        },
        {
          "name": "IN2_MIN",
          "type": "REAL",
          "description": "输入参数IN2_MIN"
        },
        {
          "name": "IN2_MAX",
          "type": "REAL",
          "description": "输入参数IN2_MAX"
        },
        {
          "name": "IN3_MIN",
          "type": "REAL",
          "description": "输入参数IN3_MIN"
        },
        {
          "name": "IN3_MAX",
          "type": "REAL",
          "description": "输入参数IN3_MAX"
        },
        {
          "name": "IN4_MIN",
          "type": "REAL",
          "description": "输入参数IN4_MIN"
        },
        {
          "name": "IN4_MAX",
          "type": "REAL",
          "description": "输入参数IN4_MAX"
        },
        {
          "name": "IN5_MIN",
          "type": "REAL",
          "description": "输入参数IN5_MIN"
        },
        {
          "name": "IN5_MAX",
          "type": "REAL",
          "description": "输入参数IN5_MAX"
        },
        {
          "name": "IN6_MIN",
          "type": "REAL",
          "description": "输入参数IN6_MIN"
        },
        {
          "name": "IN6_MAX",
          "type": "REAL",
          "description": "输入参数IN6_MAX"
        },
        {
          "name": "IN7_MIN",
          "type": "REAL",
          "description": "输入参数IN7_MIN"
        },
        {
          "name": "IN7_MAX",
          "type": "REAL",
          "description": "输入参数IN7_MAX"
        },
        {
          "name": "IN8_MIN",
          "type": "REAL",
          "description": "输入参数IN8_MIN"
        },
        {
          "name": "IN8_MAX",
          "type": "REAL",
          "description": "输入参数IN8_MAX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "单个2D相机自动标定机器人TCP的ST代码是什么",
      "input": "",
      "output": "PERS tooldata MyTool:=[TRUE,[[31.792631019,0,229.638935148],[0.945518576,0,0.325568154,0]],[1,[0,0,1],[1,0,0,0],0,0,0]];! myTool为理论值\nPERS tooldata tNor:=[TRUE,[[31.7847,-1.42108E-14,229.651],[0.945519,0,0.325568,0]],[1,[0,0,1],[1,0,0,0],0,0,0]];\nPROC rCalib()\n\t\ttNor:=mytool;\n\t\ttNor.tframe.trans:=[30,2,200]; ! 给定一个参考的不正确的TCP\n\t\t! 已经完成了12点标定，机器人走回5号点\n\t\tMoveL p,v100,fine,tool0;\n\t\tCalibCal p,tNor;\nENDPROC\n\nPROC CalibCal(robtarget pRef0,inout tooldata t)\n\t\tVAR point realPoint;\n\t\tVAR pose pTool0;\n\t\tVAR pose poseNor;\n\t\tVAR pose poseResult;\n\t\tVAR robtarget pCurr;\n\t\tpTool0:=[pRef0.trans,pRef0.rot];\n\t\tposeNor:=PoseMult(pTool0,t.tframe);\n\t\t! 计算参考TCP点的绝对位姿\n\t\trealPoint :=CamGetData();\n\t\t! 拍照获取此时针尖的绝对xy位置\n\t\tposeNor.trans.x:=realPoint.x;\n\t\tposeNor.trans.y:=realPoint.y;\n\t\t! 利用相机修正参考TCP点的xy绝对位姿\n\t\tposeResult:=PoseMult(PoseInv(pTool0),poseNor);\n\t\tt.tframe.trans:=poseResult.trans;\n\t\t! 在xy平面内修正TCP\n\t\tpCurr:=CRobT(\\Tool:=t);\n\t\t! 获取基于修正后TCP的末端位姿（TCP末端在xy平面正确，xz平面不正确）\n\t\tcalib_ry:=5; ! 绕XY平面内修正后的TCP旋转5°\n\t\tCalibInZ pCurr,calib_ry,t;\nENDPROC\n\nPROC CalibInZ(robtarget p,num angle,inout tooldata t)\n\t\t! 以传入工具t（即在XY平面内修正过的）对应的点位p进行旋转和计算\n\t\tVAR robtarget ptmp;\n\t\tVAR num x1;\n\t\tVAR num x2;\n\t\tVAR num dz;\n\t\tVAR robtarget p0;\n\t\tVAR robtarget pTnor;\n\t\tVAR pose p1;\n\t\tVAR pose p2;\n\t\tVAR pose p3;\n\t\tVAR point realPoint;\n\t\trealPoint:=CamGetData();\n\t\tx1:=realPoint.x;\n\t\tp0:=CRobT(\\Tool:=tool0);\n\t\tpTnor:=CRobT(\\Tool:=t);\n\t\tptmp:=rotWobj(p,0,angle,0);\n\t\tMoveL ptmp,v100,fine,t\\WObj:=wobj0;\n\t\t! 以XY平面内修正后的TCP绕着y方向旋转5°\n\t\trealPoint:=CamGetData();\n\t\t! 获取旋转后针尖的位置\n\t\tx2:=realPoint.x;\n\t\tdz:=(x1-x2)/sin(angle);\n\t\tpTnor.trans.z:=pTnor.trans.z-dz;\n\t\t! 修正旋转前的针尖z到实际位置\n\t\tp1:=[p0.trans,p0.rot];\n\t\tp2:=[pTnor.trans,pTnor.rot];\n\t\tp3:=posemult(poseinv(p1),p2);\n\t\tt.tframe.trans:=p3.trans;\nENDPROC",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么实现一个条件判断逻辑，根据输入字节X和B的值，计算并输出BAND_B",
      "input": "",
      "output": "VAR_INPUT\n\tX : BYTE;\n\tB : BYTE;\nEND_VAR\n\nIF X < B THEN\n\tBAND_B := BYTE#0;\nELSIF X > USINT_TO_BYTE(USINT#255 - BYTE_TO_USINT(B)) THEN\n\tBAND_B := BYTE#255;\nELSE\n\tBAND_B := X;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "BYTE",
          "description": "输入参数值"
        },
        {
          "name": "B",
          "type": "BYTE",
          "description": "输入值B"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个二阶滤波器，具有可编程的时间常数T、阻尼系数D和增益因子K",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tT : TIME;\n\tD : REAL;\n\tK : REAL := 1.0;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tint1 : INTEGRATE;\n\tint2 : INTEGRATE;\n\ttn : REAL;\n\tI1 : REAL;\n\tI2 : REAL;\n\ttn2 : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PT2\nIEC_LANGUAGE: ST\n*)\n(* 启动初始化 *)\nIF NOT init OR T = T#0s THEN\n\tinit := TRUE;\n\tout := K * in;\n\tI2 := out;\nELSE\n\tTN := TIME_TO_REAL(T) / 1000.0;\n\ttn2 := TN * TN;\n\tint1(X := in * K / tn2 - I1 * 0.5 * D / TN - I2 / TN2, Y := I1);\n\tI1 := int1.Y;\n\tint2(X := I1,Y := I2);\n\tI2 := int2.Y;\n\tout := I2;\nEND_IF;",
      "description": "二阶滤波器，支持阻尼系数调节实现不同的滤波特性。通过两个积分器级联实现二阶动态响应，可配置为低通、带通或高通特性。适用于需要特定频率响应的滤波应用，如谐振抑制、带通滤波、动态补偿等。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "时间常数"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "阻尼系数"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "增益因子"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "二阶滤波输出"
        }
      ],
      "library_dependency": "OSCAT库: INTEGRATE积分器功能块",
      "iec_standard": "IEC 61131-3 二阶滤波算法，阻尼控制",
      "tags": [
        "二阶滤波",
        "阻尼系数",
        "频率响应",
        "谐振抑制",
        "带通滤波",
        "动态补偿"
      ]
    },
    {
      "instruction": "在选定的特定日期生成输出脉冲的plc代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tE : BOOL := TRUE;\n\tDTI : UDINT;\n\tSTART : UDINT;\n\tDURATION : TIME;\n\tDAY : BYTE := BYTE#2#0111_1111;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tSTOP : TIME;\nEND_VAR\n\nIF E THEN\n\tstop := TOD_TO_TIME(START) + DURATION;\n\tIF stop > T#24h THEN stop := stop - T#24h; END_IF;\n\tQ := TIMECHECK(DT_TO_TOD(DTI), START, TIME_TO_TOD(stop)) AND (SHR(BYTE#128, DAY_OF_WEEK(DT_TO_DATE(DTI))) AND DAY) > BYTE#0;\nELSE\n\tQ := FALSE; (* 当E为假时清除输出 *)\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "DTI",
          "type": "UDINT",
          "description": "输入参数DTI"
        },
        {
          "name": "START",
          "type": "UDINT",
          "description": "输入参数START"
        },
        {
          "name": "DURATION",
          "type": "TIME",
          "description": "输入参数DURATION"
        },
        {
          "name": "DAY",
          "type": "BYTE",
          "description": "输入参数DAY"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "STOP",
          "type": "TIME",
          "description": "输出参数STOP"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给我一个st语言程序，检查字符串是否仅包含小写字母",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_LOWER : BOOL;\nEND_VAR\n\nVAR\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_LOWER\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nIF NOT ISC_LOWER(INT_TO_BYTE(GET_CHAR(str,pos))) THEN\nIS_LOWER := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_LOWER := I > 0;",
      "description": "IS_LOWER检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_LOWER",
          "type": "BOOL",
          "description": "输出参数IS_LOWER"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "如何通过st语言实现一个位移合并操作",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tN : INT;\nEND_VAR\n\nSHL1 := SHR(DWORD#16#FF_FF_FF_FF, 32 - N) OR SHL(IN, N);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个字节计数器，具有独立的上升和下降输入。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tIN : BYTE;\n\tUP : BOOL;\n\tDN : BOOL;\n\tSTEP : BYTE := BYTE#1;\n\tMX : BYTE := BYTE#255;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tCNT : BYTE;\nEND_VAR\n\nVAR\n\tlast_up : BOOL;\n\tlast_dn : BOOL;\nEND_VAR\n\nIF rst THEN\n\tcnt := BYTE#0;\nELSIF set THEN\n\tcnt := INT_TO_BYTE(LIMIT(0,_BYTE_TO_INT(in),_BYTE_TO_INT(mx)));\nELSIF up AND NOT last_up THEN\n\tcnt := INT_TO_BYTE(inc(_BYTE_TO_INT(cnt),_BYTE_TO_INT(step),_BYTE_TO_INT(mx)));\nELSIF dn AND NOT last_dn THEN\n\tcnt := INT_TO_BYTE(inc(_BYTE_TO_INT(cnt),_BYTE_TO_INT(step) * -1,_BYTE_TO_INT(mx)));\nEND_IF;\nlast_up := up;\nlast_dn := dn;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        },
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "STEP",
          "type": "BYTE",
          "description": "输入参数STEP"
        },
        {
          "name": "MX",
          "type": "BYTE",
          "description": "输入参数MX"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "CNT",
          "type": "BYTE",
          "description": "计数器值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据四个输入信号和其他控制参数来控制四个输出信号怎么用st语言实现功能",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tIN0 : BOOL;\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tIN3 : BOOL;\n\tRST : BOOL;\n\tTOGGLE_MODE : BOOL;\n\tTIMEOUT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\td0 : DRIVER_1;\n\td1 : DRIVER_1;\n\td2 : DRIVER_1;\n\td3 : DRIVER_1;\nEND_VAR\n\nD0(Set:=set, in:=in0, rst:=rst, toggle_mode:=toggle_mode, timeout:=timeout);\nD1(Set:=set, in:=in1, rst:=rst, toggle_mode:=toggle_mode, timeout:=timeout);\nD2(Set:=set, in:=in2, rst:=rst, toggle_mode:=toggle_mode, timeout:=timeout);\nD3(Set:=set, in:=in3, rst:=rst, toggle_mode:=toggle_mode, timeout:=timeout);\nQ0 := D0.Q;\nQ1 := D1.Q;\nQ2 := D2.Q;\nQ3 := D3.Q;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "IN0",
          "type": "BOOL",
          "description": "输入参数IN0"
        },
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "TOGGLE_MODE",
          "type": "BOOL",
          "description": "输入参数TOGGLE_MODE"
        },
        {
          "name": "TIMEOUT",
          "type": "TIME",
          "description": "输入参数TIMEOUT"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码通过计时器和设定的周期生成周期性脉冲输出",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME := T#10ms;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tinit : BOOL := FALSE;\n\tlast : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 启动时初始化 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx - pt;\nEND_IF;\n\n(* 在到达下一个脉冲时生成输出脉冲 *)\nQ := tx - last >= pt;\nIF Q THEN last := tx; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将风速从米每秒转换为风级怎么用st语言编写",
      "input": "",
      "output": "VAR_INPUT\n\tMS : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MS_TO_BFT\nIEC_LANGUAGE: ST\n*)\nMS_TO_BFT := REAL_TO_INT(EXPT(MS * 1.196172, 0.666667));",
      "description": "MS_TO_BFT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MS",
          "type": "REAL",
          "description": "输入参数MS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算热敏电阻公式的代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tRES : REAL;\n\tRN : REAL;\n\tB : REAL;\nEND_VAR\n\nIF res > 0.0 THEN\n\tTEMP_NTC := B * 298.15 / (B + LN(RES / RN) * 298.15) -273.15;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RES",
          "type": "REAL",
          "description": "输入参数RES"
        },
        {
          "name": "RN",
          "type": "REAL",
          "description": "输入参数RN"
        },
        {
          "name": "B",
          "type": "REAL",
          "description": "输入值B"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将常数X加到数组中的每个元素上",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\n\tX : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\t_ARRAY_ADD : BOOL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nFOR i := 1 TO stop DO\n\tpt[i] := pt[i] + X;\nEND_FOR;\n_ARRAY_ADD := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "_ARRAY_ADD",
          "type": "BOOL",
          "description": "输出参数_ARRAY_ADD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言计算给定年份的12月31日的时间戳",
      "input": "",
      "output": "VAR_INPUT\n\tY : INT;\nEND_VAR\n\nYEAR_END := DWORD_TO_UDINT(SHR(UDINT_TO_DWORD(INT_TO_UDINT(y) * UDINT#1461 - UDINT#2876712), 2)) * UDINT#86400;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Y",
          "type": "INT",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过ST语言将一个位输入解码为四个输出中的一个",
      "input": "",
      "output": "VAR_INPUT\n\tD : BOOL;\n\tA0 : BOOL;\n\tA1 : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nQ0 := D AND NOT A0 AND NOT A1;\nQ1 := D AND A0 AND NOT A1;\nQ2 := D AND NOT A0 AND A1;\nQ3 := D AND A0 AND A1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "A0",
          "type": "BOOL",
          "description": "输入参数A0"
        },
        {
          "name": "A1",
          "type": "BOOL",
          "description": "输入参数A1"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "plc如何通过HTTP协议与服务器进行交互，读取或写入变量值",
      "input": "",
      "output": "VAR_IN_OUT\n\tIP_C : oscat_IP_C; (* IP_Control 管理结构 *)\n\tS_BUF : oscat_NETWORK_BUFFER;\n\tR_BUF : oscat_NETWORK_BUFFER;\n\tVALUE : STRING;\n\tVAR_NAME : oscat_STRING40;\nEND_VAR\n\nVAR_INPUT\n\tMODE : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tERROR : DWORD;\nEND_VAR\n\nVAR\n\tSTATE : INT;\n\tst_tmp : oscat_STRING250;\n\tSTRING_TO_URL : STRING_TO_URL;\n\tURL_DATA : oscat_url;\n\tHTTP_GET : HTTP_GET;\n\tBUFFER_TO_STRING : BUFFER_TO_STRING_NW;\n\tVALUE_LEN : UINT;\n\tBODY_LEN : UINT;\n\tMODE_SAVE : BYTE;\nEND_VAR\n\nCASE state OF\n\n00:\n\tIF MODE > BYTE#0 AND MODE < BYTE#3 THEN\n\t\tMODE_SAVE := MODE; (* 保存模式 *)\n\n\t\t(* 如果名称中没有'.'，则是全局变量 *)\n\t\tIF FIND(VAR_NAME,'.') = 0 THEN\n\t\t\tst_tmp := CONCAT('%40GV.', VAR_NAME);\n\t\tELSE\n\t\t\tst_tmp := VAR_NAME;\n\t\tEND_IF;\n\n\t\tIF MODE_SAVE = BYTE#2 THEN (* 2 = 写入 *)\n\t\t\tVALUE_LEN := INT_TO_UINT(LEN(VALUE));\n\t\t\tst_tmp := CONCAT(st_tmp, '+');\n\t\t\tst_tmp := CONCAT(st_tmp, VALUE);\n\t\t\tSTRING_TO_URL.STR := CONCAT('http://x/dir/cgi-bin/writeVal.exe?', st_tmp);\n\t\tELSE\n\t\t\tSTRING_TO_URL.STR := CONCAT('http://x/dir/cgi-bin/readVal.exe?', st_tmp);\n\t\tEND_IF;\n\n\t\t(* 处理URL *)\n\t\tSTRING_TO_URL();\n\t\tURL_DATA := STRING_TO_URL.STRING_TO_URL;\n\n\t\tstate := 60;\n\tEND_IF;\n\n60:\n\tIF HTTP_GET.DONE THEN\n\t\tIF MODE_SAVE = BYTE#2 THEN (* 写入 *)\n\t\t\tBODY_LEN := HTTP_GET.BODY_STOP - HTTP_GET.BODY_START + BOOL_TO_UINT(HTTP_GET.BODY_STOP > UINT#0);\n\t\t\tERROR := BOOL_TO_DWORD(BODY_LEN <> VALUE_LEN);\n\t\tELSE (* 读取 *)\n\t\t\tIF HTTP_GET.BODY_START > UINT#0 THEN\n\t\t\t\tBUFFER_TO_STRING(SIZE := R_BUF.SIZE, START := HTTP_GET.BODY_START, STOP := HTTP_GET.BODY_STOP, PT := R_BUF.BUFFER);\n\t\t\t\tVALUE := BUFFER_TO_STRING.BUFFER_TO_STRING;\n\t\t\t\tR_BUF.BUFFER := BUFFER_TO_STRING.PT;\n\t\t\tELSE\n\t\t\t\tVALUE := '';\n\t\t\tEND_IF;\n\t\tEND_IF;\n\t\tSTATE := 100;\n\n\tELSIF (HTTP_GET.ERROR > DWORD#00) THEN\n\t\tERROR := HTTP_GET.ERROR;\n\t\tSTATE := 100;\n\tEND_IF;\n\n100:\n\t(* 解锁HTTP数据 *)\n\tIF HTTP_GET.DONE = FALSE THEN\n\t\tSTATE := 0;\n\tEND_IF;\n\nEND_CASE;\n\n(* HTTP_GET *)\nHTTP_GET.IP_C := IP_C;\nHTTP_GET.S_BUF := S_BUF;\nHTTP_GET.R_BUF := R_BUF;\nHTTP_GET.IP4 := DWORD#00;\nHTTP_GET.GET := STATE = 60;\nHTTP_GET.MODE := BYTE#0;\nHTTP_GET.UNLOCK_BUF := STATE = 100;\nHTTP_GET.URL_DATA := URL_DATA;\nHTTP_GET();\nIP_C := HTTP_GET.IP_C;\nS_BUF := HTTP_GET.S_BUF;\nR_BUF := HTTP_GET.R_BUF;\nURL_DATA := HTTP_GET.URL_DATA;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MODE",
          "type": "BYTE",
          "description": "模式选择参数"
        }
      ],
      "outputs": [
        {
          "name": "ERROR",
          "type": "DWORD",
          "description": "输出参数ERROR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查给定的坐标是否在有效范围内的ST代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tX : INT;\n\tY : INT;\nEND_VAR\n\n(* 检查最小值和最大值 *)\nTN_SC_XY_ERROR := Y < 0 OR X < 0 OR Y > 23 OR X > 79;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "INT",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "INT",
          "description": "输入参数Y"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据日出和日落时间，控制在夜间时遮阳板的位置和角度，确保按预设模式进行遮阳控制。给出PLC程序",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tAI : BYTE;\n\tE_NIGHT : BOOL := TRUE;\n\tE_DAY : BOOL := TRUE;\n\tDTIN : UDINT;\n\tSUNRISE : UDINT;\n\tSUNSET : UDINT;\n\tSUNRISE_OFFSET : TIME;\n\tSUNSET_OFFSET : TIME;\n\tNIGHT_POSITION : BYTE;\n\tNIGHT_ANGLE : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\n\tPO : BYTE;\n\tAO : BYTE;\nEND_VAR\n\nVAR\n\tnight : BOOL;\n\tlast_night : UDINT;\n\tlast_day : UDINT;\nEND_VAR\n\nIF NOT (up AND dn) AND night THEN\n\t(* 夜间手动操作将取消当晚的操作 *)\n\tnight := FALSE;\nELSIF (DT_TO_TOD(dtin) > sunset + TIME_TO_UDINT(sunset_offset)) AND (last_night < DT_TO_DATE(dtin)) AND NOT night AND e_night THEN\n\t(* 启用夜间模式 *)\n\tnight := TRUE;\n\tlast_night := DT_TO_DATE(dtin);\nELSIF (DT_TO_TOD(dtin) > sunrise + TIME_TO_UDINT(sunrise_offset)) AND (last_day < DT_TO_DATE(dtin)) AND night AND e_day AND (last_night < DT_TO_DATE(dtin)) THEN\n\t(* 禁用夜间模式 *)\n\tnight := FALSE;\n\tlast_day := DT_TO_DATE(dtin);\nEND_IF;\n\n(* 仅在自动模式并启用时才在夜间调节遮阳 *)\nIF UP AND DN AND night THEN\n\tstatus := BYTE#141;\n\tpo := night_position;\n\tao := night_angle;\nELSE\n\tQU := UP;\n\tQD := DN;\n\tpo := pi;\n\tao := ai;\n\tstatus := s_in;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "AI",
          "type": "BYTE",
          "description": "输入参数AI"
        },
        {
          "name": "E_NIGHT",
          "type": "BOOL",
          "description": "输入参数E_NIGHT"
        },
        {
          "name": "E_DAY",
          "type": "BOOL",
          "description": "输入参数E_DAY"
        },
        {
          "name": "DTIN",
          "type": "UDINT",
          "description": "输入参数DTIN"
        },
        {
          "name": "SUNRISE",
          "type": "UDINT",
          "description": "输入参数SUNRISE"
        },
        {
          "name": "SUNSET",
          "type": "UDINT",
          "description": "输入参数SUNSET"
        },
        {
          "name": "SUNRISE_OFFSET",
          "type": "TIME",
          "description": "输入参数SUNRISE_OFFSET"
        },
        {
          "name": "SUNSET_OFFSET",
          "type": "TIME",
          "description": "输入参数SUNSET_OFFSET"
        },
        {
          "name": "NIGHT_POSITION",
          "type": "BYTE",
          "description": "输入参数NIGHT_POSITION"
        },
        {
          "name": "NIGHT_ANGLE",
          "type": "BYTE",
          "description": "输入参数NIGHT_ANGLE"
        }
      ],
      "outputs": [
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输出参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输出参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        },
        {
          "name": "PO",
          "type": "BYTE",
          "description": "输出参数PO"
        },
        {
          "name": "AO",
          "type": "BYTE",
          "description": "输出参数AO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码根据不同的输入信号选择对应的字符串输出",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tIN3 : BOOL;\n\tIN4 : BOOL;\n\tIN5 : BOOL;\n\tIN6 : BOOL;\n\tIN7 : BOOL;\n\tIN8 : BOOL;\n\tS1 : STRING;\n\tS2 : STRING;\n\tS3 : STRING;\n\tS4 : STRING;\n\tS5 : STRING;\n\tS6 : STRING;\n\tS7 : STRING;\n\tS8 : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tM : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MESSAGE_8\nIEC_LANGUAGE: ST\n*)\n(* 检查是否有报警，如果有则设置输出 M，否则清除 M *)\nIF in1 THEN\n\tM := S1;\nELSIF in2 THEN\n\tM := S2;\nELSIF in3 THEN\n\tM := S3;\nELSIF in4 THEN\n\tM := S4;\nELSIF in5 THEN\n\tM := S5;\nELSIF in6 THEN\n\tM := S6;\nELSIF in7 THEN\n\tM := S7;\nELSIF in8 THEN\n\tM := S8;\nELSE\n\tM := '';\nEND_IF;",
      "description": "MESSAGE_8功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "BOOL",
          "description": "输入参数IN4"
        },
        {
          "name": "IN5",
          "type": "BOOL",
          "description": "输入参数IN5"
        },
        {
          "name": "IN6",
          "type": "BOOL",
          "description": "输入参数IN6"
        },
        {
          "name": "IN7",
          "type": "BOOL",
          "description": "输入参数IN7"
        },
        {
          "name": "IN8",
          "type": "BOOL",
          "description": "输入参数IN8"
        },
        {
          "name": "S1",
          "type": "STRING",
          "description": "输入参数S1"
        },
        {
          "name": "S2",
          "type": "STRING",
          "description": "输入参数S2"
        },
        {
          "name": "S3",
          "type": "STRING",
          "description": "输入参数S3"
        },
        {
          "name": "S4",
          "type": "STRING",
          "description": "输入参数S4"
        },
        {
          "name": "S5",
          "type": "STRING",
          "description": "输入参数S5"
        },
        {
          "name": "S6",
          "type": "STRING",
          "description": "输入参数S6"
        },
        {
          "name": "S7",
          "type": "STRING",
          "description": "输入参数S7"
        },
        {
          "name": "S8",
          "type": "STRING",
          "description": "输入参数S8"
        }
      ],
      "outputs": [
        {
          "name": "M",
          "type": "STRING",
          "description": "输出参数M"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么限制输出信号的最大持续时间？我要st代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tPT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tZ : BOOL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tstart : TIME;\n\tlast_in : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统定时器 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nZ := FALSE;\n\nIF NOT in THEN\n\tQ := FALSE;\nELSIF IN AND NOT last_in THEN\n\tQ := TRUE;\n\tstart := tx;\nELSIF (tx - start >= PT) AND Q THEN\n\tQ := FALSE;\n\tZ := TRUE;\nEND_IF;\n\nlast_in := IN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "Z",
          "type": "BOOL",
          "description": "输出参数Z"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将输入的二进制字符串转换为字节？给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tBIN : oscat_STRING12;\nEND_VAR\n\nVAR_OUTPUT\n\tBIN_TO_BYTE : BYTE;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\tX : INT;\nEND_VAR\n\nBIN_TO_BYTE := BYTE#0;\nstop := LEN(bin);\nFOR I := 1 TO LEN(BIN) DO\n\tX := GET_CHAR(BIN,I);\n\t(* calculate the value of the digit *)\n\tIF X = 48 THEN\n\t\tBIN_TO_BYTE := SHL_BYTE(BIN_TO_BYTE,1);\n\tELSIF X = 49 THEN\n\t\tBIN_TO_BYTE := SHL_BYTE(BIN_TO_BYTE,1) OR BYTE#1;\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "BIN",
          "type": "oscat_STRING12",
          "description": "输入参数BIN"
        }
      ],
      "outputs": [
        {
          "name": "BIN_TO_BYTE",
          "type": "BYTE",
          "description": "输出参数BIN_TO_BYTE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码在指定的区域内填充字符和属性，更新相应屏幕位置的内容",
      "input": "",
      "output": "VAR\n\tin_X : INT;\n\tin_Y : INT;\n\tin_Offset : INT;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y1 : INT;\n\tIin_X1 : INT;\n\tIin_Y2 : INT;\n\tIin_X2 : INT;\n\tIby_CHAR : BYTE;\n\tIby_Attr : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY2_ERROR(Iin_X1,Iin_Y1,Iin_X2,Iin_Y2) THEN RETURN; END_IF;\n\nFOR in_Y := Iin_Y1 TO Iin_Y2 DO\n\tXus_TN_SCREEN.bya_Line_Update[in_Y] := TRUE;\n\tin_Offset := (in_Y * 80) + Iin_X1;\n\tFOR in_X := Iin_X1 TO Iin_X2 DO\n\t\tXus_TN_SCREEN.bya_CHAR[in_Offset] := Iby_CHAR;\n\t\tXus_TN_SCREEN.bya_COLOR[in_Offset] := Iby_Attr;\n\t\tin_Offset := in_Offset + 1;\n\tEND_FOR;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y1",
          "type": "INT",
          "description": "输入参数Iin_Y1"
        },
        {
          "name": "Iin_X1",
          "type": "INT",
          "description": "输入参数Iin_X1"
        },
        {
          "name": "Iin_Y2",
          "type": "INT",
          "description": "输入参数Iin_Y2"
        },
        {
          "name": "Iin_X2",
          "type": "INT",
          "description": "输入参数Iin_X2"
        },
        {
          "name": "Iby_CHAR",
          "type": "BYTE",
          "description": "输入参数Iby_CHAR"
        },
        {
          "name": "Iby_Attr",
          "type": "BYTE",
          "description": "输入参数Iby_Attr"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算并返回给定日期所在月的最后一天的时间怎么用st语言编程实现",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MONTH_END\nIEC_LANGUAGE: ST\n*)\nMONTH_END := SET_DATE(YEAR_OF_DATE(idate),MONTH_OF_DATE(idate)+1,1) - UDINT#86400;",
      "description": "MONTH_END功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st程序去除字符串中的前导空格",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tTRIM : STRING;\nEND_VAR\n\nVAR\n\tpos : INT;\nEND_VAR\n\ntrim := str;\nREPEAT\n\tpos := FIND(trim, ' ');\n\tIF pos > 0 THEN trim := REPLACE(trim, '', 1, pos); END_IF;\nUNTIL pos = 0 END_REPEAT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "TRIM",
          "type": "STRING",
          "description": "输出参数TRIM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么检查输入IN的最低位是否为1",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DINT;\nEND_VAR\n\neven := NOT BIT_OF_DWORD(DINT_TO_DWORD(IN), 0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DINT",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在PT1缓冲区中搜索PT2缓冲区的匹配子串怎么编写",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT1 : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR_INPUT\n\tSIZE1 : INT;\nEND_VAR\n\nVAR_IN_OUT\n\tPT2 : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR_INPUT\n\tSIZE2 : INT;\n\tSTART : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_COMP : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tj : INT;\n\tend : INT;\n\tj2 : INT;\nEND_VAR\n\n(* 搜索第一个字符匹配 *)\n\nIF SIZE2 <= SIZE1 AND SIZE1 > 0 AND SIZE2 > 0 AND START >= 0 THEN\n\tend := SIZE1 - SIZE2;\n\tFOR i := START TO end DO\n\t\tIF PT1[i] = PT2[0] THEN\n\t\t\t(* 第一个字符匹配，接下来比较其余部分 *)\n\t\t\tj := 1;\n\t\t\tj2 := j + i;\n\t\t\tWHILE j < SIZE2 DO\n\t\t\t\tIF PT2[j] <> PT1[j2] THEN EXIT; END_IF;\n\t\t\t\tj := j + 1;\n\t\t\t\tj2 := j2 + 1;\n\t\t\tEND_WHILE;\n\t\t\t(* 当 j >= SIZE2 时，说明找到了匹配，返回 PT1 中匹配位置 i *)\n\t\t\tIF j = SIZE2 THEN\n\t\t\t\tBUFFER_COMP := i;\n\t\t\t\tRETURN;\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tEND_FOR;\nEND_IF;\nBUFFER_COMP := -1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE1",
          "type": "INT",
          "description": "输入参数SIZE1"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_COMP",
          "type": "INT",
          "description": "输出参数BUFFER_COMP"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入的日期计算出该日期对应的星期几",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nDAY_OF_WEEK := UDINT_TO_INT((idate / UDINT#86400 + UDINT#3) MOD UDINT#7) + INT#01;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在输入的长字符串STR1中从右向左查找子字符串STR2，并返回最后一个匹配的字符在长字符串中的位置",
      "input": "",
      "output": "VAR_INPUT\n\tSTR1 : oscat_STRING250;\n\tSTR2 : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tFINDB : INT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tlength : INT;\n\tstring_temp : oscat_STRING250;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FINDB\nIEC_LANGUAGE: ST\n*)\nlength := LEN(str2);\npos := LEN(str1) - length + 1;\nWHILE (pos >= 1) DO\n\tstring_temp := MID(str1,length,pos);\n\tIF EQ_STRING(string_temp,str2) THEN\n\t\tFindB := pos;\n\t\tRETURN;\n\tEND_IF;\npos := pos - 1;\nEND_WHILE;\nFindB := 0;",
      "description": "反向字符串查找函数，从右向左搜索子字符串的最后一次出现位置。使用oscat_STRING250类型支持长字符串处理，适用于日志分析、文件路径解析、配置参数查找等需要从字符串末尾开始搜索的应用场景。",
      "inputs": [
        {
          "name": "STR1",
          "type": "oscat_STRING250",
          "description": "被搜索的长字符串"
        },
        {
          "name": "STR2",
          "type": "STRING",
          "description": "要查找的子字符串"
        }
      ],
      "outputs": [
        {
          "name": "FINDB",
          "type": "INT",
          "description": "最后匹配位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: oscat_STRING250类型, EQ_STRING, MID函数",
      "iec_standard": "IEC 61131-3 字符串搜索，反向查找算法",
      "tags": [
        "反向查找",
        "字符串搜索",
        "日志分析",
        "路径解析",
        "配置查找",
        "最后一次匹配"
      ]
    },
    {
      "instruction": "如何根据输入的方向字符串和语言配置来计算对应的角度值",
      "input": "",
      "output": "VAR_INPUT\n\tDIR : oscat_STRING3;\n\tL : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tDIR_TO_DEG : INT;\nEND_VAR\n\nVAR\n\tly : INT;\n\ti : INT;\n\tSETUP_DIRS : SETUP_DIRS;\n\tDIRS : oscat_DIRS;\n\tSETUP_LANGUAGE : SETUP_LANGUAGE;\n\tLANGUAGE : oscat_LANGUAGE;\nEND_VAR\n\nSETUP_DIRS(DIRS:=DIRS);\nDIRS:=SETUP_DIRS.DIRS;\nSETUP_LANGUAGE(LANGUAGE:=LANGUAGE);\nLANGUAGE:=SETUP_LANGUAGE.LANGUAGE;\n\nIF L = 0 THEN ly := LANGUAGE.DEFAULT; ELSE ly := MIN(L, LANGUAGE.LMAX); END_IF;\nFOR i := 0 TO 15 DO\n\tIF EQ_STRING(DIRS[ly][i],DIR) THEN EXIT; END_IF;\nEND_FOR;\nDIR_TO_DEG := WORD_TO_INT(SHR_WORD(INT_TO_WORD(i * 45 + 1), 1));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DIR",
          "type": "oscat_STRING3",
          "description": "输入参数DIR"
        },
        {
          "name": "L",
          "type": "INT",
          "description": "长度参数"
        }
      ],
      "outputs": [
        {
          "name": "DIR_TO_DEG",
          "type": "INT",
          "description": "输出参数DIR_TO_DEG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算输入信号的移动平均值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tE : BOOL := TRUE;\n\tN : INT := INT#32;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tAVG : REAL;\nEND_VAR\n\nVAR\n\tbuff : delay;\n\ti : INT;\n\tinit : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_AVG\nIEC_LANGUAGE: ST\n*)\n(* 限制 N 的最大值为 32，因为延迟最大只能支持 32 次周期 *)\nbuff.N := LIMIT(0, N, 32);\n\nIF NOT init OR rst THEN\n\tFOR i := 1 TO N DO\n\t\tbuff(in := in);\n\tEND_FOR;\n\tavg := in;\n\tinit := TRUE;\nELSIF E THEN\n\tbuff(in := in);\n\tavg := avg + (in - buff.out ) / INT_TO_REAL(N);\nEND_IF;",
      "description": "实时移动平均计算器，使用延迟缓冲器实现高效更新。限制最大32个样本以保持计算效率，采用增量更新算法避免重复计算。适用于实时信号平滑、趋势提取、噪声抑制等需要连续移动平均的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号，控制计算"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "移动平均窗口大小(1-32)"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重新初始化"
        }
      ],
      "outputs": [
        {
          "name": "AVG",
          "type": "REAL",
          "description": "移动平均值"
        }
      ],
      "library_dependency": "OSCAT库: delay延迟功能块",
      "iec_standard": "IEC 61131-3 移动平均算法，实时信号处理",
      "tags": [
        "移动平均",
        "实时信号",
        "趋势提取",
        "噪声抑制",
        "信号平滑",
        "延迟缓冲"
      ]
    },
    {
      "instruction": "对输入X的N次方如何用ST代码计算",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tN : INT;\nEND_VAR\n\nVAR\n\tN_word : WORD;\n\tX_tmp : REAL;\n\tsign : BOOL;\nEND_VAR\n\nN_word := INT_TO_WORD(N);\nX_tmp := X;\nsign := BIT_OF_DWORD(WORD_TO_DWORD(N_word), 15);\nN_word := INT_TO_WORD(ABS(N));\nIF BIT_OF_DWORD(WORD_TO_DWORD(N_word), 0) THEN expn := X_tmp; ELSE expn := 1.0; END_IF;\nN_word := SHR(N_word, 1);\nWHILE N_word > WORD#0 DO\n\tX_tmp := X_tmp * X_tmp;\n\tIF BIT_OF_DWORD(WORD_TO_DWORD(N_word), 0) THEN expn := expn * X_tmp; END_IF;\n\tN_word := SHR(N_word, 1);\nEND_WHILE;\nIF sign THEN EXPN := 1.0 / EXPN; END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算并返回列表中分隔符的出现次数",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLIST_LEN : INT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tsize : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_LEN\nIEC_LANGUAGE: ST\n*)\nsize := LEN(LIST);\nLIST_LEN := 0;\nFOR pos := 1 TO size DO\n\tIF INT_TO_BYTE(GET_CHAR(LIST,pos)) = SEP THEN LIST_LEN := LIST_LEN + 1; END_IF;\nEND_FOR;",
      "description": "LIST_LEN功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        }
      ],
      "outputs": [
        {
          "name": "LIST_LEN",
          "type": "INT",
          "description": "输出参数LIST_LEN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "控制阀门的开关，并根据特殊情况生成报警信号的ST语言代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tLEVEL : BOOL;\n\tLEAK : BOOL;\n\tACLR : BOOL;\n\tMAX_VALVE_TIME : TIME;\n\tLEVEL_DELAY_TIME : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tVALVE : BOOL;\n\tALARM : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tcx : ACTUATOR_COIL;\n\ttn : TON;\n\ttl : TONOF;\n\topen : BOOL;\nEND_VAR\n\n(* 预处理液位信息 *)\ntl(in := level, T_ON := level_delay_time, T_OFF := level_delay_time);\nopen := tl.Q;\n\n(* 启动逻辑 *)\nIF ALARM THEN\n\t(* 检查是否按下ACLR键 *)\n\tIF ACLR THEN\n\t\tALARM := FALSE;\n\t\tSTATUS := BYTE#101; (* aclr 按下 *)\n\t\tcx(in := FALSE);\n\tEND_IF;\n\tRETURN;\nELSIF LEAK THEN\n\t(* 检测到泄漏 *)\n\tcx(in := FALSE);\n\tALARM := TRUE;\n\tSTATUS := BYTE#1; (* 泄漏错误 *)\nELSIF open THEN\n\t(* 因为液位过低需要打开阀门 *)\n\tcx(in := TRUE);\n\tSTATUS := BYTE#102; (* 低液位打开阀门 *)\nELSE\n\t(* 需要关闭阀门 *)\n\tcx(in := FALSE);\n\tSTATUS := BYTE#100; (* 阀门空闲 *)\nEND_IF;\n\n(* 检查阀门是否开得太久并在必要时生成报警 *)\ntn(in := cx.out AND (MAX_VALVE_TIME > T#0s), PT := MAX_VALVE_TIME);\nIF tn.Q THEN\n\tALARM := TRUE;\n\tSTATUS := BYTE#2; (* 超时错误 *)\n\tcx(in := FALSE);\nEND_IF;\n\n(* 设置输出信号 *)\nVALVE := cx.out;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LEVEL",
          "type": "BOOL",
          "description": "输入参数LEVEL"
        },
        {
          "name": "LEAK",
          "type": "BOOL",
          "description": "输入参数LEAK"
        },
        {
          "name": "ACLR",
          "type": "BOOL",
          "description": "输入参数ACLR"
        },
        {
          "name": "MAX_VALVE_TIME",
          "type": "TIME",
          "description": "输入参数MAX_VALVE_TIME"
        },
        {
          "name": "LEVEL_DELAY_TIME",
          "type": "TIME",
          "description": "输入参数LEVEL_DELAY_TIME"
        }
      ],
      "outputs": [
        {
          "name": "VALVE",
          "type": "BOOL",
          "description": "输出参数VALVE"
        },
        {
          "name": "ALARM",
          "type": "BOOL",
          "description": "输出参数ALARM"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将字节值X映射到指定的浮动范围LOW到HIGH之间",
      "input": "",
      "output": "VAR_INPUT\n\tX : BYTE;\n\tLOW : REAL;\n\tHIGH : REAL;\nEND_VAR\n\nByte_to_Range := (HIGH - LOW) * _BYTE_TO_REAL(X) / 255.0 + LOW;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "BYTE",
          "description": "输入参数值"
        },
        {
          "name": "LOW",
          "type": "REAL",
          "description": "低阈值"
        },
        {
          "name": "HIGH",
          "type": "REAL",
          "description": "高阈值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个高通滤波器",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tT : TIME;\n\tK : REAL := 1.0;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\nEND_VAR\n\nVAR\n\tt1 : FT_PT1;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_IMP\nIEC_LANGUAGE: ST\n*)\nT1(in:= in, T:=T);\nout := (in - t1.out) * K;",
      "description": "一阶高通滤波器，通过减去低通滤波结果实现高频通过。有效抑制低频成分和直流分量，突出高频变化。适用于信号交流耦合、趋势去除、高频检测等需要抑制缓慢变化成分的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "滤波时间常数"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "高通增益系数"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "高通滤波输出"
        }
      ],
      "library_dependency": "OSCAT库: FT_PT1低通滤波器功能块",
      "iec_standard": "IEC 61131-3 高通滤波算法，频域处理",
      "tags": [
        "高通滤波",
        "交流耦合",
        "趋势去除",
        "高频检测",
        "信号处理",
        "频域滤波"
      ]
    },
    {
      "instruction": "通过检查设备的状态和键的输入，控制网络缓冲区中的数据发送。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tDEV_CODE : STRING;\n\tKEY_CODE : STRING;\n\tIN : BOOL;\n\tT_REPEAT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tKEY : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;(*IP_Control 管理结构*)\n\tS_BUF : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR\n\tskey : STRING;\n\tsize : INT;\n\tstr : STRING;\n\ti : INT;\n\tt : TON;\n\tk : BYTE;\n\tlk : BYTE;\n\td : BOOL;\n\ti2 : INT;\n\tCODE : CODE;\nEND_VAR\n\nd := IP_C.C_STATE > BYTE#127 AND (IP_C.MAILBOX[1] > BYTE#0 OR IP_C.C_MODE <> BYTE#5);\nIF NOT d THEN RETURN; END_IF;\n\nt(IN:= lk = k , PT:=T_REPEAT);\n\nIF S_BUF.SIZE = UINT#0 THEN\n\tIF IN THEN\n\t\tskey := KEY_CODE; k := BYTE#1;\n\tELSE\n\t\tlk := BYTE#0;\n\t\tKEY := BYTE#0;\n\t\tRETURN; (* 当没有键被激活时退出 *)\n\tEND_IF;\n\n\tIF lk <> k OR T.Q THEN (* 如果是其他键或等待重复时间已过 *)\n\t\tstr := CONCAT('snd ',dev_code);\n\t\tstr := CONCAT(str,',');\n\t\tstr := CONCAT(str,skey);\n\t\tsize := LEN(str);\n\t\tFOR i := 1 TO size DO\n\t\t\ti2 := i - 1;\n\t\t\tCODE(STR:=str,POS:=i);\n\t\t\tS_BUF.BUFFER[i2] := CODE.CODE;\n\t\tEND_FOR;\n\t\tS_BUF.SIZE := INT_TO_UINT(size);\n\t\tKEY := k;\n\t\tlk := k; (* 保存最后一个键 *)\n\t\tt(IN:=FALSE); (* 重置定时器 *)\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEV_CODE",
          "type": "STRING",
          "description": "输入参数DEV_CODE"
        },
        {
          "name": "KEY_CODE",
          "type": "STRING",
          "description": "输入参数KEY_CODE"
        },
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "T_REPEAT",
          "type": "TIME",
          "description": "输入参数T_REPEAT"
        }
      ],
      "outputs": [
        {
          "name": "KEY",
          "type": "BYTE",
          "description": "输出参数KEY"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入值IN的状态，设置NETWORK_VERSION为一个日期值或固定的DWORD值。给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\nEND_VAR\n\nIF in THEN\n\tNETWORK_VERSION := UDINT_TO_DWORD(set_Date(2011,12,01));\nELSE\n\tNETWORK_VERSION := DWORD#121;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算两个点之间的线性插值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tX1 : REAL;\n\tY1 : REAL;\n\tX2 : REAL;\n\tY2 : REAL;\nEND_VAR\n\nF_LIN2 := (Y2 - Y1) / (X2 - X1) * (X - X1) + Y1;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "X1",
          "type": "REAL",
          "description": "输入参数X1"
        },
        {
          "name": "Y1",
          "type": "REAL",
          "description": "输入参数Y1"
        },
        {
          "name": "X2",
          "type": "REAL",
          "description": "输入参数X2"
        },
        {
          "name": "Y2",
          "type": "REAL",
          "description": "输入参数Y2"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的N计算一个中间值w，并用该值通过旋转位运算和加法等操作来更新输出值。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tN : INT;\n\tA : DWORD;\n\tB : DWORD;\n\tC : DWORD;\n\tD : DWORD;\n\tX : DWORD;\n\tU : INT;\n\tT : DWORD;\nEND_VAR\n\nVAR\n\tw : DWORD;\nEND_VAR\n\nCASE N OF\n\t1: w := (B AND C) OR (NOT(B) AND D);\n\t2: w := (B AND D) OR (C AND NOT D);\n\t3: w := (B XOR C XOR D);\n\t4: w := (C XOR (B OR NOT(D)));\nEND_CASE;\n\n(* MD5_AUX := B + ROL(A + w + X + T,U) *)\nMD5_AUX := UDINT_TO_DWORD(DWORD_TO_UDINT(B) + DWORD_TO_UDINT(ROL_DWORD(UDINT_TO_DWORD(DWORD_TO_UDINT(A) + DWORD_TO_UDINT(w) + DWORD_TO_UDINT(X) + DWORD_TO_UDINT(T)),U)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "A",
          "type": "DWORD",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "DWORD",
          "description": "输入值B"
        },
        {
          "name": "C",
          "type": "DWORD",
          "description": "字符参数"
        },
        {
          "name": "D",
          "type": "DWORD",
          "description": "输入参数D"
        },
        {
          "name": "X",
          "type": "DWORD",
          "description": "输入参数值"
        },
        {
          "name": "U",
          "type": "INT",
          "description": "输入参数U"
        },
        {
          "name": "T",
          "type": "DWORD",
          "description": "时间参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算向量A在Y轴方向的夹角的plc程序代码是啥",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_YANG : REAL;\nEND_VAR\n\nVAR\n\tla : REAL;\n\tV3_ABS : V3_ABS;\nEND_VAR\n\nV3_ABS(A:=A);\nla := V3_ABS.V3_ABS;\n\nIF la > 0.0 THEN\n\tV3_YANG := ACOS(A.Y / la);\nELSE\n\tV3_YANG := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_YANG",
          "type": "REAL",
          "description": "输出参数V3_YANG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将数组初始化为指定的字节值，给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\n\tINIT : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_INIT : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR\n\terr : INT;\n\tresult : WORD;\nEND_VAR\n\nresult := MEMSET(err, init, UINT_TO_DINT(size), pt[0]);\nBUFFER_INIT := (err = 0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "INIT",
          "type": "BYTE",
          "description": "输入参数INIT"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_INIT",
          "type": "BOOL",
          "description": "输出参数BUFFER_INIT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个用于WORD格式数据的可编程时间低通滤波器",
      "input": "",
      "output": "VAR_INPUT\n\tX : WORD;\n\tT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tY : WORD;\nEND_VAR\n\nVAR\n\tlast : UDINT;\n\ttx : UDINT;\n\tinit : BOOL;\n\ttmp : DINT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILTER_W\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\n(* 启动初始化 *)\nIF NOT init OR T = T#0s THEN\n\tinit := TRUE;\n\tlast := tx;\n\tY := X;\nELSIF Y = X THEN\n\tlast := tx;\nELSE\n\ttmp := UINT_TO_DINT(WORD_TO_UINT(X) - WORD_TO_UINT(Y)) * UDINT_TO_DINT(tx - last) / TIME_TO_DINT(T);\n\tIF tmp <> DINT#0 THEN\n\t\tY := DINT_TO_WORD(WORD_TO_DINT(Y) + tmp);\n\t\tlast := tx;\n\tEND_IF;\nEND_IF;",
      "description": "WORD类型一阶低通滤波器，采用差分算法实现平滑滤波。通过计算输入变化率并限制变化速度来实现滤波效果。适用于温度信号、压力信号、流量信号等模拟量输入的平滑处理。",
      "inputs": [
        {
          "name": "X",
          "type": "WORD",
          "description": "输入信号(无符号字)"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "滤波时间常数"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "WORD",
          "description": "滤波后的输出信号"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_MS系统时间函数",
      "iec_standard": "IEC 61131-3 差分滤波算法，变化率限制",
      "tags": [
        "字类型滤波",
        "差分算法",
        "变化率限制",
        "模拟量平滑",
        "温度滤波",
        "压力滤波"
      ]
    },
    {
      "instruction": "对输入的实数进行四舍五入怎么用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tN : INT;\nEND_VAR\n\nVAR\n\tM : REAL;\nEND_VAR\n\nIF X = 0.0 THEN\n\tRND := 0.0;\nELSE\n\tM := EXPN(10.0, N - CEIL(LOG(ABS(X))));\n\tRND := DINT_TO_REAL(_REAL_TO_DINT(X * M)) / M;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过ST语言将URL信息组合成一个完整的字符串",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_url;\nEND_VAR\n\nVAR_OUTPUT\n\tURL_TO_STRING : oscat_STRING250;\nEND_VAR\n\n(* 附加协议 *)\nIF NE_STRING(IN.PROTOCOL, '') THEN URL_TO_STRING := CONCAT(IN.PROTOCOL, '://'); END_IF;\n\n(* 附加用户和密码 *)\nIF NE_STRING(IN.USER, '') THEN\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, IN.USER);\n\tIF NE_STRING(IN.PASSWORD, '') THEN\n\t\tURL_TO_STRING := CONCAT(URL_TO_STRING, ':');\n\t\tURL_TO_STRING := CONCAT(URL_TO_STRING, IN.PASSWORD);\n\tEND_IF;\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, '@');\nEND_IF;\n\n(* 附加域名 *)\nURL_TO_STRING := CONCAT(URL_TO_STRING, IN.DOMAIN);\n\n(* 附加端口 *)\nIF IN.PORT > WORD#0 THEN\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, ':');\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, WORD_TO_STRING(IN.PORT, '%u'));\nEND_IF;\n\n(* 附加路径 *)\nURL_TO_STRING := CONCAT(URL_TO_STRING, IN.PATH);\n\n(* 附加查询 *)\nIF NE_STRING(IN.QUERY, '') THEN\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, '?');\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, IN.QUERY);\nEND_IF;\n\n(* 附加锚点 *)\nIF NE_STRING(IN.ANCHOR, '') THEN\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, '#');\n\tURL_TO_STRING := CONCAT(URL_TO_STRING, IN.ANCHOR);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_url",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "URL_TO_STRING",
          "type": "oscat_STRING250",
          "description": "输出参数URL_TO_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么从给定的以秒为单位的时间中提取并返回分钟部分",
      "input": "",
      "output": "VAR_INPUT\n\tXDT : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MINUTE_OF_DT\nIEC_LANGUAGE: ST\n*)\nMINUTE_OF_DT := UDINT_TO_INT((XDT MOD UDINT#3600) / UDINT#60);",
      "description": "MINUTE_OF_DT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "XDT",
          "type": "UDINT",
          "description": "输入参数XDT"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么基于plc实现一个多功能信号调理函数，用于从多个传感器中读取相同值，并根据配置的模式和传感器数据的有效性，输出一个综合或默认的值",
      "input": "",
      "output": "VAR_INPUT\n\tIN_1 : REAL;\n\tIN_2 : REAL;\n\tIN_3 : REAL;\n\tDEFAULT : REAL;\n\tIN_MIN : REAL;\n\tIN_MAX : REAL;\n\tMODE : BYTE;\nEND_VAR\n\nVAR\n\tcount : INT;\n\tF1 : BOOL;\n\tF2 : BOOL;\n\tF3 : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MULTI_IN\nIEC_LANGUAGE: ST\n*)\nF1 := in_1 > in_min AND in_1 < in_max;\nF2 := in_2 > in_min AND in_2 < in_max;\nF3 := in_3 > in_min AND in_3 < in_max;\n\nCASE _BYTE_TO_INT(mode) OF\n0: count := 0;\n\tIF F1 THEN\n\t\tcount := count + 1;\n\t\tMULTI_IN := in_1;\n\tELSE\n\t\tMULTI_IN := 0.0;\n\tEND_IF;\n\tIF F2 THEN\n\t\tcount := count + 1;\n\t\tMULTI_IN := MULTI_IN + in_2;\n\tEND_IF;\n\tIF F3 THEN\n\t\tcount := count + 1;\n\t\tMULTI_IN := MULTI_IN + in_3;\n\tEND_IF;\n\tMULTI_IN := SEL_REAL(count = 0, MULTI_IN / INT_TO_REAL(count), default);\n\n1: MULTI_IN := SEL_REAL(F1, default, IN_1);\n\n2: MULTI_IN := SEL_REAL(F2, default, IN_2);\n\n3: MULTI_IN := SEL_REAL(F3, default, IN_3);\n\n4: MULTI_IN := default;\n\n5: MULTI_IN := SEL_REAL(F1, in_max, IN_1);\n\tIF F2 AND in_2 < MULTI_IN THEN MULTI_IN := in_2; END_IF;\n\tIF F3 AND in_3 < MULTI_IN THEN MULTI_IN := in_3; END_IF;\n\tIF MULTI_IN = in_max THEN MULTI_IN := default; END_IF;\n\n6: MULTI_IN := SEL_REAL(F1, in_min, IN_1);\n\tIF F2 AND in_2 > MULTI_IN THEN MULTI_IN := in_2; END_IF;\n\tIF F3 AND in_3 > MULTI_IN THEN MULTI_IN := in_3; END_IF;\n\tIF MULTI_IN = in_min THEN MULTI_IN := default; END_IF;\n\n7: IF F1 AND F2 AND F3 THEN MULTI_IN := MID3(in_1, in_2, in_3);\n\tELSIF F1 AND F2 THEN MULTI_IN := MIN(in_1, in_2);\n\tELSIF F1 AND F3 THEN MULTI_IN := MIN(in_1, in_3);\n\tELSIF F2 AND F3 THEN MULTI_IN := MIN(in_2, in_3);\n\tELSIF F1 THEN MULTI_IN := in_1;\n\tELSIF F2 THEN MULTI_IN := in_2;\n\tELSIF F3 THEN MULTI_IN := in_3;\n\tELSE MULTI_IN := default;\n\tEND_IF;\nEND_CASE;",
      "description": "MULTI_IN功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN_1",
          "type": "REAL",
          "description": "输入参数IN_1"
        },
        {
          "name": "IN_2",
          "type": "REAL",
          "description": "输入参数IN_2"
        },
        {
          "name": "IN_3",
          "type": "REAL",
          "description": "输入参数IN_3"
        },
        {
          "name": "DEFAULT",
          "type": "REAL",
          "description": "默认值参数"
        },
        {
          "name": "IN_MIN",
          "type": "REAL",
          "description": "输入参数IN_MIN"
        },
        {
          "name": "IN_MAX",
          "type": "REAL",
          "description": "输入参数IN_MAX"
        },
        {
          "name": "MODE",
          "type": "BYTE",
          "description": "模式选择参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入参数动态生成两组不同时间间隔的脉冲信号，用st代码实现",
      "input": "",
      "output": "VAR_INPUT\n\tENQ : BOOL;\n\tTH1 : TIME;\n\tTL1 : TIME;\n\tTH2 : TIME;\n\tTL2 : TIME;\n\tTS : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tTH : TIME;\n\tTL : TIME;\nEND_VAR\n\nVAR\n\tT_PLC_MS : T_PLC_MS;\n\tt_high : TIME;\n\tt_low : TIME;\n\ttx : TIME;\n\tstart : TIME;\n\tinit : BOOL;\n\tet : TIME;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_PW2\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间并准备输入数据 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 启动初始化 *)\nIF NOT init THEN\n\tstart := tx;\n\tinit := TRUE;\n\tTH := T#0s;\n\tTL := T#0s;\nEND_IF;\n\n(* 选择定时器 *)\nIF TS THEN\n\tt_high := TH2;\n\tt_low := TL2;\nELSE\n\tt_high := TH1;\n\tt_low := TL1;\nEND_IF;\n\n(* 正常运行 *)\nIF ENQ THEN\n\tet := tx - start;\n\tIF NOT Q THEN\n\t\tIF et >= t_low THEN\n\t\t\tQ := TRUE;\n\t\t\tstart := tx;\n\t\t\tTL := T#0s;\n\t\tELSE\n\t\t\tTL := et;\n\t\tEND_IF;\n\tELSE\n\t\tIF et >= t_high THEN\n\t\t\tQ := FALSE;\n\t\t\tstart := tx;\n\t\t\tTH := T#0s;\n\t\tELSE\n\t\t\tTH := et;\n\t\tEND_IF;\n\tEND_IF;\nELSE\n\tQ := FALSE;\n\tTH := T#0s;\n\tTL := T#0s;\n\tstart := tx;\nEND_IF;",
      "description": "GEN_PW2信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "ENQ",
          "type": "BOOL",
          "description": "请求信号，触发功能块执行"
        },
        {
          "name": "TH1",
          "type": "TIME",
          "description": "输入参数TH1"
        },
        {
          "name": "TL1",
          "type": "TIME",
          "description": "输入参数TL1"
        },
        {
          "name": "TH2",
          "type": "TIME",
          "description": "输入参数TH2"
        },
        {
          "name": "TL2",
          "type": "TIME",
          "description": "输入参数TL2"
        },
        {
          "name": "TS",
          "type": "BOOL",
          "description": "输入参数TS"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "TH",
          "type": "TIME",
          "description": "输出参数TH"
        },
        {
          "name": "TL",
          "type": "TIME",
          "description": "输出参数TL"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "通过输入的地理位置和世界时间，计算太阳的高度角HR和方位角B。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tLATITUDE : REAL;(*地理位置的纬度*)\n\tLONGITUDE : REAL;(*地理位置的经度*)\n\tUTC : UDINT;(*世界时间*)\nEND_VAR\n\nVAR_OUTPUT\n\tB : REAL;\n\tHR : REAL;\nEND_VAR\n\nVAR\n\tg : REAL;\n\ta : REAL;\n\td : REAL;\n\th : REAL;\n\tt1 : REAL;\n\tn : REAL;\n\te : REAL;\n\tc : REAL;\n\ttau : REAL;\n\tsin_d : REAL;\n\trl_lat : REAL;\n\tsin_lat : REAL;\n\tcos_lat : REAL;\n\tcos_tau : REAL;\n\tcos_d : REAL;\n\tMATH_PI : REAL := 3.14159265358979323846264338327950288;\n\tMATH_PI2 : REAL := 6.28318530717958647692528676655900576;\nEND_VAR\n\nn := UDINT_TO_REAL(UTC - UDINT#946728000) * 0.000011574074074074;\ng := MODR(6.240040768 + 0.01720197 * n, MATH_PI2);\nd := MODR(4.89495042 + 0.017202792 * n, MATH_PI2) + 0.033423055 * SIN(g) + 0.000349066 * SIN(2.0 * g);\ne := 0.409087723 - 0.000000006981317008 * n;\ncos_d := COS(d);\nsin_d := SIN(d);\na := ATAN(COS(e) * sin_d / cos_d);\nIF cos_d < 0.0 THEN a := a + MATH_PI; END_IF;\nc := ASIN(SIN(e) * sin_d);\ntau := RAD(MODR(6.697376 + (n - 0.25) * 0.0657098245037645 + TOD_TO_REAL(DT_TO_TOD(utc)) * 0.0000002785383333, 24.0) * 15.0 + longitude) - a;\nrlat := RAD(latitude);\nsin_lat := SIN(rlat);\ncos_lat := COS(rlat);\ncos_tau := COS(tau);\nt1 := cos_tau * sin_lat - TAN(c) * cos_lat;\nB := ATAN(SIN(tau) / t1);\nIF t1 < 0.0 THEN B := B + MATH_PI2; ELSE B := B + MATH_PI; END_IF;\nB := DEG(MODR(B, MATH_PI2));\nh := DEG(ASIN(COS(C) * cos_tau * cos_lat + SIN(c) * sin_lat));\nIF h > 180.0 THEN h := h - 360.0; END_IF;\nHR := h + REFRACTION(h);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LATITUDE",
          "type": "REAL",
          "description": "输入参数LATITUDE"
        },
        {
          "name": "LONGITUDE",
          "type": "REAL",
          "description": "输入参数LONGITUDE"
        },
        {
          "name": "UTC",
          "type": "UDINT",
          "description": "输入参数UTC"
        }
      ],
      "outputs": [
        {
          "name": "B",
          "type": "REAL",
          "description": "输出参数B"
        },
        {
          "name": "HR",
          "type": "REAL",
          "description": "输出参数HR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "生成一个st语言程序，去除字符串中的多余空格",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tTRIM1 : STRING;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tst_temp : STRING;\nEND_VAR\n\ntrim1 := str;\nREPEAT\n\tpos := FIND(trim1, '  ');\n\tIF pos > 0 THEN\n\t\tst_temp := trim1;\n\t\ttrim1 := REPLACE(trim1, ' ', 2, pos);\n\tEND_IF;\nUNTIL pos = 0 END_REPEAT;\n(* 去除开头和结尾的空格 *)\nst_temp := LEFT(trim1, 1);\nIF EQ_STRING(st_temp, ' ') THEN trim1 := DELETE(trim1, 1, 1); END_IF;\nst_temp := RIGHT(trim1, 1);\nIF EQ_STRING(st_temp, ' ') THEN trim1 := DELETE(trim1, 1, LEN(trim1)); END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "TRIM1",
          "type": "STRING",
          "description": "输出参数TRIM1"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现一个延迟缓冲区，通过条件判断来控制输入和输出的值",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tN : INT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\nEND_VAR\n\nVAR\n\tbuf : oscat_delay_buf;\n\ti : INT;\n\tinit : BOOL;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT(0,N,32) - 1;\nIF rst OR NOT init THEN\n\tinit := TRUE;\n\tFOR i := 0 TO stop DO buf[i] := in; END_FOR;\n\tout := in;\n\ti := 0;\nELSIF stop < 0 THEN\n\tout := in;\nELSE\n\tout := buf[i];\n\tbuf[i] := in;\n\ti := INC1(i, N);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据给定输入自动控制百叶窗的位置和角度，检查和调节百叶窗的状态",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tAI : BYTE;\n\tT_UD : TIME;\n\tT_ANGLE : TIME;\n\tSENS : BYTE := 5;\n\tT_LOCKOUT : TIME := T#100ms;\nEND_VAR\n\nVAR_OUTPUT\n\tPOS : BYTE;\n\tANG : BYTE;\n\tMU : BOOL;\n\tMD : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tact : blind_actuator;\n\tdelta : BYTE;\n\tbTimeTest : BOOL;\n\tiPos : BYTE;\n\tiAngel : BYTE;\nEND_VAR\n\nIF bTimeTest THEN\n\tPI := iPos;\n\tAI := iAngel;\n\tUP := TRUE;\n\tDN := TRUE;\nEND_IF;\n\n(* 检查位置 *)\nact(T_UD := T_UD, T_ANGLE := T_ANGLE, T_lockout := T_Lockout);\n\nIF UP AND DN THEN\n\t(* 检测到自动模式 *)\n\t(* 首先找到正确的位置 *)\n\tIF _BYTE_TO_INT(act.pos) < _BYTE_TO_INT(pi) - _BYTE_TO_INT(delta) THEN\n\t\tact.UP := TRUE;\n\t\tact.DN := FALSE;\n\t\tdelta := BYTE#0;\n\t\tSTATUS := BYTE#121;\n\tELSIF _BYTE_TO_INT(act.pos) > _BYTE_TO_INT(pi) + _BYTE_TO_INT(delta) THEN\n\t\tact.UP := FALSE;\n\t\tact.DN := TRUE;\n\t\tdelta := BYTE#0;\n\t\tSTATUS := BYTE#122;\n\t(* 调节角度 *)\n\tELSIF _BYTE_TO_INT(act.ang) < _BYTE_TO_INT(ai) - _BYTE_TO_INT(delta) AND T_angle > T#100ms THEN\n\t\tact.UP := TRUE;\n\t\tact.DN := FALSE;\n\t\tdelta := SHR(sens,2);\n\t\tSTATUS := BYTE#123;\n\tELSIF _BYTE_TO_INT(act.ang) > _BYTE_TO_INT(ai) + _BYTE_TO_INT(delta) AND T_angle > T#100ms THEN\n\t\tact.UP := FALSE;\n\t\tact.DN := TRUE;\n\t\tdelta := SHR(sens,2);\n\t\tSTATUS := BYTE#124;\n\t(* 达到正确的位置 *)\n\tELSE\n\t\tact.UP := FALSE;\n\t\tact.DN := FALSE;\n\t\tdelta := sens;\n\t\tSTATUS := S_IN;\n\tEND_IF;\nELSE\n\tact.UP := UP;\n\tact.DN := DN;\n\tSTATUS := S_IN;\nEND_IF;\n\n(* 百叶窗控制调用 blind_actuator *)\nact(T_UD := T_UD, T_ANGLE := T_ANGLE, T_lockout := T_Lockout);\npos := act.pos;\nang := act.ang;\nMU := act.QU;\nmd := act.QD;\nstatus := act.status;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "AI",
          "type": "BYTE",
          "description": "输入参数AI"
        },
        {
          "name": "T_UD",
          "type": "TIME",
          "description": "输入参数T_UD"
        },
        {
          "name": "T_ANGLE",
          "type": "TIME",
          "description": "输入参数T_ANGLE"
        },
        {
          "name": "SENS",
          "type": "BYTE",
          "description": "输入参数SENS"
        },
        {
          "name": "T_LOCKOUT",
          "type": "TIME",
          "description": "输入参数T_LOCKOUT"
        }
      ],
      "outputs": [
        {
          "name": "POS",
          "type": "BYTE",
          "description": "输出参数POS"
        },
        {
          "name": "ANG",
          "type": "BYTE",
          "description": "输出参数ANG"
        },
        {
          "name": "MU",
          "type": "BOOL",
          "description": "输出参数MU"
        },
        {
          "name": "MD",
          "type": "BOOL",
          "description": "输出参数MD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将秒表示的时间转换为TIME类型咋用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\nEND_VAR\n\nsecond_to_time := UDINT_TO_TIME(_REAL_TO_UDINT(IN * 1000.0));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据定时器TOFF的值启动自动运行功能",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tTEST : BOOL;\n\tARE : BOOL := TRUE;\n\tTRUN : TIME;\n\tTOFF : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : BOOL;\n\tARO : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tARX : BOOL;\nEND_VAR\n\nVAR\n\ttimer : _RMP_B;\n\tval : BYTE;\nEND_VAR\n\nIF TOFF > T#0s THEN\n\ttimer(DIR := OUT, TR := SEL(OUT, TOFF, TRUN), RMP := val);\n\tval := timer.RMP;\nELSE\n\tval := BYTE#255;\nEND_IF;\n\n(* 当定时器为0或测试为真时，启动自动运行直到定时器达到255 *)\nIF (NOT ARX AND ARE AND val = BYTE#0) OR TEST THEN\n\tval := BYTE#0;\n\tARO := TRUE;\n\tARX := TRUE;\nELSIF val = BYTE#255 AND ARO THEN\n\tARO := FALSE;\n\tARX := FALSE;\nEND_IF;\n\n(* 当自动运行ARO为真或IN为TRUE时输出为真 *)\nout := IN OR ARO;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "TEST",
          "type": "BOOL",
          "description": "输入参数TEST"
        },
        {
          "name": "ARE",
          "type": "BOOL",
          "description": "输入参数ARE"
        },
        {
          "name": "TRUN",
          "type": "TIME",
          "description": "输入参数TRUN"
        },
        {
          "name": "TOFF",
          "type": "TIME",
          "description": "输入参数TOFF"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "BOOL",
          "description": "输出值"
        },
        {
          "name": "ARO",
          "type": "BOOL",
          "description": "输出参数ARO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的二进制字符串转换为双字怎么实现",
      "input": "",
      "output": "VAR_INPUT\n\tBIN : oscat_STRING40;\nEND_VAR\n\nVAR_OUTPUT\n\tBIN_TO_DWORD : DWORD;\nEND_VAR\n\nVAR\n\ti : INT;\n\tX : INT;\n\tstop : INT;\nEND_VAR\n\nBIN_TO_DWORD := DWORD#0;\nstop := LEN(bin);\nFOR I := 1 TO stop DO\n\tX := GET_CHAR(BIN,I);\n\t(* calculate the value of the digit *)\n\tIF X = 48 THEN\n\t\tBIN_TO_DWORD := SHL_DWORD(BIN_TO_DWORD,1);\n\tELSIF X = 49 THEN\n\t\tBIN_TO_DWORD := SHL_DWORD(BIN_TO_DWORD,1) OR DWORD#1;\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "BIN",
          "type": "oscat_STRING40",
          "description": "输入参数BIN"
        }
      ],
      "outputs": [
        {
          "name": "BIN_TO_DWORD",
          "type": "DWORD",
          "description": "输出参数BIN_TO_DWORD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过st语言编程实现一个采样保持模块",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tCLK : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tTRIG : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\nEND_VAR\n\nIF clk AND NOT edge THEN\n\tout := in;\n\ttrig := TRUE;\nELSE;\n\ttrig := FALSE;\nEND_IF;\nedge := clk;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "机器人碰撞后回退一定距离的ST语言代码是什么",
      "input": "",
      "output": "PROC Routine1()\n\tMoveL pstart10,v100,z10,tool0;\n\tMoveL pstart20,v100,z10,tool0;\n\t!pstart20位置低于碰撞位置，机器人发生碰撞\n\tMoveL pstart10,v100,z10,tool0;\n\tERROR\n\t\tTEST ERRNO\n\t\t\tCASE ERR_COLL_STOP:\n\t\t\t\tTPWrite 'coll_stop!!';\n\t\t\t\twaittime 2;\n\t\t\t\tStartMove;\n\t\t\tENDTEST\n\t\tRETRY;\nENDPROC",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将摄氏温度转换为华氏温度的ST语言代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tCELSIUS : REAL;\nEND_VAR\n\nC_TO_F := CELSIUS * 1.8 + 32.0;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CELSIUS",
          "type": "REAL",
          "description": "输入参数CELSIUS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "我需要一个采样保持模块，它每隔PT秒采样一次输入信号，并在采样后使触发输出TRIG在一个周期内为真。给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tPT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\n\tTRIG : BOOL;\nEND_VAR\n\nVAR\n\tlast : TIME;\n\ttx : TIME;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF tx - last >= PT THEN\n\tlast := tx;\n\tout := in;\n\ttrig := TRUE;\nELSE\n\ttrig := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "输出值"
        },
        {
          "name": "TRIG",
          "type": "BOOL",
          "description": "触发信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据屏幕当前的结束偏移位置计算行列坐标，并将指定的字符串和属性写入屏幕。给我st语言代码",
      "input": "",
      "output": "VAR\n\tTN_SC_WRITE : TN_SC_WRITE;\nEND_VAR\n\nVAR_INPUT\n\tIby_ATTR : BYTE;\n\tIst_STRING : STRING;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nTN_SC_WRITE.Iin_Y := Xus_TN_SCREEN.us_SYS.in_EOS_Offset / 80; (* 计算当前行 *)\nTN_SC_WRITE.Iin_X := Xus_TN_SCREEN.us_SYS.in_EOS_Offset MOD 80; (* 计算当前列 *)\nTN_SC_WRITE.Iby_ATTR := Iby_ATTR;\nTN_SC_WRITE.Ist_STRING := Ist_STRING;\nTN_SC_WRITE.Xus_TN_SCREEN := Xus_TN_SCREEN;\nTN_SC_WRITE();\nXus_TN_SCREEN := TN_SC_WRITE.Xus_TN_SCREEN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iby_ATTR",
          "type": "BYTE",
          "description": "输入参数Iby_ATTR"
        },
        {
          "name": "Ist_STRING",
          "type": "STRING",
          "description": "输入参数Ist_STRING"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算并跟踪系统的运行时间的ST语言代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tCT_MIN : TIME := t#0s;\n\tCT_MAX : TIME := t#0s;\n\tCT_LAST : TIME;\n\tSYSTIME : TIME;\n\tSYSDAYS : INT;\n\tCYCLES : DWORD;\nEND_VAR\n\nVAR\n\tlast_cycle : TIME;\n\ttx : TIME;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS) - last_cycle;\n\nIF rst THEN\n\tct_min := t#10h;\n\tct_max := t#0ms;\n\tcycles := DWORD#0;\nELSIF last_cycle > t#0s THEN\n\tIF tx < ct_min THEN ct_min := tx;\n\tELSIF tx > ct_max THEN ct_max := tx;\n\tEND_IF;\n\tct_last := tx;\nELSIF ct_min = t#0s THEN\n\tct_min := t#0s - t#1ms;\nEND_IF;\nIF init THEN\n\tsystime := systime + tx;\n\tIF systime >= t#1d THEN\n\t\tsystime := systime - t#1d;\n\t\tsysdays := sysdays + 1;\n\tEND_IF;\nEND_IF;\ninit := TRUE;\nlast_cycle := last_cycle + tx;\ncycles := UDINT_TO_DWORD(DWORD_TO_UDINT(cycles) + UDINT#1);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "CT_MIN",
          "type": "TIME",
          "description": "输出参数CT_MIN"
        },
        {
          "name": "CT_MAX",
          "type": "TIME",
          "description": "输出参数CT_MAX"
        },
        {
          "name": "CT_LAST",
          "type": "TIME",
          "description": "输出参数CT_LAST"
        },
        {
          "name": "SYSTIME",
          "type": "TIME",
          "description": "输出参数SYSTIME"
        },
        {
          "name": "SYSDAYS",
          "type": "INT",
          "description": "输出参数SYSDAYS"
        },
        {
          "name": "CYCLES",
          "type": "DWORD",
          "description": "输出参数CYCLES"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据给定的坐标，读取屏幕上的属性值怎么用ST语言写",
      "input": "",
      "output": "VAR\n\tin_Offset : INT;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y : INT;\n\tIin_X : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tOby_ATTR : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY_ERROR(Iin_X,Iin_Y) THEN RETURN; END_IF;\n\nin_Offset := (Iin_Y * 80) + Iin_X;\nOby_ATTR := Xus_TN_SCREEN.bya_COLOR[in_Offset]; (* 读取属性 *);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        }
      ],
      "outputs": [
        {
          "name": "Oby_ATTR",
          "type": "BYTE",
          "description": "输出参数Oby_ATTR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个字节的位顺序反转怎么用st语言写",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nreverse := SHL_BYTE(in, 7) OR SHR_BYTE(in, 7) OR (ROR_BYTE(in, 3) AND BYTE#2#01000100) OR (ROL_BYTE(in, 3) AND BYTE#2#00100010)\n\tOR (SHL_BYTE(in, 1) AND BYTE#2#00010000) OR (SHR_BYTE(in, 1) AND BYTE#2#00001000);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从8个模块收集错误状态报告数据的st代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tESR_0 : oscat_ESR_3;\n\tESR_1 : oscat_ESR_3;\n\tESR_2 : oscat_ESR_3;\n\tESR_3 : oscat_ESR_3;\n\tESR_4 : oscat_ESR_3;\n\tESR_5 : oscat_ESR_3;\n\tESR_6 : oscat_ESR_3;\n\tESR_7 : oscat_ESR_3;\n\tRST : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tESR_OUT : oscat_ESR_31;\nEND_VAR\n\nVAR\n\tcnt : INT := -1;\n\tmax_in : INT := 3;\n\tmax_out : INT := 32;\nEND_VAR\n\nIF RST OR cnt < 0 THEN\n\tPOS := -1;\nELSE\n\tFOR cnt := 0 TO max_in DO\n\t\tIF ESR_0[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_0[cnt]; END_IF;\n\t\tIF ESR_1[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_1[cnt]; END_IF;\n\t\tIF ESR_2[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_2[cnt]; END_IF;\n\t\tIF ESR_3[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_3[cnt]; END_IF;\n\t\tIF ESR_4[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_4[cnt]; END_IF;\n\t\tIF ESR_5[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_5[cnt]; END_IF;\n\t\tIF ESR_6[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_6[cnt]; END_IF;\n\t\tIF ESR_7[cnt].typ > BYTE#0 THEN POS := INC1(POS, max_out); ESR_OUT[POS] := ESR_7[cnt]; END_IF;\n\tEND_FOR;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ESR_0",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_0"
        },
        {
          "name": "ESR_1",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_1"
        },
        {
          "name": "ESR_2",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_2"
        },
        {
          "name": "ESR_3",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_3"
        },
        {
          "name": "ESR_4",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_4"
        },
        {
          "name": "ESR_5",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_5"
        },
        {
          "name": "ESR_6",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_6"
        },
        {
          "name": "ESR_7",
          "type": "oscat_ESR_3",
          "description": "输入参数ESR_7"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "ESR_OUT",
          "type": "oscat_ESR_31",
          "description": "输出参数ESR_OUT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST语言实现一个模拟多路选择器",
      "input": "",
      "output": "VAR_INPUT\n\tIN0 : REAL;\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tIN3 : REAL;\n\tA0 : BOOL;\n\tA1 : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MUX_R4\nIEC_LANGUAGE: ST\n*)\nIF A1 THEN\n\tMUX_R4 := SEL(A0, IN2, IN3);\nELSE\n\tMUX_R4 := SEL(A0, IN0, IN1);\nEND_IF;",
      "description": "MUX_R4功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN0",
          "type": "REAL",
          "description": "输入参数IN0"
        },
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "REAL",
          "description": "输入参数IN3"
        },
        {
          "name": "A0",
          "type": "BOOL",
          "description": "输入参数A0"
        },
        {
          "name": "A1",
          "type": "BOOL",
          "description": "输入参数A1"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将时间按给定的实数倍数进行缩放",
      "input": "",
      "output": "VAR_INPUT\n\tT : TIME;\n\tM : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MULTIME\nIEC_LANGUAGE: ST\n*)\nmultime := DWORD_TO_TIME(_REAL_TO_DWORD(_DWORD_TO_REAL(TIME_TO_DWORD(t))*M));",
      "description": "MULTIME功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "TIME",
          "description": "时间参数"
        },
        {
          "name": "M",
          "type": "REAL",
          "description": "输入参数M"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言将格雷码转换为二进制",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GRAY_TO_BYTE\nIEC_LANGUAGE: ST\n*)\nGRAY_TO_BYTE := SHR_BYTE(IN, 4) XOR IN;\nGRAY_TO_BYTE := SHR_BYTE(GRAY_TO_BYTE, 2) XOR GRAY_TO_BYTE;\nGRAY_TO_BYTE := SHR_BYTE(GRAY_TO_BYTE, 1) XOR GRAY_TO_BYTE;",
      "description": "GRAY_TO_BYTE功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算一个二次函数怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tA : REAL;\n\tB : REAL;\n\tC : REAL;\nEND_VAR\n\nF_QUAD := (A * X + B) * X + C;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "A",
          "type": "REAL",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "REAL",
          "description": "输入值B"
        },
        {
          "name": "C",
          "type": "REAL",
          "description": "字符参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个整数转换为时间格式，用st语言",
      "input": "",
      "output": "VAR_INPUT\nIN : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INT_TO_TIME\nIEC_LANGUAGE: ST\n*)\nINT_TO_TIME := DINT_TO_TIME(INT_TO_DINT(IN));",
      "description": "INT_TO_TIME功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "INT",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "解析输入的事件字符串，提取不同的数据字段的ST代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tEVENT : oscat_STRING250;\n\tLANG : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tTIMER_EVENT_DECODE : oscat_TIMER_EVENT_DATA;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tstart : INT;\n\tstop : INT;\n\tstep : INT;\n\ttmp : oscat_STRING60;\n\tchar : INT;\n\tFSTRING_TO_BYTE : FSTRING_TO_BYTE;\n\tIS_CC : IS_CC;\n\tFSTRING_TO_WEEK : FSTRING_TO_WEEK;\n\tFSTRING_TO_WEEKDAY : FSTRING_TO_WEEKDAY;\n\tSTRING_TO_TOD : STRING_TO_TOD;\n\t_STRING_TO_TIME : _STRING_TO_TIME;\nEND_VAR\n\n(* 检查开始和结束字符 *)\nstop := LEN(event);\nIF (GET_CHAR(event,1) <> 60) AND (GET_CHAR(event,stop) <> 62) THEN RETURN; END_IF;\nstart := 2;\nstep := 0;\n\n(* 解析字符串寻找下一个分号 *)\nFOR pos := 2 TO stop DO\n\tchar := GET_CHAR(event,pos);\n\n\tIF char = 59 OR char = 62 THEN\n\t\ttmp := MID(event, pos - start, start);\n\t\tCASE step OF\n\t\t\t0: (* 读取类型 *)\n\t\t\t\tFSTRING_TO_BYTE(IN:=tmp);\n\t\t\t\tTIMER_EVENT_DECODE.typ := FSTRING_TO_BYTE.FSTRING_TO_BYTE;\n\n\t\t\t1: (* 读取通道 *)\n\t\t\t\tFSTRING_TO_BYTE(IN:=tmp);\n\t\t\t\tTIMER_EVENT_DECODE.channel := FSTRING_TO_BYTE.FSTRING_TO_BYTE;\n\n\t\t\t2: (* 读取日期 *)\n\t\t\t\tIS_CC(str:=tmp,cmp:='0123456789abcdefABCDEF#');\n\n\t\t\t\tIF IS_CC.IS_CC THEN\n\t\t\t\t\tFSTRING_TO_BYTE(IN:=tmp);\n\t\t\t\t\tTIMER_EVENT_DECODE.DAY := FSTRING_TO_BYTE.FSTRING_TO_BYTE;\n\t\t\t\tELSIF TIMER_EVENT_DECODE.typ = BYTE#2 THEN\n\t\t\t\t\tFSTRING_TO_WEEK(WEEK:=tmp,LANG:=LANG);\n\t\t\t\t\tTIMER_EVENT_DECODE.DAY := FSTRING_TO_WEEK.FSTRING_TO_WEEK;\n\t\t\t\tELSE\n\t\t\t\t\tFSTRING_TO_WEEKDAY(WDAY:=tmp,LANG:=LANG);\n\t\t\t\t\tTIMER_EVENT_DECODE.DAY := INT_TO_BYTE(FSTRING_TO_WEEKDAY.FSTRING_TO_WEEKDAY);\n\t\t\t\tEND_IF;\n\n\t\t\t3: (* 读取开始时间 *)\n\t\t\t\tSTRING_TO_TOD(_TOD:=tmp);\n\t\t\t\tTIMER_EVENT_DECODE.start := STRING_TO_TOD.STRING_TO_TOD;\n\n\t\t\t4: (* 读取持续时间 *)\n\t\t\t\t_STRING_TO_TIME(_TIME:=tmp);\n\t\t\t\tTIMER_EVENT_DECODE.duration := _STRING_TO_TIME.STRING_TO_TIME;\n\n\t\t\t5: (* 读取LAN *)\n\t\t\t\tFSTRING_TO_BYTE(IN:=tmp);\n\t\t\t\tTIMER_EVENT_DECODE.land := FSTRING_TO_BYTE.FSTRING_TO_BYTE;\n\n\t\t\t6: (* 读取LOR *)\n\t\t\t\tFSTRING_TO_BYTE(IN:=tmp);\n\t\t\t\tTIMER_EVENT_DECODE.LOR := FSTRING_TO_BYTE.FSTRING_TO_BYTE;\n\t\tEND_CASE;\n\t\tstart := pos + 1;\n\t\tstep := step + 1;\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "EVENT",
          "type": "oscat_STRING250",
          "description": "输入参数EVENT"
        },
        {
          "name": "LANG",
          "type": "INT",
          "description": "输入参数LANG"
        }
      ],
      "outputs": [
        {
          "name": "TIMER_EVENT_DECODE",
          "type": "oscat_TIMER_EVENT_DATA",
          "description": "输出参数TIMER_EVENT_DECODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何基于PLC实现文本滚动显示的功能",
      "input": "",
      "output": "VAR_INPUT\n\tN : INT;\n\tPT : TIME;\n\tTEXT : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tDISPLAY : STRING;\nEND_VAR\n\nVAR\n\tdelay : TP;\n\trollout : STRING;\n\ttext_len : INT;\n\trollout_step : INT;\n\tstep : INT;\nEND_VAR\n\n(* 当延迟时间很短时生成下一个滚动标识 *)\ntext_len := LEN(text);\n\nIF N < text_len THEN\n\tIF NOT delay.Q THEN\n\n\t\tIF step > text_len THEN\n\t\t\trollout_step := 0;\n\t\t\trollout := '';\n\t\t\tstep := 0;\n\tEND_IF;\n\n\t\tIF step + N > text_len THEN\n\t\t\t(* 增加步长以便下次滚动 *)\n\t\t\tstep := step + 1;\n\t\t\trollout_step := rollout_step + 1;\n\t\t\t(* 从文本中提取显示内容 *)\n\t\t\tdisplay := MID(text, N - rollout_step, step);\n\t\t\trollout := CONCAT(rollout, '#');\n\t\t\tdisplay := CONCAT(display, rollout);\n\t\tELSE\n\t\t\t(* 增加步长以便下次滚动 *)\n\t\t\tstep := step + 1;\n\t\t\t(* 从文本中提取显示内容 *)\n\t\t\tdisplay := MID(text, N, step);\n\t\tEND_IF;\n\n\t\t(* 设置延迟定时器以便下一次滚动 *)\n\t\tdelay(in := TRUE, PT := PT);\n\tELSE;\n\t\t(* 执行延迟定时器 *)\n\t\tdelay(in := FALSE);\n\tEND_IF;\nELSE\n\tdisplay := text;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "TEXT",
          "type": "STRING",
          "description": "输入参数TEXT"
        }
      ],
      "outputs": [
        {
          "name": "DISPLAY",
          "type": "STRING",
          "description": "输出参数DISPLAY"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个可配置的位模式生成器",
      "input": "",
      "output": "VAR_INPUT\n\tIN0 : DWORD;\n\tIN1 : DWORD;\n\tIN2 : DWORD;\n\tIN3 : DWORD;\n\tCLK : BOOL;\n\tSTEPS : INT;\n\tREP : INT;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tCNT : INT;\n\tRUN : BOOL;\nEND_VAR\n\nVAR\n\tr0 : DWORD;\n\tr1 : DWORD;\n\tr2 : DWORD;\n\tr3 : DWORD;\n\trx : INT := 1;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_BIT\nIEC_LANGUAGE: ST\n*)\n(* 检查是否完成了所有的运行次数，或者 REP = 0 表示连续运行 *)\nIF clk AND NOT rst THEN\n\trun := (rep = 0) OR (rx <= rep);\n\tIF run THEN\n\t\t(* 检查步进计数器是否达到上限，如果是则重置为 0 *)\n\t\tIF cnt = steps THEN\n\t\t\tcnt := 0;\n\t\tEND_IF;\n\n\t\t(* 当 cnt = 0 时，重新加载输入到寄存器 *)\n\t\tIF cnt = 0 THEN\n\t\t\tr0 := in0;\n\t\t\tr1 := in1;\n\t\t\tr2 := in2;\n\t\t\tr3 := in3;\n\t\tEND_IF;\n\n\t\t(* 当 cnt < steps 时，将最低位移到输出 *)\n\t\tIF (cnt < steps) THEN\n\t\t\tQ0 := BIT_OF_DWORD(r0,0); (* Q0 := r0.X0; *)\n\t\t\tQ1 := BIT_OF_DWORD(r1,0); (* Q1 := r1.X0; *)\n\t\t\tQ2 := BIT_OF_DWORD(r2,0); (* Q2 := r2.X0; *)\n\t\t\tQ3 := BIT_OF_DWORD(r3,0); (* Q3 := r3.X0; *)\n\t\t\tr0 := SHR(r0,1);\n\t\t\tr1 := SHR(r1,1);\n\t\t\tr2 := SHR(r2,1);\n\t\t\tr3 := SHR(r3,1);\n\t\tEND_IF;\n\n\t\t(* 增加步进计数器 *)\n\t\tcnt := cnt + 1;\n\t\tIF (cnt = steps) AND (rep <> 0) THEN\n\t\t\trx := rx + 1;\n\t\tEND_IF;\n\t\tIF (rx > rep) AND (rep <> 0) THEN\n\t\t\trun := FALSE;\n\t\tEND_IF;\n\tEND_IF;\nELSE\n\tIF rst THEN\n\t\trun := FALSE;\n\t\tQ0 := FALSE;\n\t\tQ1 := FALSE;\n\t\tQ2 := FALSE;\n\t\tQ3 := FALSE;\n\t\tr0 := DWORD#0;\n\t\tr1 := DWORD#0;\n\t\tr2 := DWORD#0;\n\t\tr3 := DWORD#0;\n\t\tcnt := 0;\n\t\trx := 1;\n\tEND_IF;\nEND_IF;",
      "description": "可配置位模式生成器，根据输入参数动态生成数字信号模式。适用于测试信号生成、模式识别、数字通信等应用。",
      "inputs": [
        {
          "name": "IN0",
          "type": "DWORD",
          "description": "输入参数IN0"
        },
        {
          "name": "IN1",
          "type": "DWORD",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "DWORD",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "DWORD",
          "description": "输入参数IN3"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "STEPS",
          "type": "INT",
          "description": "输入参数STEPS"
        },
        {
          "name": "REP",
          "type": "INT",
          "description": "输入参数REP"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "CNT",
          "type": "INT",
          "description": "计数器值"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "运行状态"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第5章：位操作和数字信号处理",
      "tags": [
        "位模式生成",
        "数字信号",
        "测试信号",
        "模式识别",
        "数字通信"
      ]
    },
    {
      "instruction": "怎么用st代码在不同的温度单位之间进行转换",
      "input": "",
      "output": "VAR_INPUT\n\tK : REAL;\n\tC : REAL := -273.15;\n\tF : REAL := -459.67;\n\tRE : REAL := -218.52;\n\tRA : REAL := 0.0;\nEND_VAR\n\nVAR_OUTPUT\n\tYK : REAL;\n\tYC : REAL;\n\tYF : REAL;\n\tYRE : REAL;\n\tYRA : REAL;\nEND_VAR\n\nYK := K + (C + 273.15) + (F + 459.67) * 0.555555555555 + (Re * 1.25 + 273.15) + (Ra * 0.555555555555);\nYC := YK - 273.15;\nYF := YK * 1.8 - 459.67;\nYRe := (YK - 273.15) * 0.8;\nYRa := YK * 1.8;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "K",
          "type": "REAL",
          "description": "JK触发器K输入"
        },
        {
          "name": "C",
          "type": "REAL",
          "description": "字符参数"
        },
        {
          "name": "F",
          "type": "REAL",
          "description": "频率参数"
        },
        {
          "name": "RE",
          "type": "REAL",
          "description": "输入参数RE"
        },
        {
          "name": "RA",
          "type": "REAL",
          "description": "输入参数RA"
        }
      ],
      "outputs": [
        {
          "name": "YK",
          "type": "REAL",
          "description": "输出参数YK"
        },
        {
          "name": "YC",
          "type": "REAL",
          "description": "输出参数YC"
        },
        {
          "name": "YF",
          "type": "REAL",
          "description": "输出参数YF"
        },
        {
          "name": "YRE",
          "type": "REAL",
          "description": "输出参数YRE"
        },
        {
          "name": "YRA",
          "type": "REAL",
          "description": "输出参数YRA"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言计算输入X的反双曲余弦值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nACOSH := LN(SQRT(X * X - 1.0) + X);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据当前的UTC时间和其他数据更新日历和太阳信息",
      "input": "",
      "output": "VAR_INPUT\n\tSPE : BOOL;\n\tH : REAL := REAL#-0.83333333333;\nEND_VAR\n\nVAR_IN_OUT\n\tXCAL : oscat_CALENDAR;\n\tHOLIDAYS : oscat_HOLIDAY_DATA_0_29;\nEND_VAR\n\nVAR\n\tlast : UDINT;\n\tlast_day : DINT;\n\tholiday : HOLIDAY;\n\tsun : SUN_TIME;\n\tlast_hour : INT;\n\tutod : UDINT;\n\tpos : SUN_POS;\n\tplast : UDINT;\n\tdtemp : DINT;\n\ttmp : INT;\n\tSETUP_LOCATION : SETUP_LOCATION;\n\tLOCATION : oscat_LOCATION;\nEND_VAR\n\nIF XCAL.UTC <> last THEN\n\t(* 每秒运行一次 *)\n\t(* 更新最后计算的UTC时间 *)\n\tlast := XCAL.UTC;\n\tutod := DT_TO_TOD(XCAL.UTC);\n\n\t(* 从UTC计算LTC *)\n\tXCAL.LDT := UTC_TO_LTIME(XCAL.UTC, XCAL.DST_EN, XCAL.OFFSET);\n\tXCAL.LDATE := DT_TO_DATE(XCAL.LDT);\n\tXCAL.LTOD := DT_TO_TOD(XCAL.LDT);\n\tdtemp := DAY_OF_DATE(XCAL.LDATE);\n\tXCAL.night := XCAL.LTOD < XCAL.SUN_RISE OR XCAL.LTOD > XCAL.SUN_SET;\n\n\t(* 每小时运行一次 *)\n\ttmp := HOUR(XCAL.LTOD);\n\tIF tmp <> last_hour THEN\n\t\tXCAL.DST_ON := DST(XCAL.UTC) AND XCAL.DST_EN;\n\t\tlast_hour := tmp;\n\tEND_IF;\n\n\t(* 每天运行一次 *)\n\tIF dtemp <> last_day THEN\n\t\tSETUP_LOCATION(LOCATION := LOCATION);\n\t\tLOCATION := SETUP_LOCATION.LOCATION;\n\n\t\tlast_day := dtemp;\n\t\t(* 一天已经开始，重新计算每日事件 *)\n\t\tXCAL.YEAR := YEAR_OF_DATE(XCAL.LDATE);\n\t\tXCAL.MONTH := MONTH_OF_DATE(XCAL.LDATE);\n\t\tXCAL.DAY := DAY_OF_MONTH(XCAL.LDATE);\n\t\tXCAL.WEEKDAY := DAY_OF_WEEK(XCAL.LDATE);\n\t\tHOLY(date_in := XCAL.LDATE, LANGU := XCAL.LANGUAGE, HOLIDAYS := HOLIDAYS);\n\t\tHOLIDAYS := HOLY.HOLIDAYS;\n\t\tXCAL.HOLIDAY := HOLY.Y;\n\t\tXCAL.HOLY_NAME := HOLY.NAME;\n\t\tsun(latitude := XCAL.LATITUDE, longitude := XCAL.LONGITUDE, utc := DT_TO_DATE(XCAL.UTC), H := H);\n\t\tXCAL.SUN_RISE := DINT_TO_UDINT(UDINT_TO_DINT(sun.sun_rise) + INT_TO_DINT(XCAL.OFFSET) * DINT#60000 + SEL_DINT(XCAL.DST_ON, DINT#0, DINT#3600000));\n\t\tXCAL.SUN_SET := DINT_TO_UDINT(UDINT_TO_DINT(sun.sun_set) + INT_TO_DINT(XCAL.OFFSET) * DINT#60000 + SEL_DINT(XCAL.DST_ON, DINT#0, DINT#3600000));\n\t\tXCAL.SUN_MIDDAY := DINT_TO_UDINT(UDINT_TO_DINT(sun.midday) + INT_TO_DINT(XCAL.OFFSET) * DINT#60000 + SEL_DINT(XCAL.DST_ON, DINT#0, DINT#3600000));\n\t\tXCAL.SUN_HEIGTH := sun.sun_declination;\n\t\tXCAL.WORK_WEEK := WORK_WEEK(XCAL.LDATE);\n\tEND_IF;\n\n\t(* 每10秒计算太阳的位置，当SPE为TRUE时 *)\n\tIF SPE AND XCAL.UTC - plast >= TIME_TO_UDINT(t#25s) THEN\n\t\tplast := last;\n\t\tpos(latitude := XCAL.LATITUDE, longitude := XCAL.LONGITUDE, utc := XCAL.UTC);\n\t\tXCAL.SUN_HOR := pos.B;\n\t\tXCAL.SUN_VER := pos.HR;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SPE",
          "type": "BOOL",
          "description": "输入参数SPE"
        },
        {
          "name": "H",
          "type": "REAL",
          "description": "输入参数H"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过虚拟地址和功能码来访问并计算物理地址的ST代码是什么",
      "input": "",
      "output": "VAR_IN_OUT\n\tVMAP : oscat_MB_VMAP;\nEND_VAR\n\nVAR_INPUT\n\tFC : INT;\n\tV_ADR : INT;(*虚拟地址*)\n\tV_CNT : INT;\n\tSIZE : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tP_ADR : INT;(*物理地址*)\n\tP_BIT : INT;(*物理地址*)\n\tERROR : BYTE;\nEND_VAR\n\nVAR\n\ti : INT;\n\tvopt : DWORD;\n\tvadr : INT;\n\tpadr : INT;\n\tmask : DWORD;\n\tvsize : INT;\n\tw_tmp : WORD;\n\ti_tmp : INT;\n\tinit : BOOL;\nEND_VAR\n\nIF init = FALSE THEN\n\tinit := TRUE;\n\tIF VMAP[1].FC = DWORD#0 THEN\n\t\tVMAP[1].FC := DWORD#16#FFFF_FFFF;\n\t\tVMAP[1].V_ADR := 0;\n\t\tVMAP[1].V_SIZE := 256;\n\t\tVMAP[1].P_ADR := 0;\n\tEND_IF;\nEND_IF;\n\nERROR := BYTE#02; (* 非法数据地址 *)\nmask := SHL(DWORD#1,FC);\n\nIF (mask AND DWORD#2#00000000_01000000_00000000_01100000) <> DWORD#0 THEN (* FC 5,6,22 *)\n\tV_CNT := 1;\nELSIF V_CNT = 0 THEN\n\tRETURN;\nEND_IF;\n\nFOR i := 1 TO 10 DO\n\tvopt := VMAP[i].FC;\n\tIF (vopt AND mask) <> DWORD#0 THEN\n\t\tvadr := VMAP[i].V_ADR;\n\t\tvsize := VMAP[i].V_SIZE;\n\t\tpadr := VMAP[i].P_ADR;\n\n\t\tIF (mask AND DWORD#2#00000000_00000000_10000000_00100110) <> DWORD#0 THEN (* FC 1,2,5,15 用于位访问 *)\n\t\t\ti_tmp := WORD_TO_INT(SHR(INT_TO_WORD(V_ADR + V_CNT -1),4))+1;\n\t\t\tIF i_tmp <= SIZE AND i_tmp <= vsize THEN\n\t\t\t\tw_tmp := INT_TO_WORD(V_ADR);\n\t\t\t\tP_ADR := WORD_TO_INT(SHR(w_tmp,4)) + padr;\n\t\t\t\tP_BIT := WORD_TO_INT(w_tmp AND WORD#16#000F);\n\t\t\t\tERROR := BYTE#0;\n\t\t\t\tEXIT;\n\t\t\tEND_IF;\n\t\tELSIF (mask AND DWORD#2#00000000_11000001_00000000_01011000) <> DWORD#0 THEN (* FC 3,4,6,16,22,23 用于寄存器访问 *)\n\t\t\tIF V_ADR >= vadr AND V_ADR + V_CNT <= vadr + vsize THEN (* 有效虚拟范围 *)\n\t\t\t\tP_ADR := V_ADR - vadr + padr; (* 计算物理地址 *)\n\t\t\t\tIF P_ADR + V_CNT <= SIZE THEN (* 超出范围？ *)\n\t\t\t\t\tERROR := BYTE#0;\n\t\t\t\t\tEXIT;\n\t\t\t\tEND_IF;\n\t\t\tEND_IF;\n\t\tELSE\n\t\t\tERROR := BYTE#01; (* 非法功能 *)\n\t\t\tRETURN;\n\t\tEND_IF;\n\tEND_IF;\nEND_FOR;\n\nIF ERROR = BYTE#0 THEN\n\tIF (mask AND DWORD#2#00000000_11000001_10000000_01100000) <> DWORD#0 THEN (* FC 5,6,15,16,22,23 写入访问 *)\n\t\tVMAP[i].TIME_OUT := T#1ms;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "FC",
          "type": "INT",
          "description": "输入参数FC"
        },
        {
          "name": "V_ADR",
          "type": "INT",
          "description": "输入参数V_ADR"
        },
        {
          "name": "V_CNT",
          "type": "INT",
          "description": "输入参数V_CNT"
        },
        {
          "name": "SIZE",
          "type": "INT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "P_ADR",
          "type": "INT",
          "description": "输出参数P_ADR"
        },
        {
          "name": "P_BIT",
          "type": "INT",
          "description": "输出参数P_BIT"
        },
        {
          "name": "ERROR",
          "type": "BYTE",
          "description": "输出参数ERROR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用st语言，在输入的字符串中从指定位置开始查找子字符串，并返回第一次出现的位置",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\n\tSRC : STRING;\n\tPOS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFINDP : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tls : INT;\n\tlx : INT;\n\tstp : INT;\n\tst_tmp : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FINDP\nIEC_LANGUAGE: ST\n*)\nls := LEN(str);\nlx := LEN(src);\nIF ls < lx OR lx = 0 THEN RETURN; END_IF;\nstp := ls - lx + 1;\nFOR i := MAX(pos,1) TO stp DO\n\tst_tmp := MID(str,lx,i);\n\tIF EQ_STRING(st_tmp,src) THEN\n\t\tFINDP := i;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nFINDP := 0;",
      "description": "子字符串查找函数，从指定位置开始搜索子字符串的第一次出现位置。支持从任意位置开始的前向搜索，适用于文本解析、配置参数查找、关键字定位等应用。函数包含边界检查和长度验证，确保搜索的安全性和准确性。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "被搜索的主字符串"
        },
        {
          "name": "SRC",
          "type": "STRING",
          "description": "要查找的子字符串"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "搜索起始位置"
        }
      ],
      "outputs": [
        {
          "name": "FINDP",
          "type": "INT",
          "description": "子字符串位置(0表示未找到)"
        }
      ],
      "library_dependency": "OSCAT库: EQ_STRING, MID, LEN函数",
      "iec_standard": "IEC 61131-3 字符串搜索算法，子串匹配",
      "tags": [
        "子字符串查找",
        "文本搜索",
        "配置解析",
        "关键字定位",
        "参数查找",
        "字符串匹配"
      ]
    },
    {
      "instruction": "如何用st语言将输入频率F转换为周期时间",
      "input": "",
      "output": "VAR_INPUT\n\tF : REAL;\nEND_VAR\n\nF_TO_PT := DWORD_TO_TIME(_REAL_TO_DWORD(1.0 / F * 1000.0));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "F",
          "type": "REAL",
          "description": "频率参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算数组的方差怎么用ST语言编程",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_VAR : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\tavg : REAL;\nEND_VAR\n\n(* 首先我们计算数组的算术平均值 *)\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\navg := pt[1];\nFOR i := 2 TO stop DO\n\tavg := avg + pt[i];\nEND_FOR;\navg := avg / INT_TO_REAL(stop);\n\n(* 第二步我们计算数组的方差 *)\narray_var := EXPT(pt[1] - avg, 2.0);\nFOR i := 2 TO stop DO\n\tarray_var := array_var + EXPT(pt[i] - avg, 2.0);\nEND_FOR;\narray_var := array_var / INT_TO_REAL(stop-1);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_VAR",
          "type": "REAL",
          "description": "输出参数ARRAY_VAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个JK触发器",
      "input": "",
      "output": "FUNCTION_BLOCK FF_JKE\nVAR_INPUT\nSET :BOOL;\nJ :BOOL;\nCLK :BOOL;\nK :BOOL;\nRST :BOOL;\nEND_VAR\n\nVAR_OUTPUT\nQ :BOOL;\nEND_VAR\n\nVAR\nedge :BOOL;\nEND_VAR\n\nIF rst OR set THEN\nQ := NOT rst;\nELSIF clk AND NOT edge THEN\nIF J XOR K THEN Q := J;\nELSE Q := K XOR Q;\nEND_IF;\nEND_IF;\nedge := CLK;\nEND_FUNCTION_BLOCK",
      "description": "JK触发器功能块实现，支持同步置位/复位功能。当RST为高电平时异步复位，SET为高电平时异步置位。在时钟上升沿根据J、K输入决定输出状态：J≠K时Q=J；J=K=1时Q翻转；J=K=0时保持。广泛应用于时序逻辑电路、状态机设计、计数器等工业控制场景。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "异步置位信号，高电平有效"
        },
        {
          "name": "J",
          "type": "BOOL",
          "description": "JK触发器J输入端"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟输入信号，上升沿触发"
        },
        {
          "name": "K",
          "type": "BOOL",
          "description": "JK触发器K输入端"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "异步复位信号，高电平有效"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "触发器输出信号"
        }
      ],
      "library_dependency": "无特殊库依赖，使用标准IEC 61131-3功能",
      "iec_standard": "IEC 61131-3 基本功能块，符合数字逻辑设计标准",
      "tags": [
        "触发器",
        "时序逻辑",
        "数字电路",
        "状态机",
        "工业控制",
        "PLC编程"
      ]
    },
    {
      "instruction": "如何在plc上计算镍传感器在-60℃到+180℃温度范围内的电阻值",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tR0 : REAL;\nEND_VAR\n\nVAR\n\tT2 : REAL;\nEND_VAR\n\nT2 := T * T;\nRes_NI := R0 + 0.5485 * T + 0.665E-3 * T2 + 2.805E-9 * T2 * T2;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "R0",
          "type": "REAL",
          "description": "输入参数R0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何在plc上计算复数X的余弦值",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCCOS : oscat_complex;\nEND_VAR\n\nVAR\n\tCSET : CSET;\n\tCCOSH : CCOSH;\nEND_VAR\n\nCSET(RE := -X.im, IM := X.re);\nCCOSH(X := CSET.CSET);\nCCOS := CCOSH.CCOSH;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CCOS",
          "type": "oscat_complex",
          "description": "输出参数CCOS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "plc如何在网络通信中双向传输数据",
      "input": "",
      "output": "VAR_INPUT\n\tIN_REAL1 : REAL;\n\tIN_REAL2 : REAL;\n\tIN_DINT1 : DINT;\n\tIN_DINT2 : DINT;\n\tIN_UDINT1 : UDINT;\n\tIN_UDINT2 : UDINT;\n\tIN_DWORD1 : DWORD;\n\tIN_DWORD2 : DWORD;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT_REAL1 : REAL;\n\tOUT_REAL2 : REAL;\n\tOUT_DINT1 : DINT;\n\tOUT_DINT2 : DINT;\n\tOUT_UDINT1 : UDINT;\n\tOUT_UDINT2 : UDINT;\n\tOUT_DWORD1 : DWORD;\n\tOUT_DWORD2 : DWORD;\n\tID : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_NET_VAR_DATA;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ti : INT;\n\ti2 : INT;\n\tindex : INT;\n\tindex2 : INT;\n\tREAL_TO_DW : REAL_TO_DW;\n\tDW_TO_REAL : DW_TO_REAL;\n\tra : oscat_nv_dw;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tID := USINT_TO_BYTE(X.ID_MAX);\nEND_IF;\n\nIF X.STATE > BYTE#0 AND X.ERROR_ID = BYTE#0 THEN\n\tindex := X.index; (* PCWORX 工作区解决方案 *)\n\tIF INT_TO_UINT(index + 34) > X.BUF_SIZE THEN (* ID (1) + TYPE (1) + 8 x DWORD (4) *)\n\t\tX.ERROR_ID := ID;\n\tELSE\n\t\tIF X.STATE = BYTE#1 THEN (* 写入数据 *)\n\t\t\tREAL_TO_DW(X:=IN_REAL1);\n\t\t\tra[1] := REAL_TO_DW.REAL_TO_DW;\n\t\t\tREAL_TO_DW(X:=IN_REAL2);\n\t\t\tra[2] := REAL_TO_DW.REAL_TO_DW;\n\t\t\tra[3] := DINT_TO_DWORD(IN_DINT1);\n\t\t\tra[4] := DINT_TO_DWORD(IN_DINT2);\n\t\t\tra[5] := UDINT_TO_DWORD(IN_UDINT1);\n\t\t\tra[6] := UDINT_TO_DWORD(IN_UDINT2);\n\t\t\tra[7] := IN_DWORD1;\n\t\t\tra[8] := IN_DWORD2;\n\t\t\tX.S_BUF.BUFFER[index] := ID; (* ID *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE#21; (* 类型 X8 *)\n\t\t\tindex := index + 1;\n\t\t\tFOR i2 := 1 TO 8 DO;\n\t\t\t\tFOR i := 1 TO 4 DO;\n\t\t\t\t\tX.S_BUF.BUFFER[index] := DWORD_TO_BYTE(ra[i2]);\n\t\t\t\t\tra[i2] := ROR(ra[i2],8);\n\t\t\t\t\tindex := index + 1;\n\t\t\t\tEND_FOR;\n\t\t\tEND_FOR;\n\t\tELSIF X.STATE = BYTE#2 THEN (* 读取数据 *)\n\t\t\tindex2 := index + 1; (* PCWORX 工作区解决方案 *)\n\t\t\tIF X.R_BUF.BUFFER[index] <> ID OR X.R_BUF.BUFFER[index2] <> BYTE#21 THEN (* 类型 X8 *)\n\t\t\t\tX.ERROR_ID := ID;\n\t\t\tELSE\n\t\t\t\tindex := index + 2;\n\t\t\t\tFOR i2 := 1 TO 8 DO;\n\t\t\t\t\tra[i2] := DWORD#0;\n\t\t\t\t\tFOR i := 1 TO 4 DO;\n\t\t\t\t\t\tra[i2] := ra[i2] OR BYTE_TO_DWORD(X.R_BUF.BUFFER[index]);\n\t\t\t\t\t\tra[i2] := ROR(ra[i2],8);\n\t\t\t\t\t\tindex := index + 1;\n\t\t\t\t\tEND_FOR;\n\t\t\t\tEND_FOR;\n\t\t\t\tDW_TO_REAL(X:=ra[1]);\n\t\t\t\tOUT_REAL1 := DW_TO_REAL.DW_TO_REAL;\n\t\t\t\tDW_TO_REAL(X:=ra[2]);\n\t\t\t\tOUT_REAL2 := DW_TO_REAL.DW_TO_REAL;\n\t\t\t\tOUT_DINT1 := DWORD_TO_DINT(ra[3]);\n\t\t\t\tOUT_DINT2 := DWORD_TO_DINT(ra[4]);\n\t\t\t\tOUT_UDINT1 := DWORD_TO_UDINT(ra[5]);\n\t\t\t\tOUT_UDINT2 := DWORD_TO_UDINT(ra[6]);\n\t\t\t\tOUT_DWORD1 := ra[7];\n\t\t\t\tOUT_DWORD2 := ra[8];\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tX.index := index;\nEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN_REAL1",
          "type": "REAL",
          "description": "输入参数IN_REAL1"
        },
        {
          "name": "IN_REAL2",
          "type": "REAL",
          "description": "输入参数IN_REAL2"
        },
        {
          "name": "IN_DINT1",
          "type": "DINT",
          "description": "输入参数IN_DINT1"
        },
        {
          "name": "IN_DINT2",
          "type": "DINT",
          "description": "输入参数IN_DINT2"
        },
        {
          "name": "IN_UDINT1",
          "type": "UDINT",
          "description": "输入参数IN_UDINT1"
        },
        {
          "name": "IN_UDINT2",
          "type": "UDINT",
          "description": "输入参数IN_UDINT2"
        },
        {
          "name": "IN_DWORD1",
          "type": "DWORD",
          "description": "输入参数IN_DWORD1"
        },
        {
          "name": "IN_DWORD2",
          "type": "DWORD",
          "description": "输入参数IN_DWORD2"
        }
      ],
      "outputs": [
        {
          "name": "OUT_REAL1",
          "type": "REAL",
          "description": "输出参数OUT_REAL1"
        },
        {
          "name": "OUT_REAL2",
          "type": "REAL",
          "description": "输出参数OUT_REAL2"
        },
        {
          "name": "OUT_DINT1",
          "type": "DINT",
          "description": "输出参数OUT_DINT1"
        },
        {
          "name": "OUT_DINT2",
          "type": "DINT",
          "description": "输出参数OUT_DINT2"
        },
        {
          "name": "OUT_UDINT1",
          "type": "UDINT",
          "description": "输出参数OUT_UDINT1"
        },
        {
          "name": "OUT_UDINT2",
          "type": "UDINT",
          "description": "输出参数OUT_UDINT2"
        },
        {
          "name": "OUT_DWORD1",
          "type": "DWORD",
          "description": "输出参数OUT_DWORD1"
        },
        {
          "name": "OUT_DWORD2",
          "type": "DWORD",
          "description": "输出参数OUT_DWORD2"
        },
        {
          "name": "ID",
          "type": "BYTE",
          "description": "输出参数ID"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何判断输入的日期是否位于闰年中的特定时间段？用st语言编程",
      "input": "",
      "output": "VAR_INPUT\nIDATE : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LEAP_OF_DATE\nIEC_LANGUAGE: ST\n*)\nLEAP_OF_DATE := SHL(UDINT_TO_DWORD((idate + UDINT#43200) / UDINT#31557600), 30) = DWORD#16#80000000;",
      "description": "LEAP_OF_DATE功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "比较输入的设备代码和密钥代码与预设的设备和密钥是否相同。给出PLC程序",
      "input": "",
      "output": "VAR_INPUT\n\tCMD : BOOL;\n\tDEV_CODE : STRING;\n\tKEY_CODE : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tDEV : STRING;\n\tKEY : STRING;\nEND_VAR\n\nQ := cmd AND EQ_STRING(dev_code,dev) AND EQ_STRING(key_code,key);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CMD",
          "type": "BOOL",
          "description": "输入参数CMD"
        },
        {
          "name": "DEV_CODE",
          "type": "STRING",
          "description": "输入参数DEV_CODE"
        },
        {
          "name": "KEY_CODE",
          "type": "STRING",
          "description": "输入参数KEY_CODE"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算输入值IN除以除数的余数",
      "input": "",
      "output": "VAR_INPUT\n\tIN : INT;\n\tDIVISOR : INT;\nEND_VAR\n\nIF IN = 0 THEN\n\t_MOD_INT := 0;\nELSE\n\t_MOD_INT := IN MOD DIVISOR;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "INT",
          "description": "输入信号值"
        },
        {
          "name": "DIVISOR",
          "type": "INT",
          "description": "输入参数DIVISOR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入信号和计时器的状态，控制消息的输出，给出PLC程序",
      "input": "",
      "output": "VAR_INPUT\n\tM0 : STRING;\n\tM1 : STRING;\n\tM2 : STRING;\n\tM3 : STRING;\n\tMM : INT := 3;\n\tENQ : BOOL := TRUE;\n\tCLK : BOOL := TRUE;\n\tT1 : TIME := T#3s;\nEND_VAR\n\nVAR_OUTPUT\n\tMX : STRING;\n\tMN : INT;\n\tTR : BOOL;\nEND_VAR\n\nVAR\n\ttimer : TON;\n\tedge : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MESSAGE_4R\nIEC_LANGUAGE: ST\n*)\n(* 检查 EN 上升沿 *)\nTR := FALSE;\nIF ENQ THEN\n\tIF (NOT edge AND clk) OR timer.q THEN\n\t\tMN := INC1(MN, MM);\n\t\tTR := TRUE;\n\t\ttimer(in := FALSE);\n\t\tCASE MN OF\n\t\t\t0 : MX := M0;\n\t\t\t1 : MX := M1;\n\t\t\t2 : MX := M2;\n\t\t\t3 : MX := M3;\n\t\tEND_CASE;\n\tEND_IF;\n\tedge := clk;\ntimer( in := CLK, pt := T1);\nELSE\n\tMX := '';\n\tMN := 0;\nEND_IF;",
      "description": "MESSAGE_4R功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "M0",
          "type": "STRING",
          "description": "输入参数M0"
        },
        {
          "name": "M1",
          "type": "STRING",
          "description": "输入参数M1"
        },
        {
          "name": "M2",
          "type": "STRING",
          "description": "输入参数M2"
        },
        {
          "name": "M3",
          "type": "STRING",
          "description": "输入参数M3"
        },
        {
          "name": "MM",
          "type": "INT",
          "description": "输入参数MM"
        },
        {
          "name": "ENQ",
          "type": "BOOL",
          "description": "请求信号，触发功能块执行"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "T1",
          "type": "TIME",
          "description": "输入参数T1"
        }
      ],
      "outputs": [
        {
          "name": "MX",
          "type": "STRING",
          "description": "消息输出"
        },
        {
          "name": "MN",
          "type": "INT",
          "description": "消息编号"
        },
        {
          "name": "TR",
          "type": "BOOL",
          "description": "传输信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据STATE状态的变化记录数据到循环缓冲区怎么用ST语言实现",
      "input": "",
      "output": "VAR_INPUT\n\tSTATE : BOOL;\n\tOFF : STRING;\n\tON : STRING;\n\tCOLUMN : oscat_STRING40;\n\tDELTA : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_DLOG_DATA;\nEND_VAR\n\nVAR\n\tucb : UNI_CIRCULAR_BUFFER;\n\tinit : BOOL;\n\tid : WORD;\n\tlast_delta : BOOL;\n\tstate_last : BOOL;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tid := WORD#16#0601; (* Quelltype BOOL, Zieltype STRING )\nEND_IF;\n\nIF X.ADD_HEADER THEN\n\tX.UCB.D_STRING := COLUMN;\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\nELSIF X.ADD_DATA THEN\n\tX.UCB.D_STRING := SEL_STRING(state_last, OFF, ON);\n\tX.UCB.D_HEAD := id;\n\tX.UCB.D_MODE := 1;\n\tUCB(DATA := X.UCB); (* 数据写入 *)\n\tX.UCB := UCB.DATA;\n\tlast_delta := STATE;\nELSIF DELTA AND (STATE XOR last_delta) THEN\n\tX.ADD_DATA_REQ := TRUE;\n\tlast_delta := STATE;\nEND_IF;\nstate_last := STATE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STATE",
          "type": "BOOL",
          "description": "输入参数STATE"
        },
        {
          "name": "OFF",
          "type": "STRING",
          "description": "关闭阈值"
        },
        {
          "name": "ON",
          "type": "STRING",
          "description": "开启阈值"
        },
        {
          "name": "COLUMN",
          "type": "oscat_STRING40",
          "description": "输入参数COLUMN"
        },
        {
          "name": "DELTA",
          "type": "BOOL",
          "description": "输入参数DELTA"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    }
  ],
  "val": [
    {
      "instruction": "根据输入的条件，计算其在指定范围内的缩放值的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tX : DWORD;\n\tI_LO : DWORD;\n\tI_HI : DWORD;\n\tO_LO : REAL;\n\tO_HI : REAL;\nEND_VAR\n\nIF I_HI = I_LO THEN\n\tSCALE_D := O_LO;\nELSE\n\tSCALE_D := (O_HI - O_LO) / UDINT_TO_REAL(DWORD_TO_UDINT(I_HI) - DWORD_TO_UDINT(I_LO)) * UDINT_TO_REAL(LIMIT(DWORD_TO_UDINT(I_LO), DWORD_TO_UDINT(X), DWORD_TO_UDINT(I_HI)) - DWORD_TO_UDINT(I_LO)) + O_LO;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "DWORD",
          "description": "输入参数值"
        },
        {
          "name": "I_LO",
          "type": "DWORD",
          "description": "输入参数I_LO"
        },
        {
          "name": "I_HI",
          "type": "DWORD",
          "description": "输入参数I_HI"
        },
        {
          "name": "O_LO",
          "type": "REAL",
          "description": "输入参数O_LO"
        },
        {
          "name": "O_HI",
          "type": "REAL",
          "description": "输入参数O_HI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么实现BASE64编码解码功能",
      "input": "",
      "output": "VAR_IN_OUT\n\tBUF1 : oscat_aB0_63;\n\tBUF2 : oscat_aB0_47;\nEND_VAR\n\nVAR_INPUT\n\tSIZE1 : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tSIZE2 : INT;\nEND_VAR\n\nVAR\n\ta : INT;\n\tb : WORD;\n\to : INT;\n\toff : INT;\n\ti1 : INT;\n\ti2 : INT;\n\tc : INT;\nEND_VAR\n\nIF SIZE1 <= 0 THEN SIZE2 := 0; RETURN; END_IF;\nc := SIZE1 - 1;\ni2 := 0;\na := 0;\nb := WORD#0;\nFOR i1 := 0 TO c DO\n\to := BYTE_TO_INT(BUF1[i1]);\n\tIF o = 61 THEN EXIT;\n\tELSIF o > 96 THEN off := 71;\n\tELSIF o > 64 THEN off := 65;\n\tELSIF o > 47 THEN off := -4;\n\tELSIF o = 43 THEN off := -19;\n\tELSIF o = 47 THEN off := -16;\n\tEND_IF;\n\tb := SHL_WORD(b, 6) OR INT_TO_WORD(o - off);\n\ta := a + 6;\n\tIF a >= 8 THEN\n\t\ta := a - 8;\n\t\tBUF2[i2] := WORD_TO_BYTE(SHR(b, a));\n\t\ti2 := i2 + 1;\n\t\tb := b AND NOT SHL(WORD#16#FFFF, a);\n\tEND_IF;\nEND_FOR;\nSIZE2 := i2;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE1",
          "type": "INT",
          "description": "输入参数SIZE1"
        }
      ],
      "outputs": [
        {
          "name": "SIZE2",
          "type": "INT",
          "description": "输出参数SIZE2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "PLC怎么从备份中恢复字符和颜色数据，并更新屏幕的相应区域",
      "input": "",
      "output": "VAR\n\tin_Offset_1 : INT;\n\tin_Offset_2 : INT;\n\tin_Y : INT;\n\tin_X : INT;\n\tin_Y1 : INT;\n\tin_X1 : INT;\n\tin_Y2 : INT;\n\tin_X2 : INT;\nEND_VAR\n\n(*Group:IN_OUT*)\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF Xus_TN_SCREEN.bya_BACKUP[0] > BYTE#00 THEN\n\n\t(* 读取参数 *)\n\tin_X1 := _BYTE_TO_INT(Xus_TN_SCREEN.bya_BACKUP[1]);\n\tin_Y1 := _BYTE_TO_INT(Xus_TN_SCREEN.bya_BACKUP[2]);\n\tin_X2 := _BYTE_TO_INT(Xus_TN_SCREEN.bya_BACKUP[3]);\n\tin_Y2 := _BYTE_TO_INT(Xus_TN_SCREEN.bya_BACKUP[4]);\n\n\tIF TN_SC_XY2_ERROR(in_X1,in_Y1,in_X2,in_Y2) THEN RETURN; END_IF;\n\tin_Offset_2 := 5;\n\n\t(* 恢复BUFFER中的字符和颜色 *)\n\tFOR in_Y := in_Y1 TO in_Y2 DO\n\n\t\tXus_TN_SCREEN.bya_Line_Update[in_Y] := TRUE; (* 释放更新行 *)\n\t\tin_Offset_1 := (in_Y * 80) + in_X1;\n\n\t\tFOR in_X := in_X1 TO in_X2 DO\n\n\t\t\tXus_TN_SCREEN.bya_CHAR[in_Offset_1] := Xus_TN_SCREEN.bya_BACKUP[in_Offset_2];\n\t\t\tin_Offset_2 := in_Offset_2 + INT#01;\n\n\t\t\tXus_TN_SCREEN.bya_COLOR[in_Offset_1] := Xus_TN_SCREEN.bya_BACKUP[in_Offset_2];\n\t\t\tin_Offset_2 := in_Offset_2 + INT#01;\n\t\t\tin_Offset_1 := in_Offset_1 + INT#01;\n\n\t\tEND_FOR;\n\n\tEND_FOR;\n\n\tXus_TN_SCREEN.bya_BACKUP[0] := BYTE#00;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个16Dword大小的先进先出内存功能块",
      "input": "",
      "output": "VAR_INPUT\n\tDIN : DWORD;\n\tE : BOOL := TRUE;\n\tRD : BOOL;\n\tWD : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDOUT : DWORD;\n\nEMPTY : BOOL := TRUE;\n\tFULL : BOOL;\nEND_VAR\n\nVAR\n\tfifo : oscat_ardw_0_15;\n\tpr : INT;\n\tpw : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FIFO_16\nIEC_LANGUAGE: ST\n*)\nIF RST THEN\n\tpw := pr;\n\tFULL := FALSE;\n\tEMPTY := TRUE;\n\tDout := DWORD#0;\nELSIF E THEN\n\tIF NOT EMPTY AND RD THEN\n\t\tDout := fifo[pr];\n\t\tpr := INC1(pr,16);\n\t\tEMPTY := pr = pw;\n\t\tFULL := FALSE;\n\tEND_IF;\n\tIF NOT FULL AND WD THEN\n\t\tfifo[pw] := Din;\n\t\tpw := INC1(pw,16);\n\t\tFULL := pw = pr;\n\t\tEMPTY := FALSE;\n\tEND_IF;\nEND_IF;",
      "description": "16位双字FIFO（先进先出）缓冲区实现，支持读写操作和状态指示。使用环形缓冲区算法管理16个DWORD数据，提供空/满状态指示。适用于数据缓存、通信缓冲、生产消费队列等工业应用场景。",
      "inputs": [
        {
          "name": "DIN",
          "type": "DWORD",
          "description": "写入数据输入"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号，控制FIFO操作"
        },
        {
          "name": "RD",
          "type": "BOOL",
          "description": "读信号，高电平有效"
        },
        {
          "name": "WD",
          "type": "BOOL",
          "description": "写信号，高电平有效"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，清空FIFO"
        }
      ],
      "outputs": [
        {
          "name": "DOUT",
          "type": "DWORD",
          "description": "读出数据输出"
        },
        {
          "name": "EMPTY",
          "type": "BOOL",
          "description": "FIFO空状态指示"
        },
        {
          "name": "FULL",
          "type": "BOOL",
          "description": "FIFO满状态指示"
        }
      ],
      "library_dependency": "OSCAT库: oscat_ardw_0_15数组类型, INC1函数",
      "iec_standard": "IEC 61131-3 数组操作，环形缓冲区管理",
      "tags": [
        "FIFO",
        "缓冲区",
        "数据队列",
        "环形缓冲",
        "先进先出",
        "数据缓存"
      ]
    },
    {
      "instruction": "计算热指数的ST语言代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tRH : REAL;\nEND_VAR\n\nVAR\n\tRH2 : REAL;\n\tT2 : REAL;\n\tTX : REAL;\nEND_VAR\n\nIF RH < 20.0 OR T < 20.0 THEN\n\tHEAT_INDEX := T;\nELSE\n\tTX := T;\n\tRH2 := RH * RH;\n\tTX := C_TO_F(TX);\n\tT2 := TX * TX;\n\tHEAT_INDEX := -42.379 + 2.04901523 * TX - 6.83783E-3 * T2\n\t\t+ RH * (10.1433127 - 0.22475541 * TX + 1.22874E-3 * T2)\n\t\t+ RH2 * (8.5282E-4 * TX - 5.481717E-2 - 1.99E-6 * T2);\n\tHEAT_INDEX := F_TO_C(HEAT_INDEX);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "RH",
          "type": "REAL",
          "description": "输入参数RH"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么使用st语言根据输入的高度计算大气折射率",
      "input": "",
      "output": "VAR_INPUT\n\tELEV : REAL;\nEND_VAR\n\nVAR\n\ttmp : REAL;\nEND_VAR\n\ntmp := LIMIT(-1.9, elev, 80.0);\nREFRACTION := 0.0174532925199433 / TAN(0.0174532925199433 * (tmp + 10.3 / (tmp + 5.11)));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ELEV",
          "type": "REAL",
          "description": "输入参数ELEV"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST语言计算给定年份的总天数",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nIF LEAP_OF_DATE(IDATE) THEN\n\tDAYS_IN_YEAR := 366;\nELSE\n\tDAYS_IN_YEAR := 365;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么通过plc计算圆锥体的体积",
      "input": "",
      "output": "VAR_INPUT\n\tTR : REAL;\n\tH : REAL;\nEND_VAR\n\nTANK_VOL2 := 3.14159265358979323846264338327950288 * H * H * (TR - H / 3.0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "TR",
          "type": "REAL",
          "description": "输入参数TR"
        },
        {
          "name": "H",
          "type": "REAL",
          "description": "输入参数H"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用ST代码实现对布尔信号的手动覆盖控制",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tENA : BOOL;\n\tON : BOOL;\n\tOFF : BOOL;\n\tMAN : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MANUAL_2\nIEC_LANGUAGE: ST\n*)\nIF ena THEN\n\tIF NOT ON AND NOT OFF THEN\n\t\tQ := IN;\n\t\tSTATUS := BYTE#100;\n\tELSIF on AND NOT off THEN\n\t\tQ := TRUE;\n\t\tSTATUS := BYTE#101;\n\tELSIF NOT on AND off THEN\n\t\tq := FALSE;\n\t\tSTATUS := BYTE#102;\n\tELSE\n\t\tQ := MAN;\n\t\tSTATUS := BYTE#103;\n\tEND_IF;\nELSE\n\tQ := FALSE;\n\tSTATUS := BYTE#104;\nEND_IF;",
      "description": "MANUAL_2功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "ENA",
          "type": "BOOL",
          "description": "输入参数ENA"
        },
        {
          "name": "ON",
          "type": "BOOL",
          "description": "开启阈值"
        },
        {
          "name": "OFF",
          "type": "BOOL",
          "description": "关闭阈值"
        },
        {
          "name": "MAN",
          "type": "BOOL",
          "description": "手动模式"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "基于st代码判断输入字节是否为十六进制字符",
      "input": "",
      "output": "VAR_INPUT\nIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: ISC_HEX\nIEC_LANGUAGE: ST\n*)\nISC_HEX := (IN > BYTE#47 AND IN < BYTE#58) OR (IN > BYTE#64 AND IN < BYTE#71) OR (IN > BYTE#96 AND IN < BYTE#103);",
      "description": "ISC_HEX功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST语言对输入信号的脉冲进行计数",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tT_LONG : TIME := T#500ms;\nEND_VAR\n\nVAR_OUTPUT\n\tSINGLE : BOOL;\n\tDOUBLE : BOOL;\n\tLONG : BOOL;\n\tTP_LONG : BOOL;\nEND_VAR\n\nVAR\n\tTimer : TP;\n\tcnt : INT;\n\tlast : BOOL;\nEND_VAR\n\n(* 当输入为高时，启动定时器解码脉冲 *)\ntimer(in := IN, PT := T_LONG);\nsingle := FALSE;\ndouble := FALSE;\n\nIF timer.Q THEN\n\t(* 在定时器激活时解码脉冲 *)\n\tIF NOT in AND last THEN cnt := cnt + 1; END_IF;\nELSE\n\tCASE cnt OF\n\t\t1 : single := TRUE;\n\t\t2 : double := TRUE;\n\tEND_CASE;\n\tcnt := 0;\nEND_IF;\nlast := in;\nTP_LONG := NOT timer.Q AND (NOT LONG) AND IN;\nLONG := NOT timer.Q AND in;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "T_LONG",
          "type": "TIME",
          "description": "输入参数T_LONG"
        }
      ],
      "outputs": [
        {
          "name": "SINGLE",
          "type": "BOOL",
          "description": "输出参数SINGLE"
        },
        {
          "name": "DOUBLE",
          "type": "BOOL",
          "description": "输出参数DOUBLE"
        },
        {
          "name": "LONG",
          "type": "BOOL",
          "description": "输出参数LONG"
        },
        {
          "name": "TP_LONG",
          "type": "BOOL",
          "description": "输出参数TP_LONG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言计算0到100摄氏度范围内液态水的比焓",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tRESULT : REAL;\nEND_VAR\n\nVAR\n\tPts : INT;\n\tdata : oscat_XY;\n\tFB_LINEAR_INT : LINEAR_INT;\nEND_VAR\n\nIF Pts = 0 THEN\n\tPts := 11;\n\tdata[01][0] := REAL#0.0;\n\tdata[01][1] := REAL#0.06;\n\tdata[02][0] := REAL#10.0;\n\tdata[02][1] := REAL#42.1;\n\tdata[03][0] := REAL#20.0;\n\tdata[03][1] := REAL#83.9;\n\tdata[04][0] := REAL#30.0;\n\tdata[04][1] := REAL#125.8;\n\tdata[05][0] := REAL#40.0;\n\tdata[05][1] := REAL#167.58;\n\tdata[06][0] := REAL#50.0;\n\tdata[06][1] := REAL#209.4;\n\tdata[07][0] := REAL#60.0;\n\tdata[07][1] := REAL#251.2;\n\tdata[08][0] := REAL#70.0;\n\tdata[08][1] := REAL#293.1;\n\tdata[09][0] := REAL#80.0;\n\tdata[09][1] := REAL#335.0;\n\tdata[10][0] := REAL#90.0;\n\tdata[10][1] := REAL#377.0;\n\tdata[11][0] := REAL#100.0;\n\tdata[11][1] := REAL#419.1;\nEND_IF;\n\nFB_LINEAR_INT(X:=T,XY:=Data,Pts:=Pts);\nRESULT := FB_LINEAR_INT.LINEAR_INT;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        }
      ],
      "outputs": [
        {
          "name": "RESULT",
          "type": "REAL",
          "description": "输出参数RESULT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st语言将输入字符串反转",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tMIRROR : STRING;\nEND_VAR\n\nVAR\n\ti : INT;\n\tst_temp : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MIRROR\nIEC_LANGUAGE: ST\n*)\nmirror := '';\ni := LEN(str);\nWHILE i > 0 DO\n\tst_temp := MID(str,1,i);\n\tmirror := CONCAT(mirror,st_temp);\n\ti := i - 1;\nEND_WHILE;",
      "description": "MIRROR功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "MIRROR",
          "type": "STRING",
          "description": "输出参数MIRROR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言实现一个带有可编程长度N的加权移动平均滤波器，用于处理REAL类型的输入数据",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tW : oscat_arr_0_15;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tbuffer : oscat_arr_0_15;\n\ti : INT;\n\tn : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILTER_WAV\nIEC_LANGUAGE: ST\n*)\n(* 启动初始化 *)\nIF NOT init OR rst THEN\n\tinit := TRUE;\n\tFOR i := 0 TO 15 DO\n\t\tbuffer[i] := X;\n\tEND_FOR;\n\ti := 15;\n\tY := X;\nELSE\n\ti := INC1(i, 16);\n\tbuffer[i] := X;\nEND_IF;\n\n(* 计算加权平均值 *)\nY := 0.0;\nFOR n := 0 TO 15 DO\n\tY := buffer[i] * W[n] + Y;\n\ti := DEC1(i, 16);\nEND_FOR;",
      "description": "16点加权移动平均滤波器，支持自定义权重系数。相比简单移动平均，加权滤波器可以强调近期数据或特定位置数据的重要性。适用于趋势预测、信号增强、噪声抑制等需要特定频率响应的应用。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入信号(实数)"
        },
        {
          "name": "W",
          "type": "oscat_arr_0_15",
          "description": "16个权重系数数组"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重新初始化缓冲区"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "加权移动平均输出"
        }
      ],
      "library_dependency": "OSCAT库: oscat_arr_0_15数组类型, INC1/DEC1函数",
      "iec_standard": "IEC 61131-3 加权平均算法，FIR滤波器实现",
      "tags": [
        "加权滤波",
        "移动平均",
        "权重系数",
        "频率响应",
        "信号增强",
        "趋势预测"
      ]
    },
    {
      "instruction": "怎么在输入信号为真的情况下生成指定持续时间的脉冲",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tPT : TIME;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tstart : TIME;\n\tix : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统定时器 *)\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF RST THEN\n\tQ := FALSE;\nELSIF IN AND NOT ix THEN\n\tQ := TRUE;\n\tstart := tx;\nELSIF tx - start >= PT THEN\n\tQ := FALSE;\nEND_IF;\n\nix := IN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何接收和解码IRTrans协议的命令",
      "input": "",
      "output": "VAR_INPUT\n\tCMD : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tDEV : STRING;\n\tKEY : STRING;\nEND_VAR\n\nVAR_INPUT\n\tDEV_CODE : STRING;\n\tKEY_CODE_0 : STRING;\n\tKEY_CODE_1 : STRING;\n\tKEY_CODE_2 : STRING;\n\tKEY_CODE_3 : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\nVAR\n\tdecode : BOOL;\nEND_VAR\n\ndecode := cmd AND EQ_STRING(dev_code,dev);\n\nQ0 := EQ_STRING(key,key_code_0) AND decode;\nQ1 := EQ_STRING(key,key_code_1) AND decode;\nQ2 := EQ_STRING(key,key_code_2) AND decode;\nQ3 := EQ_STRING(key,key_code_3) AND decode;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CMD",
          "type": "BOOL",
          "description": "输入参数CMD"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言编程将DWORD类型的输入转换为字符串并根据输入N截取到指定长度",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tN : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tDWORD_TO_STRF : STRING;\nEND_VAR\n\nVAR\n\tFIX : FIX;\nEND_VAR\n\n(* 限制 N 最大为 20 个字符 )\n( 首先将 dword 转换为字符串，并截取到长度 N *)\nFIX(str:=DWORD_TO_STRING(IN,'%u'),L:=LIMIT(0,N,20),C:=BYTE#48,M:=1);\nDWORD_TO_STRF := FIX.FIX;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [
        {
          "name": "DWORD_TO_STRF",
          "type": "STRING",
          "description": "输出参数DWORD_TO_STRF"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的值IN和布尔值P，计算其奇偶校验。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tP : BOOL;\nEND_VAR\n\nVAR\n\tin2 : DWORD;\nEND_VAR\n\nin2 := in;\ncheck_parity := NOT p;\nWHILE in2 > DWORD#0 DO\n\tcheck_parity := check_parity XOR BIT_OF_DWORD(in2,0) XOR BIT_OF_DWORD(in2,1) XOR BIT_OF_DWORD(in2,2) XOR BIT_OF_DWORD(in2,3);\n\tin2 := SHR(in2,4);\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "P",
          "type": "BOOL",
          "description": "输入参数P"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算圆的弧长",
      "input": "",
      "output": "VAR_INPUT\n\tRX : REAL;\n\tAX : REAL;\nEND_VAR\n\ncircle_C := 1.7453293E-2 * Rx * Ax;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RX",
          "type": "REAL",
          "description": "输入参数RX"
        },
        {
          "name": "AX",
          "type": "REAL",
          "description": "输入参数AX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现一个正弦波形信号生成器的ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME;\n\tAM : REAL := REAL#1.0;\n\tOS : REAL;\n\tDL : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tOut : REAL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tlast : TIME;\n\tinit : BOOL;\n\ttemp : REAL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_SIN\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间并准备输入数据 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS) - last;\nDL := modR(dl, 1.0);\nIF dl < 0.0 THEN dl := 1.0 - dl; END_IF;\n\n(* 初始化部分 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\ttx := T#0s;\nEND_IF;\n\n(* 如果一个周期已完成，更新 last *)\nIF tx >= pt THEN\n\tlast := last + pt;\n\ttx := tx - pt;\nEND_IF;\n\n(* 生成正弦波 *)\nIF pt > T#0s THEN\n\ttemp := SIN(6.283185307179586476 * TIME_TO_REAL(tx + multime(pt, dl)) / TIME_TO_REAL(pt)); END_IF;\nout := am * 0.5 * temp + os;\n\n(* 布尔输出 Q *)\nQ := NOT sign_R(temp);",
      "description": "GEN_SIN信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "AM",
          "type": "REAL",
          "description": "幅值参数"
        },
        {
          "name": "OS",
          "type": "REAL",
          "description": "偏移量参数"
        },
        {
          "name": "DL",
          "type": "REAL",
          "description": "输入参数DL"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "Out",
          "type": "REAL",
          "description": "输出参数Out"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "怎么用st语言编程判断输入字节是否为小写字母",
      "input": "",
      "output": "VAR_INPUT\nIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: ISC_LOWER\nIEC_LANGUAGE: ST\n*)\nIF SETUP_EXTENDED_ASCII(FALSE) THEN\nISC_LOWER := ((in > BYTE#96) AND (in < BYTE#123)) OR ((in > BYTE#222) AND (in <> BYTE#247));\nELSE\nISC_LOWER := ((in > BYTE#96) AND (in < BYTE#123));\nEND_IF;",
      "description": "ISC_LOWER功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "判断输入字节是否为数字字符，给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\nIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: ISC_NUM\nIEC_LANGUAGE: ST\n*)\nISC_NUM := IN > BYTE#47 AND IN < BYTE#58;",
      "description": "ISC_NUM功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "基于输入的值，使用随机数生成器生成两个随机数，并将它们转换为DWORD格式。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\nLAST : DWORD;\nEND_VAR\n\nVAR_OUTPUT\nRDMDW : DWORD;\nEND_VAR\n\nVAR\nRX : REAL;\nM : REAL;\nrdm : rdm;\nEND_VAR\n\nM := INT_TO_REAL(BIT_COUNT(last)); \nrdm(last := FRACT(M * 3.14159265358979323846264338327950288));\nRX := rdm.RDM;\nRDMDW := SHL_DWORD(_REAL_TO_DWORD(rx * 65535.0), 16);\n\nrdm(last := FRACT(M * 2.71828182845904523536028747135266249));\nRX := rdm.RDM;\nRDMDW := RDMDW OR (_REAL_TO_DWORD(rx * 65535.0) AND DWORD#16#0000FFFF);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LAST",
          "type": "DWORD",
          "description": "输入参数LAST"
        }
      ],
      "outputs": [
        {
          "name": "RDMDW",
          "type": "DWORD",
          "description": "输出参数RDMDW"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对三个输入值进行排序，并返回中间值的st语言代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : REAL;\n\tIN2 : REAL;\n\tIN3 : REAL;\nEND_VAR\n\nVAR\n\t_IN1 : REAL;\n\t_IN2 : REAL;\n\t_IN3 : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MID3\nIEC_LANGUAGE: ST\n*)\n_IN1 := IN1; (* VAR_INPUT 复制到变量，因为这些是只读的 *)\n_IN2 := IN2;\n_IN3 := IN3;\n\nIF _IN1 > _IN2 THEN MID3 := _IN1; _IN1 := _IN2; _IN2 := MID3; END_IF;\nIF _IN2 > _IN3 THEN _IN2 := _IN3; END_IF;\nMID3 := SEL(_IN1 > _IN2, _IN2, _IN1);",
      "description": "MID3功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "REAL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "REAL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "REAL",
          "description": "输入参数IN3"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个低通滤波器，具有可编程的时间常数T和增益因子K",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tT : TIME;\n\tK : REAL := 1.0;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT : REAL;\nEND_VAR\n\nVAR\n\tlast : UDINT;\n\ttx : UDINT;\n\tinit : BOOL;\n\tT_PLC_US : T_PLC_US;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PT1\nIEC_LANGUAGE: ST\n*)\n(* 读取系统时间 *)\nT_PLC_US();\n\ttx:= T_PLC_US.T_PLC_MS;\n\n(* 启动初始化 *)\nIF NOT init OR T = t#0s THEN\n\tinit := TRUE;\n\tout := K * in;\nELSE\n\tout := out + (in * K - out) * UDINT_TO_REAL(Tx - last) / TIME_TO_REAL(T) * 1.0E-3;\n\tIF ABS(out) < 1.0E-20 THEN out := 0.0; END_IF;\nEND_IF;\nlast := tx;",
      "description": "一阶低通滤波器，支持可编程时间常数和增益因子。采用高精度时间戳实现精确的滤波计算，提供增益调节和零漂抑制。适用于信号平滑、噪声抑制、动态补偿等需要可编程滤波特性的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "滤波时间常数"
        },
        {
          "name": "K",
          "type": "REAL",
          "description": "增益因子"
        }
      ],
      "outputs": [
        {
          "name": "OUT",
          "type": "REAL",
          "description": "滤波输出信号"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_US高精度时间函数",
      "iec_standard": "IEC 61131-3 一阶滤波算法，高精度实现",
      "tags": [
        "低通滤波",
        "时间常数",
        "增益调节",
        "信号平滑",
        "噪声抑制",
        "高精度滤波"
      ]
    },
    {
      "instruction": "检查字符串是否仅由字符组成",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_ALPHA : BOOL;\nEND_VAR\n\nVAR\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_ALPHA\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nIF NOT ISC_ALPHA(INT_TO_BYTE(GET_CHAR(str,pos))) THEN\nIS_ALPHA := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_ALPHA := NOT (I = 0);",
      "description": "IS_ALPHA检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_ALPHA",
          "type": "BOOL",
          "description": "输出参数IS_ALPHA"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "如何实现一个D型触发器，具有置位、复位和上升沿触发功能？给出PLC程序",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tD : BOOL;\n\tCLK : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\nEND_VAR\n\nIF RST OR SET THEN\n\tQ := NOT RST;\nELSIF CLK AND NOT edge THEN\n\tQ := D;\nEND_IF;\nedge := CLK;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "D",
          "type": "BOOL",
          "description": "输入参数D"
        },
        {
          "name": "CLK",
          "type": "BOOL",
          "description": "时钟信号输入"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言处理日期时间的格式化并将其写入循环缓冲区",
      "input": "",
      "output": "VAR_INPUT\n\tFMT : STRING := '#A-#D-#H #N:#R:#T'; (* 格式化时间字符串 *)\n\tCOLUMN : oscat_STRING40; (* 列名 *)\n\tDELTA : UDINT; (* 时间差值 *)\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_DLOG_DATA; (* 数据记录 *)\nEND_VAR\n\nVAR\n\tucb : UNI_CIRCULAR_BUFFER; (* 循环缓冲区 *)\n\tinit : BOOL; (* 初始化标志 *)\n\tid : WORD; (* 数据记录ID *)\n\tdelta_last : UDINT; (* 上次时间戳 *)\n\tDT_TO_STRF : DT_TO_STRF; (* 日期时间格式化函数 *)\nEND_VAR\n\n(* 如果未初始化，则执行初始化操作 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1; (* 增加ID *)\n\tid := WORD#16#0801; (* 设置ID，类型为UDINT到STRING的转换 *)\nEND_IF;\n\n(* 添加数据头 *)\nIF X.ADD_HEADER THEN\n\tX.UCB.D_STRING := COLUMN; (* 设置列名 *)\n\tX.UCB.D_HEAD := id; (* 设置头部ID *)\n\tX.UCB.D_MODE := 1; (* 设置模式为1 *)\n\tUCB(DATA := X.UCB); (* 将数据写入循环缓冲区 *)\n\tX.UCB := UCB.DATA; (* 更新循环缓冲区数据 *)\nELSIF X.ADD_DATA THEN\n\t(* 将日期时间格式化为字符串 *)\n\tDT_TO_STRF(DTI := X.DTI, MS := 0, FMT := FMT, LANG := 0);\n\tX.UCB.D_STRING := DT_TO_STRF.DT_TO_STRF; (* 设置格式化后的时间字符串 *)\n\tX.UCB.D_HEAD := id; (* 设置头部ID *)\n\tX.UCB.D_MODE := 1; (* 设置模式为1 *)\n\tUCB(DATA := X.UCB); (* 将数据写入循环缓冲区 *)\n\tX.UCB := UCB.DATA; (* 更新循环缓冲区数据 *)\n\tdelta_last := X.DTI; (* 更新上次时间戳 *)\nELSIF DELTA <> UDINT#0 THEN\n\t(* 如果时间差值超过设定值，则请求添加数据 *)\n\tIF X.DTI >= (delta_last + DELTA) THEN\n\t\tX.ADD_DATA_REQ := TRUE; (* 设置请求添加数据 *)\n\t\tdelta_last := X.DTI; (* 更新上次时间戳 *)\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "FMT",
          "type": "STRING",
          "description": "输入参数FMT"
        },
        {
          "name": "COLUMN",
          "type": "oscat_STRING40",
          "description": "输入参数COLUMN"
        },
        {
          "name": "DELTA",
          "type": "UDINT",
          "description": "输入参数DELTA"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "st语言怎么检查输入是否在数组中指定的四个时间区间内",
      "input": "",
      "output": "VAR_INPUT\n\tDP : oscat_PERIOD2_X;\n\tDX : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tPERIOD2 : BOOL;\nEND_VAR\n\nPERIOD2 := (DX >= DP[0][0] AND DX <= DP[0][1]) OR\n\t\t(DX >= DP[1][0] AND DX <= DP[1][1]) OR\n\t\t(DX >= DP[2][0] AND DX <= DP[2][1]) OR\n\t\t(DX >= DP[3][0] AND DX <= DP[3][1]);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DP",
          "type": "oscat_PERIOD2_X",
          "description": "输入参数DP"
        },
        {
          "name": "DX",
          "type": "UDINT",
          "description": "输入参数DX"
        }
      ],
      "outputs": [
        {
          "name": "PERIOD2",
          "type": "BOOL",
          "description": "输出参数PERIOD2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现控制百叶窗执行器的功能",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tT_UD : TIME := T#10s;\n\tT_ANGLE : TIME := T#3s;\n\tT_LOCKOUT : TIME := t#100ms;\nEND_VAR\n\nVAR_OUTPUT\n\tPOS : BYTE;\n\tANG : BYTE;\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tposition : rmp_B;\n\tangle : rmp_B;\n\tlock : interlock;\nEND_VAR\n\n(* 确保一次只有一个电机处于活动状态 *)\nlock(i1 := UP, I2 := DN, TL := T_lockout);\n\n(* 模拟百叶窗角度位置的渐变 *)\nangle(e := lock.Q1 OR lock.Q2, UP := lock.Q1, PT := T_Angle);\nposition(e := lock.Q1 AND angle.high OR lock.Q2 AND angle.low, up := lock.Q1, PT := T_UD);\n\n(* 设置输出 *)\npos := position.Out;\nang := angle.Out;\n\n(* 设置输出 *)\nQU := lock.Q1;\nQD := lock.Q2;\n\n(* 设置状态输出 *)\nIF UP AND DN THEN\n\tstatus := BYTE#1; (* 错误：不允许同时按下上下键 *)\nELSIF UP THEN\n\tstatus := BYTE#121;\nELSIF DN THEN\n\tstatus := BYTE#122;\nELSE\n\tstatus := S_IN;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "T_UD",
          "type": "TIME",
          "description": "输入参数T_UD"
        },
        {
          "name": "T_ANGLE",
          "type": "TIME",
          "description": "输入参数T_ANGLE"
        },
        {
          "name": "T_LOCKOUT",
          "type": "TIME",
          "description": "输入参数T_LOCKOUT"
        }
      ],
      "outputs": [
        {
          "name": "POS",
          "type": "BYTE",
          "description": "输出参数POS"
        },
        {
          "name": "ANG",
          "type": "BYTE",
          "description": "输出参数ANG"
        },
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输出参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输出参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言怎么通过计算圆形截面的体积来求得一个容器的体积",
      "input": "",
      "output": "VAR_INPUT\n\tTR : REAL;\n\tTL : REAL;\n\tH : REAL;\nEND_VAR\n\nTANK_VOL1 := CIRCLE_SEG(TR, H) * TL;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "TR",
          "type": "REAL",
          "description": "输入参数TR"
        },
        {
          "name": "TL",
          "type": "REAL",
          "description": "低电平时间"
        },
        {
          "name": "H",
          "type": "REAL",
          "description": "输入参数H"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么根据给定的条件计算圆锥体积",
      "input": "",
      "output": "VAR_INPUT\n\tRX : REAL;\n\tHX : REAL;\nEND_VAR\n\ncone_V := 1.047197551 * RX * RX * hx;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RX",
          "type": "REAL",
          "description": "输入参数RX"
        },
        {
          "name": "HX",
          "type": "REAL",
          "description": "输入参数HX"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的时间戳转换为自纪元以来的天数",
      "input": "",
      "output": "VAR_INPUT\n\tIDATE : UDINT;\nEND_VAR\n\nday_of_date := UDINT_TO_DINT(idate / UDINT#86400);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将输入字符串中的小写字母转换为大写字母",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tUPPERCASE : STRING;\nEND_VAR\n\nVAR\n\tchar : BYTE;\n\tchar2 : BYTE;\n\tpos : INT;\n\tl : INT;\n\tstr_temp : STRING;\nEND_VAR\n\nUPPERCASE := str;\n\tl := LEN(str);\n\tFOR pos := 1 TO l DO\n\t\tchar := INT_TO_BYTE(GET_CHAR(str,pos));\n\t\tchar2 := TO_UPPER(char);\n\t\tIF char <> char2 THEN\n\t\t\tstr_temp := UPPERCASE;\n\t\t\tUPPERCASE := REPLACE(str_temp,BYTE_TO_STRING(char2,'%c'),1,pos);\n\t\tEND_IF;\n\tEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "UPPERCASE",
          "type": "STRING",
          "description": "输出参数UPPERCASE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据不同的显示模式，更新和显示日志视图的内容",
      "input": "",
      "output": "VAR_IN_OUT\n\tLC : us_LOG_CONTROL_80;\n\tLV : us_LOG_VIEWPORT;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tcount : INT;\n\tidx : INT;\n\tbase : INT;\n\tupdate_pos : BOOL;\nEND_VAR\n\nIF LV.MOVE_TO_X <> 0 THEN\n\tCASE LV.MOVE_TO_X OF\n\t30000:\n\t\tpos := 1;\n\t30001:\n\t\tpos := LC.SIZE;\n\t30002:\n\t\tpos := pos + LV.COUNT;\n\t\tpos := pos - LV.COUNT;\n\tELSE\n\t\tpos := pos + LV.MOVE_TO_X;\n\tEND_CASE;\n\tupdate_pos := TRUE;\n\tLV.MOVE_TO_X := 0;\nEND_IF;\n\nIF (LV.UPDATE_COUNT <> LC.UPDATE_COUNT) OR update_pos THEN\n\tLV.UPDATE := TRUE;\n\tLV.UPDATE_COUNT := LC.UPDATE_COUNT;\n\tupdate_pos := FALSE;\n\n\tIF LC.RING_MODE THEN\n\t\tpos := LIMIT(1,pos,LC.SIZE - LV.COUNT + 1);\n\tELSE\n\t\tIF LC.IDX > LV.COUNT THEN\n\t\t\tpos := LIMIT(1,pos,LC.IDX - LV.COUNT + 1);\n\t\tELSE\n\t\t\tpos := 1;\n\t\tEND_IF;\n\tEND_IF;\n\n\tbase := LC.IDX - pos - LV.COUNT + 1;\n\tIF LC.RING_MODE THEN\n\t\t(* 环形缓冲区模式显示 *)\n\t\tFOR count:= 1 TO LV.COUNT DO\n\t\t\tidx := base + count;\n\t\t\tIF idx < 1 THEN\n\t\t\t\tidx := idx + LC.SIZE;\n\t\t\tEND_IF;\n\t\tEND_FOR;\n\tELSE\n\t\t(* 普通模式显示 *)\n\t\tFOR count:= 1 TO LV.COUNT DO\n\t\t\tidx := base + count;\n\t\t\tIF idx < 1 THEN\n\t\t\t\t(* 输出空行 *)\n\t\t\t\tLV.LINE_ARRAY[count] := 0;\n\t\t\tELSE\n\t\t\t\tLV.LINE_ARRAY[count] := idx;\n\t\t\tEND_IF;\n\t\tEND_FOR;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么判断给定年份是否为闰年？",
      "input": "",
      "output": "VAR_INPUT\nYEAR : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LEAP_YEAR\nIEC_LANGUAGE: ST\n*)\nIF (year MOD INT#400) = INT#00 THEN\n  leap_year := TRUE;\nELSIF (year MOD INT#100) = INT#00 THEN\n  leap_year := FALSE;\nELSIF (year MOD INT#04) = INT#00 THEN\n  leap_year := TRUE;\nELSE\n  leap_year := FALSE;\nEND_IF;",
      "description": "LEAP_YEAR功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "YEAR",
          "type": "INT",
          "description": "输入参数YEAR"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "判断输入字节是否为小写字母，如果是，则将其转换为大写字母。给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nIF in > BYTE#96 AND in < BYTE#123 THEN\n\tTO_UPPER := in AND BYTE#16#DF;\nELSIF in > BYTE#223 AND in <> BYTE#247 AND in <> BYTE#255 AND SETUP_EXTENDED_ASCII(FALSE) THEN\n\tTO_UPPER := in AND BYTE#16#DF;\nELSE\n\tTO_UPPER := in;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言编程实现一个定时器",
      "input": "",
      "output": "VAR_INPUT\n\tSTART : BOOL;\n\tSTOP : BOOL;\n\tTMAX : TIME := t#10d;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tPT : TIME;\n\tET : TIME;\n\tRUN : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\n\tT0 : TIME;\n\ttx : TIME;\n\tstartup : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: M_D\nIEC_LANGUAGE: ST\n*)\n(* 检查复位输入 *)\nIF rst OR et >= tmax THEN\n\tpt := t#0ms;\n\tet := t#0ms;\n\tstartup := FALSE;\n\trun := FALSE;\nEND_IF;\n\n(* 防止定时器在启动时立即启动 *)\nIF NOT startup THEN\n\tedge := start;\n\tstartup := TRUE;\nEND_IF;\n\n(* 读取系统定时器 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 检测 start 的上升沿 *)\nIF start AND NOT edge AND NOT stop THEN\n\tt0 := tx;\n\trun := TRUE;\n\tpt := t#0s;\nELSIF stop AND run THEN\n\tpt := et;\n\trun := FALSE;\nEND_IF;\nedge := start;\nIF run THEN et := tx - t0; END_IF;",
      "description": "M_D功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "START",
          "type": "BOOL",
          "description": "输入参数START"
        },
        {
          "name": "STOP",
          "type": "BOOL",
          "description": "输入参数STOP"
        },
        {
          "name": "TMAX",
          "type": "TIME",
          "description": "输入参数TMAX"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "输出参数PT"
        },
        {
          "name": "ET",
          "type": "TIME",
          "description": "输出参数ET"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "运行状态"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言计算三维向量A的模长并输出结果",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_ABS : REAL;\nEND_VAR\n\nV3_ABS := SQRT(A.X * A.X + A.Y * A.Y + A.Z * A.Z);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_ABS",
          "type": "REAL",
          "description": "输出参数V3_ABS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "我想根据输入的频率和脉冲宽度生成一个脉冲信号，该怎么在plc上编写程序",
      "input": "",
      "output": "VAR_INPUT\n\tF : REAL;\n\tPW : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tclk : CLK_Prg;\n\tpulse : TP_X;\nEND_VAR\n\nIF F > 0.0 THEN\n\tCLK(PT := REAL_TO_TIME(1000.0 / F));\n\tPulse(in := clk.Q, pt := pw);\n\tQ := pulse.Q;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "F",
          "type": "REAL",
          "description": "频率参数"
        },
        {
          "name": "PW",
          "type": "TIME",
          "description": "输入参数PW"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从输入的秒数中提取出时间部分，去除日期部分，给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : UDINT;\nEND_VAR\n\n(* 从日期时间中提取时间部分 *)\nDT_TO_DATE := (IN / UDINT#86400) * UDINT#86400;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "UDINT",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现复数的乘法运算",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\n\tY : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCMUL : oscat_complex;\nEND_VAR\n\nCMUL.re := X.re * Y.re - X.im * Y.im;\nCMUL.im := X.re * Y.im + X.im * Y.re;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "oscat_complex",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "CMUL",
          "type": "oscat_complex",
          "description": "输出参数CMUL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现基于BASE64解码流的字符串处理",
      "input": "",
      "output": "VAR_INPUT\n\tRUN : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDONE : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tSTR1 : oscat_STRING192;\n\tSTR2 : oscat_STRING144;\nEND_VAR\n\nVAR\n\tBASE64_DECODE_STREAM : BASE64_DECODE_STREAM;\n\trun_last : BOOL;\n\tbuf1 : oscat_aB0_63;\n\tbuf2 : oscat_aB0_47;\n\tmode : INT;\n\tsize1 : INT;\n\tsize2 : INT;\n\tend : INT;\n\tpos : INT;\n\ti1 : INT;\n\ti2 : INT;\n\ti3 : INT;\n\tSTRx : oscat_STRING64;\n\tBTS : BUF_TO_STRING;\nEND_VAR\n\nCASE mode OF\n0: IF RUN AND NOT run_last THEN\n\tDONE := FALSE;\n\tmode := 1;\n\tend := LEN(STR1);\n\tpos := 0;\n\tSTR2 := '';\nEND_IF;\n1:\n\tSIZE1 := MIN(48, end - pos);\n\tIF SIZE1 > 0 THEN\n\n\t\ti2 := SIZE1 - 1;\n\t\ti3 := pos + 1;\n\t\tFOR i1 := 0 TO i2 DO\n\t\t\tbuf1[i1] := INT_TO_BYTE(GET_CHAR(STR1, i3));\n\t\t\ti3 := i3 + 1;\n\t\tEND_FOR;\n\n\t\tBASE64_DECODE_STREAM(BUF1 := BUF1, BUF2 := BUF2, SIZE1 := SIZE1);\n\t\tbuf1 := BASE64_DECODE_STREAM.BUF1;\n\t\tbuf2 := BASE64_DECODE_STREAM.BUF2;\n\t\tSIZE2 := BASE64_DECODE_STREAM.SIZE2;\n\n\t\tFOR i1 := 0 TO 1 DO\n\t\t\tBTS.REQ := i1 > 0;\n\t\t\tBTS.BUF_FORMAT := TRUE;\n\t\t\tBTS.BUF_OFFS := DINT#0;\n\t\t\tBTS.BUF_CNT := INT_TO_DINT(SIZE2);\n\t\t\tBTS.BUFFER := buf2;\n\t\t\tBTS.DST := STRx;\n\t\t\tBTS();\n\t\t\tbuf2 := BTS.BUFFER;\n\t\t\tSTRx := BTS.DST;\n\t\tEND_FOR;\n\t\tSTR2 := CONCAT(STR2, STRx);\n\tELSE\n\t\tmode := 0;\n\t\tDONE := TRUE;\n\tEND_IF;\n\tpos := pos + size1;\nEND_CASE;\n\nrun_last := RUN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "输入参数RUN"
        }
      ],
      "outputs": [
        {
          "name": "DONE",
          "type": "BOOL",
          "description": "输出参数DONE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据不同的输入信号选择对应的报警模式怎么在plc上实现",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tIN3 : BOOL;\n\tIN4 : BOOL;\n\tTS : TIME;\n\tS1 : BYTE := 2#1111_1111;\n\tS2 : BYTE := 2#1111_0000;\n\tS3 : BYTE := 2#1010_1010;\n\tS4 : BYTE := 2#1010_0000;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tsig : signal;\nEND_VAR\n\n(* 报警存在，首先读取系统时间 *)\n(* 检查是否存在报警，如果有，设置 sig 为对应的报警模式，否则退出该例程 *)\nIF in1 THEN\n\tsig(in := TRUE, sig := s1, TS := TS);\nELSIF in2 THEN\n\tsig(in := TRUE, sig := s2, TS := TS);\nELSIF in3 THEN\n\tsig(in := TRUE, sig := s3, TS := TS);\nELSIF in4 THEN\n\tsig(in := TRUE, sig := s4, TS := TS);\nELSE\n\tsig(in := FALSE);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "BOOL",
          "description": "输入参数IN4"
        },
        {
          "name": "TS",
          "type": "TIME",
          "description": "输入参数TS"
        },
        {
          "name": "S1",
          "type": "BYTE",
          "description": "输入参数S1"
        },
        {
          "name": "S2",
          "type": "BYTE",
          "description": "输入参数S2"
        },
        {
          "name": "S3",
          "type": "BYTE",
          "description": "输入参数S3"
        },
        {
          "name": "S4",
          "type": "BYTE",
          "description": "输入参数S4"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "ST语言怎么计算一个数组中元素的平均值",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_AVG : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\n\narray_avg := 0.0;\nFOR i := 1 TO stop DO\n\tarray_avg := array_avg + pt[i];\nEND_FOR;\narray_avg := array_avg / INT_TO_REAL(stop);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_AVG",
          "type": "REAL",
          "description": "输出参数ARRAY_AVG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言根据给定的坐标，读取屏幕上的字符值",
      "input": "",
      "output": "VAR\n\tin_Offset : INT;\nEND_VAR\n\nVAR_INPUT\n\tIin_Y : INT;\n\tIin_X : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tOby_CHAR : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nIF TN_SC_XY_ERROR(Iin_X,Iin_Y) THEN RETURN; END_IF;\n\nin_Offset := (Iin_Y * 80) + Iin_X;\nOby_CHAR := Xus_TN_SCREEN.bya_CHAR[in_Offset]; (* 读取字符 *);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "Iin_Y",
          "type": "INT",
          "description": "输入参数Iin_Y"
        },
        {
          "name": "Iin_X",
          "type": "INT",
          "description": "输入参数Iin_X"
        }
      ],
      "outputs": [
        {
          "name": "Oby_CHAR",
          "type": "BYTE",
          "description": "输出参数Oby_CHAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st代码实现一个基于时间步进的报警系统",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tSIG : BYTE;\n\tTS : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\ttx : DWORD;\n\tstep : BYTE;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\nIF in THEN\n\t(* 报警存在，首先读取系统时间 *)\n\tT_PLC_MS();\n\ttx := UDINT_TO_DWORD(T_PLC_MS.T_PLC_MS);\n\n\t(* 计算步进计数器，步进计数器是 (时间 / ts) 的最低 3 位 *)\n\tIF ts > t#0s THEN\n\t\tstep := DWORD_TO_BYTE(UDINT_TO_DWORD(DWORD_TO_UDINT(tx) / TIME_TO_UDINT(ts)) AND DWORD#16#0000_0007);\n\tELSE\n\t\tstep := DWORD_TO_BYTE(SHR(tx,7) AND DWORD#16#0000_0007);\n\tEND_IF;\n\t(* 将 step 中的值 (0-7) 转换为单个位 (0-7) *)\n\tstep := SHL(BYTE#1,_BYTE_TO_INT(step));\n\t(* 生成输出信号 *)\n\tQ := (step AND sig) > BYTE#0;\nELSE\n\tQ := FALSE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "SIG",
          "type": "BYTE",
          "description": "输入参数SIG"
        },
        {
          "name": "TS",
          "type": "TIME",
          "description": "输入参数TS"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "给出用于生成可控制的方波信号的st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tPT : TIME;\n\tAM : REAL := REAL#1.0;\n\tOS : REAL;\n\tDC : REAL := REAL#0.5;\n\tDL : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\n\tOut : REAL;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tlast : TIME;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GEN_SQR\nIEC_LANGUAGE: ST\n*)\n(* 检查 dc 是否为 1 或 0 *)\nIF dc = 0.0 THEN\n\tout := -am * 0.5 + os;\n\tQ := FALSE;\n\tRETURN;\nELSIF dc = 1.0 THEN\n\tout := am * 0.5 + os;\n\tQ := TRUE;\n\tRETURN;\nEND_IF;\n\n(* 读取系统时间并准备输入数据 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS) - last;\nDL := modR(dl, 1.0);\nIF dl < 0.0 THEN dl := 1.0 - dl; END_IF;\ndc := modR(dc, 1.0);\nIF dc < 0.0 THEN dc := 1.0 - dc; END_IF;\n\n(* 初始化部分 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\n\ttx := T#0s;\nEND_IF;\n\n(* 如果一个周期已完成，更新 last *)\nIF tx >= pt THEN\n\tlast := last + pt;\n\ttx := tx - pt;\nEND_IF;\n\n(* 判断先是下降沿还是上升沿 *)\nIF multime(pt, dl + dc) >= pt THEN\n\t(* 生成下降沿 *)\n\tIF tx >= multime(pt, dl + dc - 1.0) THEN\n\t\tout := -am * 0.5 + os;\n\t\tQ := FALSE;\n\tEND_IF;\n\t(* 生成上升沿 *)\n\tIF tx >= multime(pt, dl) THEN\n\t\tout := am * 0.5 + os;\n\t\tQ := TRUE;\n\tEND_IF;\nELSE\n\t(* 先生成上升沿 *)\n\tIF tx >= multime(pt, dl) THEN\n\t\tout := am * 0.5 + os;\n\t\tQ := TRUE;\n\tEND_IF;\n\t(* 生成下降沿 *)\n\tIF tx >= multime(pt, dl + dc) THEN\n\t\tout := -am * 0.5 + os;\n\t\tQ := FALSE;\n\tEND_IF;\nEND_IF;",
      "description": "GEN_SQR信号生成功能块，产生特定类型的信号波形。适用于测试信号、控制信号等应用场景。",
      "inputs": [
        {
          "name": "PT",
          "type": "TIME",
          "description": "预设时间值"
        },
        {
          "name": "AM",
          "type": "REAL",
          "description": "幅值参数"
        },
        {
          "name": "OS",
          "type": "REAL",
          "description": "偏移量参数"
        },
        {
          "name": "DC",
          "type": "REAL",
          "description": "占空比参数"
        },
        {
          "name": "DL",
          "type": "REAL",
          "description": "输入参数DL"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "Out",
          "type": "REAL",
          "description": "输出参数Out"
        }
      ],
      "library_dependency": [
        "OSCAT库 - T_PLC_MS系统定时器"
      ],
      "iec_standard": "IEC 61131-3 第5章：信号生成和波形控制",
      "tags": [
        "信号生成",
        "波形控制",
        "测试信号",
        "控制信号"
      ]
    },
    {
      "instruction": "怎么计算两个三维向量A和B的点积并输出结果？给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tB : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_DPRO : REAL;\nEND_VAR\n\nV3_DPRO := A.X * B.X + A.Y * B.Y + A.Z * B.Z;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "oscat_vector_3",
          "description": "输入值B"
        }
      ],
      "outputs": [
        {
          "name": "V3_DPRO",
          "type": "REAL",
          "description": "输出参数V3_DPRO"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据给定的参数计算PID控制器的各个参数，并根据不同条件对其进行调整。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tKS : REAL;\n\tTU : REAL;\n\tTG : REAL;\n\tPI : BOOL;\n\tPID : BOOL;\n\tP_K : REAL := 1.0;\n\tPI_K : REAL := 0.9;\n\tPI_TN : REAL := 3.33;\n\tPID_K : REAL := 1.2;\n\tPID_TN : REAL := 2.0;\n\tPID_TV : REAL := 0.5;\nEND_VAR\n\nVAR_OUTPUT\n\tKP : REAL;\n\tTN : REAL;\n\tTV : REAL;\n\tKI : REAL;\n\tKD : REAL;\nEND_VAR\n\nVAR\n\tTX : REAL;\nEND_VAR\n\nIF TU > 0.0 AND KS > 0.0 THEN TX := TG / TU / KS; END_IF;\nIF pi AND PID THEN\n\tKP := 0.0;\n\tTN := 0.0;\n\tTV := 0.0;\nELSIF PID THEN\n\tKP := PID_K * TX;\n\tTN := PID_TN * TU;\n\tTV := PID_TV * TU;\nELSIF PI THEN\n\tKP := PI_K * TX;\n\tTN := PI_TN * TU;\nELSE\n\tKP := P_K * TX;\nEND_IF;\n\n(* KI and KD are calculated *)\nIF TN > 0.0 THEN KI := KP / TN; ELSE KI := 0.0; END_IF;\nKD := KP * TV;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "KS",
          "type": "REAL",
          "description": "输入参数KS"
        },
        {
          "name": "TU",
          "type": "REAL",
          "description": "输入参数TU"
        },
        {
          "name": "TG",
          "type": "REAL",
          "description": "输入参数TG"
        },
        {
          "name": "PI",
          "type": "BOOL",
          "description": "输入参数PI"
        },
        {
          "name": "PID",
          "type": "BOOL",
          "description": "输入参数PID"
        },
        {
          "name": "P_K",
          "type": "REAL",
          "description": "输入参数P_K"
        },
        {
          "name": "PI_K",
          "type": "REAL",
          "description": "输入参数PI_K"
        },
        {
          "name": "PI_TN",
          "type": "REAL",
          "description": "输入参数PI_TN"
        },
        {
          "name": "PID_K",
          "type": "REAL",
          "description": "输入参数PID_K"
        },
        {
          "name": "PID_TN",
          "type": "REAL",
          "description": "输入参数PID_TN"
        },
        {
          "name": "PID_TV",
          "type": "REAL",
          "description": "输入参数PID_TV"
        }
      ],
      "outputs": [
        {
          "name": "KP",
          "type": "REAL",
          "description": "输出参数KP"
        },
        {
          "name": "TN",
          "type": "REAL",
          "description": "输出参数TN"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "输出参数TV"
        },
        {
          "name": "KI",
          "type": "REAL",
          "description": "输出参数KI"
        },
        {
          "name": "KD",
          "type": "REAL",
          "description": "输出参数KD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言计算数组中所有正数元素的乘积",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tARRAY_GAV : REAL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1,UINT_TO_INT(size),1000);\nARRAY_GAV := 1.0;\nFOR i := 1 TO stop DO\n\tIF pt[i] > 0.0 THEN\n\t\tARRAY_GAV := ARRAY_GAV * pt[i];\n\tELSE\n\t\tARRAY_GAV := 0.0;\n\t\tRETURN;\n\tEND_IF;\nEND_FOR;\nARRAY_GAV := SQRTN(ARRAY_GAV,stop);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "ARRAY_GAV",
          "type": "REAL",
          "description": "输出参数ARRAY_GAV"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "查找列表中分隔符后的第一个元素，提取并返回该分隔符之后的子字符串",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\n\tRST : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLEL : oscat_STRING250;\n\tNUL : BOOL;\nEND_VAR\n\nVAR\n\tstop : INT;\n\tstart : INT;\n\tpos : INT := INT#1;\n\tsize : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_NEXT\nIEC_LANGUAGE: ST\n*)\nsize := LEN(LIST);\nIF rst THEN pos := 1; END_IF;\nstop := 0;\nstart := pos + 1;\nstop := pos;\nNUL := pos > size;\nFOR pos := start TO size DO\n\tIF INT_TO_BYTE(GET_CHAR(LIST,pos)) = SEP THEN\n\t\tEXIT;\n\tELSE\n\t\tstop := stop + 1;\n\tEND_IF;\nEND_FOR;\nIF stop >= start THEN\n\tLEL := MID(LIST, stop - start + 1, start);\nELSE\n\tLEL := '';\nEND_IF;",
      "description": "LIST_NEXT功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "LEL",
          "type": "oscat_STRING250",
          "description": "输出参数LEL"
        },
        {
          "name": "NUL",
          "type": "BOOL",
          "description": "输出参数NUL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st代码将输入IN进行8位右循环移位和8位左循环移位",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\nEND_VAR\n\nSwap_Byte2 := (ROR_DWORD(in,8) AND DWORD#16#FF00FF00) OR (ROL_DWORD(in,8) AND DWORD#16#00FF00FF);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言计算两个整数的最大公约数",
      "input": "",
      "output": "VAR_INPUT\n\tA : DINT;\n\tB : DINT;\nEND_VAR\n\nVAR\n\tt : DINT;\n\t_A : DINT;\n\t_B : DINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: GCD\nIEC_LANGUAGE: ST\n*)\n_A := A;\n_B := B;\n\nIF _A = DINT#0 THEN\n\tGCD := DINT_TO_INT(ABS(_B));\nELSIF _B = DINT#0 THEN\n\tGCD := DINT_TO_INT(ABS(_A));\nELSE\n\t_A := ABS(_A);\n\t_B := ABS(_B);\n\tGCD := 1;\n\n\tWHILE NOT((DINT_TO_DWORD(_A) AND DWORD#1) > DWORD#0 OR (DINT_TO_DWORD(_B) AND DWORD#1) > DWORD#0) DO\n\t\t_A := DWORD_TO_DINT(SHR(DINT_TO_DWORD(_A),1));\n\t\t_B := DWORD_TO_DINT(SHR(DINT_TO_DWORD(_B),1));\n\t\tGCD := DWORD_TO_INT(SHR(INT_TO_DWORD(GCD),1));\n\tEND_WHILE;\n\tWHILE _A > DINT#0 DO\n\t\tIF NOT((DINT_TO_DWORD(_A) AND DWORD#1) > DWORD#0) THEN\n\t\t\t_A := DWORD_TO_DINT(SHR(DINT_TO_DWORD(_A),1));\n\t\tELSIF NOT((DINT_TO_DWORD(_B) AND DWORD#1) > DWORD#0) THEN\n\t\t\t_B := DWORD_TO_DINT(SHR(DINT_TO_DWORD(_B),1));\n\t\tELSE\n\t\t\tt := DWORD_TO_DINT(SHR(DINT_TO_DWORD(ABS(_A-_B)),1));\n\t\t\tIF _A < _B THEN\n\t\t\t\t_B := t;\n\t\t\tELSE\n\t\t\t\t_A := t;\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tEND_WHILE;\n\tGCD := GCD * DINT_TO_INT(_B);\nEND_IF;",
      "description": "GCD功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "DINT",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "DINT",
          "description": "输入值B"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "反双曲正弦函数怎么在plc上计算",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nASINH := LN(SQRT(X * X + 1.0) + X);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "队列的读写操作在plc上如何实现",
      "input": "",
      "output": "VAR_INPUT\n\tDIN : DWORD;\n\tE : BOOL := TRUE;\n\tRD : BOOL;\n\tWD : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tDOUT : DWORD;\n\tEMPTY : BOOL := TRUE;\n\tFULL : BOOL;\nEND_VAR\n\nVAR\n\tpt : INT;\n\tstack : oscat_ardw_0_15;\nEND_VAR\n\nIF RST THEN\n\t(* 异步复位 FIFO *)\n\tpt := 0;\n\tEMPTY := TRUE;\n\tFULL := FALSE;\n\tDout := DWORD#0;\nELSIF E THEN\n\tIF NOT EMPTY AND RD THEN\n\t\t(* 读取一个元素 *)\n\t\tpt := pt - 1;\n\t\tDout := stack[pt];\n\t\tEMPTY := pt = 0;\n\t\tFULL := FALSE;\n\tEND_IF;\n\tIF NOT FULL AND WD THEN\n\t\t(* 写入一个元素 *)\n\t\tstack[pt] := Din;\n\t\tpt := pt + 1;\n\t\tFULL := pt > 15;\n\t\tEMPTY := FALSE;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DIN",
          "type": "DWORD",
          "description": "数据输入"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "RD",
          "type": "BOOL",
          "description": "读信号"
        },
        {
          "name": "WD",
          "type": "BOOL",
          "description": "写信号"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "DOUT",
          "type": "DWORD",
          "description": "数据输出"
        },
        {
          "name": "EMPTY",
          "type": "BOOL",
          "description": "空标志信号"
        },
        {
          "name": "FULL",
          "type": "BOOL",
          "description": "满标志信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将SHA1字节值转换为十六进制字符串格式",
      "input": "",
      "output": "VAR_INPUT\n\tSHA1 : oscat_aB0_19;\nEND_VAR\n\nVAR_OUTPUT\n\tSHA1_TO_STRH : oscat_STRING40;\nEND_VAR\n\nVAR\n\tbuf : oscat_aB0_39;\n\ti : INT;\n\ttmp : INT;\n\tx : INT;\n\tBUF_TO_STRING : BUF_TO_STRING;\nEND_VAR\n\nx := 0;\nFOR i := 0 TO 19 DO;\n\ttmp := BYTE_TO_INT(SHR_BYTE(SHA1[i], 4));\n\tbuf[x] := INT_TO_BYTE(tmp + SEL(tmp <= 9, 87, 48));\n\tx := x + 1;\n\ttmp := BYTE_TO_INT(SHA1[i] AND BYTE#2#1111);\n\tbuf[x] := INT_TO_BYTE(tmp + SEL(tmp <= 9, 87, 48));\n\tx := x + 1;\nEND_FOR;\n\nFOR x := 0 TO 1 DO\n\tBUF_TO_STRING.REQ := x > 0;\n\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\tBUF_TO_STRING.BUF_OFFS := DINT#0;\n\tBUF_TO_STRING.BUF_CNT := DINT#40;\n\tBUF_TO_STRING.BUFFER := buf;\n\tBUF_TO_STRING.DST := SHA1_TO_STRH;\n\tBUF_TO_STRING();\n\tbuf := BUF_TO_STRING.BUFFER;\n\tSHA1_TO_STRH := BUF_TO_STRING.DST;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SHA1",
          "type": "oscat_aB0_19",
          "description": "输入参数SHA1"
        }
      ],
      "outputs": [
        {
          "name": "SHA1_TO_STRH",
          "type": "oscat_STRING40",
          "description": "输出参数SHA1_TO_STRH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查向量A是否为零向量的st程序怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_NUL : BOOL;\nEND_VAR\n\nV3_NUL := A.X = 0.0 AND A.Y = 0.0 AND A.Z = 0.0;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_NUL",
          "type": "BOOL",
          "description": "输出参数V3_NUL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将HTML字符名称转换为其对应的字符代码怎么用ST代码写",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING10;\nEND_VAR\n\nVAR_OUTPUT\n\tCHARCODE : BYTE;\nEND_VAR\n\nVAR\n\tfound : oscat_STRING1;\n\tsearch : oscat_STRING10;\n\tpos : INT;\n\tCODE : CODE;\n\ti : INT;\n\tSETUP_CHARNAMES : SETUP_CHARNAMES;\n\tCHARNAMES : oscat_CHARNAMES;\nEND_VAR\n\nSETUP_CHARNAMES(CHARNAMES:=CHARNAMES);\nCHARNAMES:=SETUP_CHARNAMES.CHARNAMES;\n\nIF LEN(str) = 1 THEN\n\tCODE(STR:=STR,POS:=1);\n\tCHARCODE:=CODE.CODE;\nELSIF LEN(str) > 0 THEN\n\t(* 构造搜索字符串 *)\n\tsearch := CONCAT('&', str);\n\tsearch := CONCAT(search, ';');\n\tWHILE pos = 0 AND (i < 11) DO\n\t\ti := i + 1;\n\t\tpos := FIND(CHARNAMES[i], search);\n\tEND_WHILE;\n\tfound := MID(CHARNAMES[i], 1, pos - 1);\n\tCODE(STR:=found,POS:=1);\n\tCHARCODE:=CODE.CODE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING10",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "CHARCODE",
          "type": "BYTE",
          "description": "输出参数CHARCODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言将日期和时间转换为结构化日期时间",
      "input": "",
      "output": "VAR_INPUT\n\tDI : UDINT;\n\tTI : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tSDT : oscat_SDT;\nEND_VAR\n\nSDT.YEAR := YEAR_OF_DATE(DI);\nSDT.MONTH := MONTH_OF_DATE(DI);\nSDT.DAY := DAY_OF_MONTH(DI);\nSDT.WEEKDAY := DAY_OF_WEEK(DI);\nSDT.MS := UDINT_TO_INT(TI MOD UDINT#1000);\nSDT.SECOND := UDINT_TO_INT((TI / UDINT#1000) MOD UDINT#60);\nSDT.MINUTE := UDINT_TO_INT((TI / UDINT#60000) MOD UDINT#60);\nSDT.HOUR := UDINT_TO_INT(TI / UDINT#3600000);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DI",
          "type": "UDINT",
          "description": "输入参数DI"
        },
        {
          "name": "TI",
          "type": "UDINT",
          "description": "输入参数TI"
        }
      ],
      "outputs": [
        {
          "name": "SDT",
          "type": "oscat_SDT",
          "description": "输出参数SDT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "我想根据输入的温度T和参考电阻计算出当前温度的电阻值，怎么在plc上实现",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tR0 : REAL;\nEND_VAR\n\nVAR\n\tT2 : REAL;\nEND_VAR\n\nT2 := T * T;\n\nIF T >= 0.0 THEN\n\tRES_PT := R0 * (1.0 + 3.90802E-3 * T + -5.802E-7 * T2);\nELSE\n\tRES_PT := R0 * (1.0 + 3.90802E-3 * T + -5.802E-7 * T2 + -4.27350E-12 * (T - 100.0) * T2 * T);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "R0",
          "type": "REAL",
          "description": "输入参数R0"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过监测输入信号的上升沿和下降沿来计算周期时间、占空比和频率，给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tTMAX : TIME := t#10d;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tTH : TIME;\n\tTL : TIME;\n\tDC : REAL;\n\tF : REAL;\n\tET : TIME;\nEND_VAR\n\nVAR\n\tedge : BOOL;\n\tstart : TIME;\n\tstop : TIME;\n\ttx : TIME;\n\trise : BOOL;\n\tfall : BOOL;\n\tstartup : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: M_TX\nIEC_LANGUAGE: ST\n*)\n(* 检查复位输入 *)\nIF rst OR (et >= tmax) THEN\n\trise := FALSE;\n\tfall := FALSE;\n\tstartup := FALSE;\n\tth := t#0ms;\n\ttl := t#0ms;\n\tDC := 0.0;\n\tF := 0.0;\n\tET := t#0s;\nEND_IF;\n\n(* 防止定时器在启动时立即启动 *)\nIF NOT startup THEN\n\tedge := in;\n\tstartup := TRUE;\nEND_IF;\n\n(* 读取系统定时器 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 边缘触发：上升沿和下降沿 *)\nIF in XOR edge THEN\n\tedge := in;\n\t(* 上升沿开始测量 *)\n\tIF in THEN\n\t\tstart := Tx;\n\t\trise := TRUE;\n\t\tIF fall THEN tl := start - stop; END_IF;\n\t\tIF th > t#0ms AND tl > t#0ms THEN\n\t\t\tdc := TIME_TO_REAL(th) / TIME_TO_REAL(th + tl);\n\t\t\tf := 1000.0 / TIME_TO_REAL(th + tl);\n\t\tEND_IF;\n\t(* 下降沿开始第二周期测量 *)\n\tELSE\n\t\tstop := Tx;\n\t\tfall := TRUE;\n\t\tIF rise THEN th := stop - start; END_IF;\n\t\tIF th > t#0ms AND tl > t#0ms THEN\n\t\t\tdc := TIME_TO_REAL(th) / TIME_TO_REAL(th + tl);\n\t\t\tf := 1000.0 / TIME_TO_REAL(th + tl);\n\t\tEND_IF;\n\tEND_IF;\nEND_IF;\nIF rise THEN et := tx - start; END_IF;",
      "description": "M_TX功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "TMAX",
          "type": "TIME",
          "description": "输入参数TMAX"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "TH",
          "type": "TIME",
          "description": "输出参数TH"
        },
        {
          "name": "TL",
          "type": "TIME",
          "description": "输出参数TL"
        },
        {
          "name": "DC",
          "type": "REAL",
          "description": "输出参数DC"
        },
        {
          "name": "F",
          "type": "REAL",
          "description": "输出参数F"
        },
        {
          "name": "ET",
          "type": "TIME",
          "description": "输出参数ET"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入的设备代码和按键代码，生成并发送IRTrans命令",
      "input": "",
      "output": "VAR_INPUT\n\tDEV_CODE : STRING;\n\tKEY_CODE_0 : STRING;\n\tKEY_CODE_1 : STRING;\n\tKEY_CODE_2 : STRING;\n\tKEY_CODE_3 : STRING;\n\tKEY_CODE_4 : STRING;\n\tKEY_CODE_5 : STRING;\n\tKEY_CODE_6 : STRING;\n\tKEY_CODE_7 : STRING;\n\tIN_0 : BOOL;\n\tIN_1 : BOOL;\n\tIN_2 : BOOL;\n\tIN_3 : BOOL;\n\tIN_4 : BOOL;\n\tIN_5 : BOOL;\n\tIN_6 : BOOL;\n\tIN_7 : BOOL;\n\tT_REPEAT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tKEY : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tIP_C : oscat_IP_C;(*IP_Control 管理结构*)\n\tS_BUF : oscat_NETWORK_BUFFER;\nEND_VAR\n\nVAR\n\tskey : STRING;\n\tsize : INT;\n\tstr : STRING;\n\ti : INT;\n\tt : TON;\n\tk : BYTE;\n\tlk : BYTE;\n\td : BOOL;\n\ti2 : INT;\n\tCODE : CODE;\nEND_VAR\n\nd := IP_C.C_STATE > BYTE#127 AND (IP_C.MAILBOX[1] > BYTE#0 OR IP_C.C_MODE <> BYTE#5);\nIF NOT d THEN RETURN; END_IF;\n\nt(IN:= lk = k , PT:=T_REPEAT);\n\nIF S_BUF.SIZE = UINT#0 THEN\n\tIF IN_0 THEN\n\t\tskey := KEY_CODE_0; k := BYTE#1;\n\tELSIF IN_1 THEN\n\t\tskey := KEY_CODE_1; k := BYTE#2;\n\tELSIF IN_2 THEN\n\t\tskey := KEY_CODE_2; k := BYTE#3;\n\tELSIF IN_3 THEN\n\t\tskey := KEY_CODE_3; k := BYTE#4;\n\tELSIF IN_4 THEN\n\t\tskey := KEY_CODE_4; k := BYTE#5;\n\tELSIF IN_5 THEN\n\t\tskey := KEY_CODE_5; k := BYTE#6;\n\tELSIF IN_6 THEN\n\t\tskey := KEY_CODE_6; k := BYTE#7;\n\tELSIF IN_7 THEN\n\t\tskey := KEY_CODE_7; k := BYTE#8;\n\tELSE\n\t\tlk := BYTE#0;\n\t\tKEY := BYTE#0;\n\t\tRETURN; (* 如果没有激活按键则退出 *)\n\tEND_IF;\n\n\tIF lk <> k OR T.Q THEN (* 按键更改或重复等待时间已过 *)\n\t\tstr := CONCAT('snd ',dev_code);\n\t\tstr := CONCAT(str,',');\n\t\tstr := CONCAT(str,skey);\n\t\tsize := LEN(str);\n\t\tFOR i := 1 TO size DO\n\t\t\ti2 := i - 1;\n\t\t\tCODE(STR:=str,POS:=i);\n\t\t\tS_BUF.BUFFER[i2] := CODE.CODE;\n\t\tEND_FOR;\n\t\tS_BUF.SIZE := INT_TO_UINT(size);\n\t\tKEY := k;\n\t\tlk := k; (* 保存最后一个按键 *)\n\t\tt(IN:=FALSE); (* 重置时间 *)\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DEV_CODE",
          "type": "STRING",
          "description": "输入参数DEV_CODE"
        },
        {
          "name": "KEY_CODE_0",
          "type": "STRING",
          "description": "输入参数KEY_CODE_0"
        },
        {
          "name": "KEY_CODE_1",
          "type": "STRING",
          "description": "输入参数KEY_CODE_1"
        },
        {
          "name": "KEY_CODE_2",
          "type": "STRING",
          "description": "输入参数KEY_CODE_2"
        },
        {
          "name": "KEY_CODE_3",
          "type": "STRING",
          "description": "输入参数KEY_CODE_3"
        },
        {
          "name": "KEY_CODE_4",
          "type": "STRING",
          "description": "输入参数KEY_CODE_4"
        },
        {
          "name": "KEY_CODE_5",
          "type": "STRING",
          "description": "输入参数KEY_CODE_5"
        },
        {
          "name": "KEY_CODE_6",
          "type": "STRING",
          "description": "输入参数KEY_CODE_6"
        },
        {
          "name": "KEY_CODE_7",
          "type": "STRING",
          "description": "输入参数KEY_CODE_7"
        },
        {
          "name": "IN_0",
          "type": "BOOL",
          "description": "输入参数IN_0"
        },
        {
          "name": "IN_1",
          "type": "BOOL",
          "description": "输入参数IN_1"
        },
        {
          "name": "IN_2",
          "type": "BOOL",
          "description": "输入参数IN_2"
        },
        {
          "name": "IN_3",
          "type": "BOOL",
          "description": "输入参数IN_3"
        },
        {
          "name": "IN_4",
          "type": "BOOL",
          "description": "输入参数IN_4"
        },
        {
          "name": "IN_5",
          "type": "BOOL",
          "description": "输入参数IN_5"
        },
        {
          "name": "IN_6",
          "type": "BOOL",
          "description": "输入参数IN_6"
        },
        {
          "name": "IN_7",
          "type": "BOOL",
          "description": "输入参数IN_7"
        },
        {
          "name": "T_REPEAT",
          "type": "TIME",
          "description": "输入参数T_REPEAT"
        }
      ],
      "outputs": [
        {
          "name": "KEY",
          "type": "BYTE",
          "description": "输出参数KEY"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "基于plc实现一个实时时钟模块，运行世界时间并从中生成本地时间",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tSDT : UDINT;\n\tSMS : INT;\n\tDEN : BOOL;\n\tOFS : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tUDT : UDINT;\n\tLDT : UDINT;\n\tDSO : BOOL;\n\tXMS : INT;\nEND_VAR\n\nVAR\n\tRT : RTC_MS;\nEND_VAR\n\n(* 调用 rtc *)\nRT(SET := SET, SDT := SDT, SMS := SMS);\nUDT := rt.xdt;\nXMS := rt.XMS;\n\n(* 检查夏令时并设置 dso 输出 *)\ndso := DST(udt) AND DEN;\n\n(* 计算时间偏移并设置 ldt 输出 *)\nLDT := UDT + _INT_TO_UDINT(ofs + BOOL_TO_INT(DSO) * 60) * UDINT#60;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "SDT",
          "type": "UDINT",
          "description": "输入参数SDT"
        },
        {
          "name": "SMS",
          "type": "INT",
          "description": "输入参数SMS"
        },
        {
          "name": "DEN",
          "type": "BOOL",
          "description": "输入参数DEN"
        },
        {
          "name": "OFS",
          "type": "INT",
          "description": "输入参数OFS"
        }
      ],
      "outputs": [
        {
          "name": "UDT",
          "type": "UDINT",
          "description": "输出参数UDT"
        },
        {
          "name": "LDT",
          "type": "UDINT",
          "description": "输出参数LDT"
        },
        {
          "name": "DSO",
          "type": "BOOL",
          "description": "输出参数DSO"
        },
        {
          "name": "XMS",
          "type": "INT",
          "description": "输出参数XMS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言将输入的毫秒转换为小时",
      "input": "",
      "output": "VAR_INPUT\n\tITOD : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HOUR\nIEC_LANGUAGE: ST\n*)\nhour := UDINT_TO_INT(itod / UDINT#3600000);",
      "description": "HOUR功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ITOD",
          "type": "UDINT",
          "description": "输入参数ITOD"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算两个三维向量A和B之间的夹角的st代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\n\tB : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_ANG : REAL;\nEND_VAR\n\nVAR\n\td : REAL;\n\tV3_ABS : V3_ABS;\n\tV3_DPRO : V3_DPRO;\nEND_VAR\n\nV3_ABS(A:=A);\nd := V3_ABS.V3_ABS;\n\nV3_ABS(A:=B);\nd := d * V3_ABS.V3_ABS;\n\nIF d > 0.0 THEN\n\tV3_DPRO(A:=A,B:=B);\n\tV3_ANG := ACOS(LIMIT(-1.0, V3_DPRO.V3_DPRO / d, 1.0));\nELSE\n\tV3_ANG := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        },
        {
          "name": "B",
          "type": "oscat_vector_3",
          "description": "输入值B"
        }
      ],
      "outputs": [
        {
          "name": "V3_ANG",
          "type": "REAL",
          "description": "输出参数V3_ANG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用ST语言实现Sigmoid函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF X > 20.0 THEN\n\tSIGMOID := 1.0;\nELSIF x < -85.0 THEN\n\tSIGMOID := 0.0;\nELSE\n\tSIGMOID := 1.0 / (1.0 + EXP(-X));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    }
  ],
  "test": [
    {
      "instruction": "将字节IN转换为对应的二进制字符串怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tBYTE_TO_STRB : STRING;\nEND_VAR\n\nVAR\n\ti : INT;\nEND_VAR\n\nBYTE_TO_STRB := '''';\nFOR i := 1 TO 8 DO\n\tIF (IN AND BYTE#2#1000_0000) = BYTE#2#1000_0000 THEN\n\t\tBYTE_TO_STRB := CONCAT(BYTE_TO_STRB,'1');\n\tELSE\n\t\tBYTE_TO_STRB := CONCAT(BYTE_TO_STRB,'0');\n\tEND_IF;\n\tIN := SHL(IN, 1);\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "BYTE_TO_STRB",
          "type": "STRING",
          "description": "输出参数BYTE_TO_STRB"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST代码计算Cauchy分布的值",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tT : REAL;\n\tU : REAL;\nEND_VAR\n\nVAR\n\ttmp : REAL;\nEND_VAR\n\ntmp := X - T;\nCAUCHY := 0.318309886183791 * U / (U * U + tmp * tmp);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "U",
          "type": "REAL",
          "description": "输入参数U"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在PLC上怎么计算负温度系数热敏电阻在给定温度下的电阻值",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\n\tRN : REAL;\n\tB : REAL;\nEND_VAR\n\nRES_NTC := RN * EXP(B * (1.0 / (T + 273.15) - 0.00335401643468053));",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        },
        {
          "name": "RN",
          "type": "REAL",
          "description": "输入参数RN"
        },
        {
          "name": "B",
          "type": "REAL",
          "description": "输入值B"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的字符串STR的首字母转换为大写，并保持后续单词的首字母大写。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tCAPITALIZE : STRING;\nEND_VAR\n\nVAR\n\tchar : BYTE;\n\tchar2 : BYTE;\n\tpos : INT;\n\tL : INT;\n\tfirst : BOOL;\n\tstr_temp : STRING;\nEND_VAR\n\nCAPITALIZE := STR;\nfirst := TRUE;\nL := LEN(STR);\nFOR pos := 1 TO L DO\n\tchar := INT_TO_BYTE(GET_CHAR(STR, pos));\n\tIF first THEN\n\t\tchar2 := TO_UPPER(char);\n\t\tIF char <> char2 THEN\n\t\t\tstr_temp := CAPITALIZE;\n\t\t\tCAPITALIZE := REPLACE(str_temp, BYTE_TO_STRING(char2, '%c'), 1, pos);\n\t\tEND_IF;\n\tEND_IF;\n\t(* 记住下一个字符是否需要大写 *)\n\tfirst := char = BYTE#32;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "CAPITALIZE",
          "type": "STRING",
          "description": "输出参数CAPITALIZE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言实现一个多功能驱动器",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tIN : BOOL;\n\tRST : BOOL;\n\tTOGGLE_MODE : BOOL;\n\tTIMEOUT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\toff : TON;\n\tedge : BOOL;\nEND_VAR\n\nIF off.Q THEN Q := FALSE; END_IF;\nIF rst THEN\n\tQ := FALSE;\nELSIF set THEN\n\tQ := TRUE;\nELSIF IN AND NOT edge THEN\n\t\tIF toggle_mode THEN q := NOT Q; ELSE q := TRUE; END_IF;\nEND_IF;\nedge := in;\nIF timeout > t#0s THEN off(in := Q, PT := Timeout); END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "TOGGLE_MODE",
          "type": "BOOL",
          "description": "输入参数TOGGLE_MODE"
        },
        {
          "name": "TIMEOUT",
          "type": "TIME",
          "description": "输入参数TIMEOUT"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "通过变量的名称写入值的ST代码是啥",
      "input": "",
      "output": "PERS robtarget p200:=[[1,0,0],[1,0,0,0],[0,0,0,0],[9E9,9E9,9E9,9E9,9E9,9E9]];\nPERS robtarget p201:=[[2,0,0],[1,0,0,0],[0,0,0,0],[9E9,9E9,9E9,9E9,9E9,9E9]];\nPERS robtarget p202:=[[3,0,0],[1,0,0,0],[0,0,0,0],[9E9,9E9,9E9,9E9,9E9,9E9]];\nPERS robtarget pArr{3};\nPERS robtarget p300:=[[11,0,0],[1,0,0,0],[0,0,0,0],[9E+9,9E+9,9E+9,9E+9,9E+9,9E+9]];\nPERS robtarget p301:=[[12,0,0],[1,0,0,0],[0,0,0,0],[9E+9,9E+9,9E+9,9E+9,9E+9,9E+9]];\nPERS robtarget p302:=[[13,0,0],[1,0,0,0],[0,0,0,0],[9E+9,9E+9,9E+9,9E+9,9E+9,9E+9]];\nVAR robtarget ptmp;\nPROC test333()\n\tFOR i FROM 1 TO 3 DO\n\t\tGetDataVal p+(ValToStr(200+i-1)),ptmp;\n\t\tpArr{i}:=ptmp;\n\tENDFOR\n\tFOR i FROM 1 TO 3 DO\n\t\tptmp:=pArr{i};\n\t\tptmp.trans.x:=ptmp.trans.x+10;\n\t\tSetDataVal p+(ValToStr(300+i-1)),ptmp;\n\tENDFOR\nENDPROC",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "四轴机器人正解代码是什么",
      "input": "",
      "output": "MODULE Module1\n\tPERS num a{5}:=[0,260,945,1025,220];\n\tPERS num d{5}:=[742.5,0,0,0,251.5];\n\tPERS num alpha{5}:=[0,-90,0,0,-90];\n\tPERS num theta{5}:=[0,-90,90,0,180];\n\tPERS jointtarget jt:=[[-53.625,45,15.875,0,0,-112.5],[9E+9,9E+9,9E+9,9E+9,9E+9,9E+9]];\n\tPERS num cjoint{4}:=[-53.625,45,15.875,-112.5];\n\tPERS pose rbPose:=[[1265.68,-1718.29,878.838],[1.17078E-8,0.491474,-0.870892,-1.75219E-8]];\n\tPROC main()\n\t\tjt:=CJointT();\n\t\tcjoint{1}:=jt.robax.rax_1;\n\t\tcjoint{2}:=jt.robax.rax_2;\n\t\tcjoint{3}:=jt.robax.rax_3;\n\t\tcjoint{4}:=jt.robax.rax_6;\n\t\trbPose:=cal4axisPalletRobot(cjoint);\n\tENDPROC\n\tfunc pose cal4axisPalletRobot(num joints{*})\n\t\t! input: 4 axis joint data\n\t\tVAR num j{5};\n\t\tVAR pose pose1:=[[0,0,0],[1,0,0,0]];\n\t\tj{1}:=joints{1};\n\t\tj{2}:=joints{2};\n\t\tj{3}:=joints{3};\n\t\t! j{4}:=joints{4};\n\t\tj{5}:=joints{4};\n\t\tFOR i FROM 1 TO 5 DO\n\t\t\tIF i=2 THEN\n\t\t\t\tj{3}:=j{3}-j{2};\n\t\t\tENDIF\n\t\t\tIF i=3 THEN\n\t\t\t\tj{4}:=j{4}-joints{3};\n\t\t\tENDIF\n\t\t\tpose1:=posemult(pose1,dh2pose(a{i},d{i},alpha{i},theta{i}+j{i}));\n\t\tENDFOR\n\t\tRETURN pose1;\n\tENDfunc\n\tFUNC pose dh2pose(num a,num d,num alpha,num theta)\n\t\tVAR pose p;\n\t\tp.trans.x:=a;\n\t\tp.rot:=OrientZYX(0,0,alpha);\n\t\tp:=posemult(p,[[0,0,d],[1,0,0,0]]);\n\t\tp:=posemult(p,[[0,0,0],orientzyx(theta,0,0)]);\n\t\tRETURN p;\n\tENDFUNC\nENDMODULE",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查输入字节是否为控制字符，帮我编写PLC程序",
      "input": "",
      "output": "VAR_INPUT\nIN : BYTE;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: ISC_CTRL\nIEC_LANGUAGE: ST\n*)\nISC_CTRL := IN < BYTE#32 OR IN = BYTE#127;",
      "description": "ISC_CTRL功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "移除列表中连续的分隔符，清理字符串内容。用ST语言实现这个功能",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLIST_CLEAN : BOOL;\nEND_VAR\n\nVAR\n\tBUF_TO_STRING : BUF_TO_STRING;\n\tpt : oscat_bya_LIST_CLEAN;\n\tread : INT;\n\twrite : INT := 1;\n\tlast : BYTE;\n\tc : BYTE;\n\tcnt : INT;\n\tz : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_CLEAN\nIEC_LANGUAGE: ST\n*)\nlast := BYTE#0;\ncnt := LEN(LIST);\nwrite := 0;\nFOR read := 1 TO cnt DO\n\tc := INT_TO_BYTE(GET_CHAR(LIST,read));\n\tIF c <> SEP OR last <> SEP THEN\n\t\twrite := write + 1;\n\t\tpt[write] := c;\n\tEND_IF;\n\tlast := c;\nEND_FOR;\nIF last = SEP THEN write := write - 1; END_IF;\n\nFOR z := 0 TO 1 DO\n\tBUF_TO_STRING.REQ := z > 0;\n\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\tBUF_TO_STRING.BUF_OFFS := DINT#0;\n\tBUF_TO_STRING.BUF_CNT := INT_TO_DINT(write);\n\tBUF_TO_STRING.BUFFER := pt;\n\tBUF_TO_STRING.DST := LIST;\n\tBUF_TO_STRING();\n\tpt := BUF_TO_STRING.BUFFER;\n\tLIST := BUF_TO_STRING.DST;\nEND_FOR;\n\nLIST_CLEAN := TRUE; (* 返回 TRUE *) ",
      "description": "LIST_CLEAN功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        }
      ],
      "outputs": [
        {
          "name": "LIST_CLEAN",
          "type": "BOOL",
          "description": "输出参数LIST_CLEAN"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言实现两个独立的滞后比较逻辑",
      "input": "",
      "output": "VAR_INPUT\nIN : REAL;\nHYST : REAL;\nVAL1 : REAL;\nVAL2 : REAL;\nEND_VAR\n\nVAR_OUTPUT\nQ1 : BOOL;\nQ2 : BOOL;\nEND_VAR\n\nVAR\nX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HYST_3\nIEC_LANGUAGE: ST\n*)\nX := hyst * 0.5;\nIF in < val1 - X THEN\nq1 := TRUE;\nELSIF in > val1 + X THEN\nq1 := FALSE;\nEND_IF;\nIF in < val2 - X THEN\nq2 := FALSE;\nELSIF in > val2 + X THEN\nq2 := TRUE;\nEND_IF;",
      "description": "HYST_3功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "HYST",
          "type": "REAL",
          "description": "滞回值"
        },
        {
          "name": "VAL1",
          "type": "REAL",
          "description": "输入参数VAL1"
        },
        {
          "name": "VAL2",
          "type": "REAL",
          "description": "输入参数VAL2"
        }
      ],
      "outputs": [
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将常数赋值给数组中的每个元素？给出代码",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_pt_ARRAY;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\n\tINIT : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\t_ARRAY_INIT : BOOL;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\nEND_VAR\n\nstop := LIMIT_INT(1, UINT_TO_INT(size), 1000);\nFOR i := 1 TO stop DO\n\tpt[i] := init;\nEND_FOR;\n_array_init := TRUE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "INIT",
          "type": "REAL",
          "description": "输入参数INIT"
        }
      ],
      "outputs": [
        {
          "name": "_ARRAY_INIT",
          "type": "BOOL",
          "description": "输出参数_ARRAY_INIT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入的IN变量的字节顺序交换怎么用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : WORD;\nEND_VAR\n\nSwap_Byte := ROL_WORD(in,8);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "WORD",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "实现带有积分器的PI控制器，用st语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tKI : REAL := 1.0;\n\tLIM_L : REAL := -1.0E38;\n\tLIM_H : REAL := 1.0E38;\n\tRST : BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tinteg : FT_INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PIW\nIEC_LANGUAGE: ST\n*)\n(* 运行积分器 *)\ninteg(IN := IN, K := KI, RUN := NOT LIM, RST := RST);\n\n(* 设置输出值 *)\nY := KP * IN + integ.Out;\n\n(* 检查限制 *)\nIF Y < LIM_L THEN\n\tY := LIM_L;\n\tLIM := TRUE;\nELSIF Y > LIM_H THEN\n\tY := LIM_H;\n\tLIM := TRUE;\nELSE\n\tLIM := FALSE;\nEND_IF;",
      "description": "带积分器的PI控制器，实现基本的抗积分饱和功能。当输出达到限幅时停止积分，提供稳定的控制性能。适用于一般的工业过程控制，特别是存在输出约束的控制场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "KI",
          "type": "REAL",
          "description": "积分增益系数"
        },
        {
          "name": "LIM_L/H",
          "type": "REAL",
          "description": "输出限幅范围"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "积分器复位"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PI控制器输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "限幅状态指示"
        }
      ],
      "library_dependency": "OSCAT库: FT_INT积分器功能块",
      "iec_standard": "IEC 61131-3 基本抗饱和PI算法",
      "tags": [
        "PI控制器",
        "抗饱和",
        "输出约束",
        "基本控制",
        "过程控制",
        "限幅控制"
      ]
    },
    {
      "instruction": "将十六进制字符串转换为一个字节的st代码是什么",
      "input": "",
      "output": "VAR_INPUT\n\tHEX : oscat_STRING5;\nEND_VAR\n\nVAR_OUTPUT\n\tHEX_TO_BYTE : BYTE;\nEND_VAR\n\nVAR\n\ti : INT;\n\tstop : INT;\n\tX : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HEX_TO_BYTE\nIEC_LANGUAGE: ST\n*)\nHEX_TO_BYTE := BYTE#0;\nstop := LEN(HEX);\nFOR I := 1 TO stop DO\n\t(* 读取第一个字符并减去48得到十进制值，0 = 48 *)\n\tX := GET_CHAR(Hex, I);\n\t(* 计算数字的值 *)\n\tIF X > 47 AND X < 58 THEN\n\t\tHEX_TO_BYTE := SHL_BYTE(HEX_TO_BYTE, 4) OR INT_TO_BYTE(X - 48);\n\tELSIF X > 64 AND X < 71 THEN\n\t\tHEX_TO_BYTE := SHL_BYTE(HEX_TO_BYTE, 4) OR INT_TO_BYTE(X - 55);\n\tELSIF X > 96 AND X < 103 THEN\n\t\tHEX_TO_BYTE := SHL_BYTE(HEX_TO_BYTE, 4) OR INT_TO_BYTE(X - 87);\n\tEND_IF;\nEND_FOR;",
      "description": "HEX_TO_BYTE功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "HEX",
          "type": "oscat_STRING5",
          "description": "输入参数HEX"
        }
      ],
      "outputs": [
        {
          "name": "HEX_TO_BYTE",
          "type": "BYTE",
          "description": "输出参数HEX_TO_BYTE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何在plc上实现一个四步序列控制器",
      "input": "",
      "output": "VAR_INPUT\n\tIN0 : BOOL := TRUE;\n\tIN1 : BOOL := TRUE;\n\tIN2 : BOOL := TRUE;\n\tIN3 : BOOL := TRUE;\n\tSTART : BOOL;\n\tRST : BOOL;\n\tWAIT0 : TIME;\n\tDELAY0 : TIME;\n\tWAIT1 : TIME;\n\tDELAY1 : TIME;\n\tWAIT2 : TIME;\n\tDELAY2 : TIME;\n\tWAIT3 : TIME;\n\tDELAY3 : TIME;\n\tSTOP_ON_ERROR : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQX : BOOL;\n\tRUN : BOOL;\n\tSTEP : INT := -1;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tlast : TIME;\n\tedge : BOOL;\n\ttx : TIME;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取 SPS 定时器 *)\nT_PLC_MS();\n\ttx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 启动时初始化 *)\nIF NOT init THEN\n\tlast := tx;\n\tinit := TRUE;\n\tstatus := BYTE#110;\nEND_IF;\n\n(* 异步复位 *)\nIF rst THEN\n\tstep := -1;\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\n\tstatus := BYTE#110;\n\trun := FALSE;\n\n(* 启动输入的边沿重启顺序 *)\nELSIF start AND NOT edge THEN\n\tstep := 0;\n\tlast := tx;\n\tstatus := BYTE#111;\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\n\trun := TRUE;\nEND_IF;\nedge := start;\n\n(* 检查是否需要在状态上停止 *)\nIF status > BYTE#0 AND status < BYTE#100 AND stop_on_error THEN RETURN; END_IF;\n\n(* 顺序正在运行 *)\nIF run AND step = 0 THEN\n\tIF NOT q0 AND in0 AND tx - last <= wait0 THEN\n\t\tQ0 := TRUE;\n\t\tlast := tx;\n\tELSIF NOT q0 AND tx - last > wait0 THEN\n\t\tstatus := BYTE#1;\n\t\trun := FALSE;\n\tELSIF q0 AND tx - last >= delay0 THEN\n\t\tstep := 1;\n\t\tlast := tx;\n\tEND_IF;\nEND_IF;\nIF run AND step = 1 THEN\n\tIF NOT q1 AND in1 AND tx - last <= wait1 THEN\n\t\tQ0 := FALSE;\n\t\tQ1 := TRUE;\n\t\tlast := tx;\n\tELSIF NOT q1 AND Tx - last > wait1 THEN\n\t\tstatus := BYTE#2;\n\t\tq0 := FALSE;\n\t\trun := FALSE;\n\tELSIF q1 AND tx - last >= delay1 THEN\n\t\tstep := 2;\n\t\tlast := tx;\n\tEND_IF;\nEND_IF;\nIF run AND step = 2 THEN\n\tIF NOT q2 AND in2 AND tx - last <= wait2 THEN\n\t\tQ1 := FALSE;\n\t\tQ2 := TRUE;\n\t\tlast := tx;\n\tELSIF NOT q2 AND Tx - last > wait2 THEN\n\t\tstatus := BYTE#3;\n\t\tq1 := FALSE;\n\t\trun := FALSE;\n\tELSIF q2 AND tx - last >= delay2 THEN\n\t\tstep := 3;\n\t\tlast := tx;\n\tEND_IF;\nEND_IF;\nIF run AND step = 3 THEN\n\tIF NOT q3 AND in3 AND tx - last <= wait3 THEN\n\t\tQ2 := FALSE;\n\t\tQ3 := TRUE;\n\t\tlast := tx;\n\tELSIF NOT q3 AND Tx - last > wait3 THEN\n\t\tstatus := BYTE#4;\n\t\tq2 := FALSE;\n\t\trun := FALSE;\n\tELSIF q3 AND tx - last >= delay3 THEN\n\t\tstep := -1;\n\t\tq3 := FALSE;\n\t\trun := FALSE;\n\t\tstatus := BYTE#110;\nEND_IF;\nEND_IF;\nQX := q0 OR q1 OR q2 OR q3;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN0",
          "type": "BOOL",
          "description": "输入参数IN0"
        },
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "START",
          "type": "BOOL",
          "description": "输入参数START"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "WAIT0",
          "type": "TIME",
          "description": "输入参数WAIT0"
        },
        {
          "name": "DELAY0",
          "type": "TIME",
          "description": "输入参数DELAY0"
        },
        {
          "name": "WAIT1",
          "type": "TIME",
          "description": "输入参数WAIT1"
        },
        {
          "name": "DELAY1",
          "type": "TIME",
          "description": "输入参数DELAY1"
        },
        {
          "name": "WAIT2",
          "type": "TIME",
          "description": "输入参数WAIT2"
        },
        {
          "name": "DELAY2",
          "type": "TIME",
          "description": "输入参数DELAY2"
        },
        {
          "name": "WAIT3",
          "type": "TIME",
          "description": "输入参数WAIT3"
        },
        {
          "name": "DELAY3",
          "type": "TIME",
          "description": "输入参数DELAY3"
        },
        {
          "name": "STOP_ON_ERROR",
          "type": "BOOL",
          "description": "输入参数STOP_ON_ERROR"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "QX",
          "type": "BOOL",
          "description": "输出参数QX"
        },
        {
          "name": "RUN",
          "type": "BOOL",
          "description": "运行状态"
        },
        {
          "name": "STEP",
          "type": "INT",
          "description": "输出参数STEP"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "对输入的字符串进行URL编码，将所有不允许的字符转换为对应的URL编码形式。我要st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tURL_ENCODE : oscat_STRING250;\nEND_VAR\n\nVAR\n\tpos_in : INT;\n\tpos_out : INT;\n\tstop : INT;\n\ttb : BYTE;\n\tpt_out : oscat_aB1_255;\n\tchar : BYTE;\n\tBUF_TO_STRING : BUF_TO_STRING;\n\ti : INT;\nEND_VAR\n\n(* 扫描输入字符串并转换不允许的字符 *)\npos_in := 1;\nstop := LEN(in);\nFOR pos_out := 1 TO 250 DO\n\tchar := INT_TO_BYTE(GET_CHAR(IN, pos_in));\n\tIF pos_in > stop THEN\n\t\tEXIT;\n\tELSIF IS_URLCHR(char) THEN\n\t\tpt_out[pos_out] := char;\n\t\t(* 增加输入位置 *）\n\t\tpos_in := pos_in + 1;\n\tELSE\n\t\t(* 无法容纳3个数字，退出 *)\n\t\tIF pos_out > 248 THEN EXIT; END_IF;\n\t\t(* 无效字符需要转换 *)\n\t\tpt_out[pos_out] := BYTE#37; (* 从 % 符号开始 *)\n\t\tpos_out := pos_out + 1;\n\t\t(* 需要添加两个十六进制数字 *)\n\t\ttb := SHR_BYTE(char, 4);\n\t\tIF tb > BYTE#9 THEN\n\t\t\tpt_out[pos_out] := USINT_TO_BYTE(BYTE_TO_USINT(tb) + USINT#55);\n\t\tELSE\n\t\t\tpt_out[pos_out] := USINT_TO_BYTE(BYTE_TO_USINT(tb) + USINT#48);\n\t\tEND_IF;\n\t\tpos_out := pos_out + 1;\n\t\ttb := char AND BYTE#16#0F;\n\t\tIF tb > BYTE#9 THEN\n\t\t\tpt_out[pos_out] := USINT_TO_BYTE(BYTE_TO_USINT(tb) + USINT#55);\n\t\tELSE\n\t\t\tpt_out[pos_out] := USINT_TO_BYTE(BYTE_TO_USINT(tb) + USINT#48);\n\t\tEND_IF;\n\t\t(* 增加输入和输出，因为输出需要移动3个数字 *)\n\t\tpos_in := pos_in + 1;\n\tEND_IF;\nEND_FOR;\n\npos_out := pos_out - 1;\n\nFOR i := 0 TO 1 DO\n\tBUF_TO_STRING.REQ := i > 0;\n\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\tBUF_TO_STRING.BUF_OFFS := DINT#0;\n\tBUF_TO_STRING.BUF_CNT := INT_TO_DINT(pos_out);\n\tBUF_TO_STRING.BUFFER := pt_out;\n\tBUF_TO_STRING.DST := URL_ENCODE;\n\tBUF_TO_STRING();\n\tpt_out := BUF_TO_STRING.BUFFER;\n\tURL_ENCODE := BUF_TO_STRING.DST;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING250",
          "description": "输入信号值"
        }
      ],
      "outputs": [
        {
          "name": "URL_ENCODE",
          "type": "oscat_STRING250",
          "description": "输出参数URL_ENCODE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算两个复数的和？用st代码",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\n\tY : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCADD : oscat_complex;\nEND_VAR\n\nCADD.re := X.re + Y.re;\nCADD.im := X.im + Y.im;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        },
        {
          "name": "Y",
          "type": "oscat_complex",
          "description": "输入参数Y"
        }
      ],
      "outputs": [
        {
          "name": "CADD",
          "type": "oscat_complex",
          "description": "输出参数CADD"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将数组中的数据清空的st代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tSIZE : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_CLEAR : BOOL;\nEND_VAR\n\nVAR_IN_OUT\n\tPT : oscat_arb_0_249;\nEND_VAR\n\nVAR\n\terr : INT;\n\tresult : WORD;\nEND_VAR\n\nresult := MEMSET(err, BYTE#00, UINT_TO_DINT(size), pt[0]);\nBUFFER_CLEAR := (err = 0);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_CLEAR",
          "type": "BOOL",
          "description": "输出参数BUFFER_CLEAR"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何通过ST语言将格式化字符串和参数数据组合成一个文本字符串",
      "input": "",
      "output": "VAR\n\tpos : INT;\n\tc : INT;\n\tsrc : oscat_STRING1 := '~';\n\trun : BOOL;\n\tCODE : CODE_250;\nEND_VAR\n\n(*组：输入输出*)\n\nVAR_IN_OUT\n\tPRINTF_DATA : PRINTF_DATA_250;\n\tSTR : oscat_STRING250;\nEND_VAR\n\n(*组：系统*)\n\nVAR_EXTERNAL\n\tPLC_SYS_TICK_CNT : DINT;\n\tRTC_HOURS : INT;\n\tRTC_MINUTES : INT;\n\tRTC_SECONDS : INT;\n\tRTC_DAY : INT;\n\tRTC_MONTH : INT;\n\tRTC_YEAR : INT;\nEND_VAR\n\nIF LEN(STR) > 0 THEN\n\trun := TRUE;\n\n\tWHILE (run) DO\n\t\tpos := FIND(STR,src);\n\t\tPRINTF_DATA[10] := '';\n\n\t\tIF pos = 0 THEN\n\t\t\trun := FALSE;\n\t\tELSE\n\t\t\tCODE(STR := STR, POS := pos + 1);\n\t\t\tc := _BYTE_TO_INT(CODE.CODE);\n\n\t\t\tIF ISC_NUM(INT_TO_BYTE(c)) THEN\n\t\t\t\tc := c - 48; (* 必要，因为在索引中只能有一个变量 *)\n\t\t\t\tPRINTF_DATA[10] := PRINTF_DATA[c]; (* 命令1-9对应参数索引1-9 *)\n\n\t\t\tELSIF c = 68 THEN (* 检查'D' *)\n\t\t\t\t(* 生成日期字符串，如2008.11.12 *)\n\t\t\t\tPRINTF_DATA[10] := CONCAT(INT_TO_STRING(RTC_DAY,'%02d'),'.');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_MONTH,'%02d'));\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],STRING#'.');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_YEAR,'%02d'));\n\n\t\t\tELSIF c = 83 OR c = 84 THEN (* 检查'S'或'T' *)\n\t\t\t\tPRINTF_DATA[10] := CONCAT(INT_TO_STRING(RTC_HOURS ,'%02d'),':');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_MINUTES,'%02d'));\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],':');\n\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],INT_TO_STRING(RTC_SECONDS,'%02d'));\n\n\t\t\t\tIF c = 83 THEN (* 检查'S' *)\n\t\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],':');\n\t\t\t\t\tPRINTF_DATA[10] := CONCAT(PRINTF_DATA[10],DINT_TO_STRING(PLC_SYS_TICK_CNT MOD DINT#1000,'%03d'));\n\t\t\t\tEND_IF;\n\t\tEND_IF;\n\t\t(* 参数与文本交换 *)\n\t\tIF LEN(PRINTF_DATA[10]) + LEN(STR) > 250 THEN\n\t\t\tPRINTF_DATA[10] := '..';\n\t\tEND_IF;\n\t\t(* pcworx：输入输出字符串必须不同 *)\n\t\tPRINTF_DATA[11] := STR;\n\t\tSTR := REPLACE(PRINTF_DATA[11],PRINTF_DATA[10],2,pos);\n\tEND_IF;\n\tEND_WHILE;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现一个滞后比较逻辑",
      "input": "",
      "output": "VAR_INPUT\nIN : REAL;\nVAL : REAL;\nHYS : REAL;\nEND_VAR\n\nVAR_OUTPUT\nQ : BOOL;\nWIN : BOOL;\nEND_VAR\n\nVAR\ntmp : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: HYST_2\nIEC_LANGUAGE: ST\n*)\ntmp := val - hys * 0.5;\nIF in < tmp THEN\nQ := FALSE;\nwin := FALSE;\nELSIF in > tmp + hys THEN\nQ := TRUE;\nwin := FALSE;\nELSE\nwin := TRUE;\nEND_IF;",
      "description": "HYST_2功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "VAL",
          "type": "REAL",
          "description": "比较值"
        },
        {
          "name": "HYS",
          "type": "REAL",
          "description": "输入参数HYS"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        },
        {
          "name": "WIN",
          "type": "BOOL",
          "description": "窗口状态"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何计算复数的指数函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCEXP : oscat_complex;\nEND_VAR\n\nVAR\n\tTemp : REAL;\nEND_VAR\n\ntemp := EXP(X.re);\nCEXP.re := temp * COS(X.im);\nCEXP.im := temp * SIN(X.im);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CEXP",
          "type": "oscat_complex",
          "description": "输出参数CEXP"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "",
      "input": "",
      "output": "VAR_INPUT\n\tT : TIME;\n\tM : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MULTIME\nIEC_LANGUAGE: ST\n*)\nmultime := DWORD_TO_TIME(_REAL_TO_DWORD(_DWORD_TO_REAL(TIME_TO_DWORD(t))*M));",
      "description": "MULTIME功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "TIME",
          "description": "时间参数"
        },
        {
          "name": "M",
          "type": "REAL",
          "description": "输入参数M"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言怎么格式化、存储、更新和循环管理日志消息",
      "input": "",
      "output": "VAR_EXTERNAL\n\tLOG_CL : us_LOG_CONTROL;\nEND_VAR\n\n(*Group:Variablen*)\n\nVAR\n\tFB_PRINT_SF : PRINT_SF;\n\tidx : INT;\nEND_VAR\n\nIF DWORD_TO_BYTE(SHL(LOG_CL.NEW_MSG_OPTION,16)) > LOG_CL.LEVEL THEN RETURN; END_IF;\nLOG_CL.SIZE := 400;\n\nFB_PRINT_SF.PRINTF_DATA := LOG_CL.PRINTF;\nFB_PRINT_SF.STR := LOG_CL.NEW_MSG;\nFB_PRINT_SF();\nLOG_CL.NEW_MSG := FB_PRINT_SF.STR;\nLOG_CL.PRINTF := FB_PRINT_SF.PRINTF_DATA;\n\nIF LOG_CL.RESET THEN\n\tLOG_CL.RESET := FALSE;\n\tLOG_CL.RING_MODE := FALSE;\n\tLOG_CL.IDX := 0;\n\tLOG_CL.UPDATE_COUNT := LOG_CL.UPDATE_COUNT + UINT#1;\nEND_IF;\n\nIF LOG_CL.SIZE > 0 THEN\n\tIF LEN(LOG_CL.NEW_MSG) > 0 THEN\n\t\tIF (LOG_CL.IDX >= LOG_CL.SIZE) THEN\n\t\t\tLOG_CL.RING_MODE := TRUE;\n\t\t\tLOG_CL.IDX := 0;\n\t\tEND_IF;\n\n\t\tLOG_CL.UPDATE_COUNT := LOG_CL.UPDATE_COUNT + UINT#1;\n\t\tLOG_CL.IDX := LOG_CL.IDX + INT#1;\n\t\tidx := LOG_CL.IDX;\n\t\tLOG_CL.MSG[idx] := LOG_CL.NEW_MSG;\n\t\tLOG_CL.MSG_OPTION[idx] := LOG_CL.NEW_MSG_OPTION;\n\t\tLOG_CL.NEW_MSG := '';\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何将输入的DTI（日期时间整数）转换为SDT（标准日期时间）格式",
      "input": "",
      "output": "VAR_INPUT\n\tDTI : UDINT;\nEND_VAR\n\nVAR_OUTPUT\n\tSDT : oscat_SDT;\nEND_VAR\n\nVAR\n\ttmp : UDINT;\n\ttdt : UDINT;\nEND_VAR\n\ntmp := DT_TO_DATE(dti);\ntdt := dti - tmp;\nSDT.YEAR := YEAR_OF_DATE(tmp);\nSDT.MONTH := MONTH_OF_DATE(tmp);\nSDT.DAY := DAY_OF_MONTH(tmp);\nSDT.WEEKDAY := DAY_OF_WEEK(tmp);\nSDT.SECOND := UDINT_TO_INT(tdt MOD UDINT#60);\nSDT.MINUTE := UDINT_TO_INT((tdt / UDINT#60) MOD UDINT#60);\nSDT.HOUR := UDINT_TO_INT(tdt / UDINT#3600);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DTI",
          "type": "UDINT",
          "description": "输入参数DTI"
        }
      ],
      "outputs": [
        {
          "name": "SDT",
          "type": "oscat_SDT",
          "description": "输出参数SDT"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st语言实现带动态积分饱和的PID控制器",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tKP : REAL := 1.0;\n\tTN : REAL := 1.0;\n\tTV : REAL := 1.0;\n\tLIM_L : REAL := -1.0E38;\n\tLIM_H : REAL := 1.0E38;\n\tRST : BOOL := FALSE;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tinteg : INTEGRATE;\n\tdiff : FT_DERIV;\n\tYI : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FT_PIDW\nIEC_LANGUAGE: ST\n*)\n(* 运行积分器 *)\nIF tn = 0.0 OR rst THEN\n\tinteg(E := FALSE, Y := YI);\n\tYI := integ.Y;\n\tYI := 0.0;\nELSE\n\tinteg(X := IN, K := 1.0 / TN, E := NOT LIM, Y := YI);\n\tYI := integ.Y;\nEND_IF;\n\n(* 将积分器部分和线性部分相加 *)\nY := KP * (IN + YI);\n\n(* 运行微分器 *)\ndiff(IN := IN, K := TV);\n\n(* 在添加微分部分之前设置限值，以在必要时停止积分器 *)\nIF Y > LIM_L AND Y < LIM_H THEN\n\tLIM := FALSE;\nELSE\n\tLIM := TRUE;\nEND_IF;\n\n(* 添加微分部分并限制输出Y *)\nY := LIMIT(LIM_L, Y + KP * diff.out, LIM_H);",
      "description": "带动态积分饱和的PID控制器，实现抗积分饱和功能。当输出达到限幅时自动停止积分，避免积分器饱和导致的性能下降。适用于存在大扰动、设定值频繁变化的工业控制场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "控制偏差输入"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "比例增益系数"
        },
        {
          "name": "TN",
          "type": "REAL",
          "description": "积分时间常数"
        },
        {
          "name": "TV",
          "type": "REAL",
          "description": "微分时间常数"
        },
        {
          "name": "LIM_L/H",
          "type": "REAL",
          "description": "输出限幅范围"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "控制器复位"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "PID控制器输出"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "限幅状态指示"
        }
      ],
      "library_dependency": "OSCAT库: INTEGRATE积分器, FT_DERIV微分器",
      "iec_standard": "IEC 61131-3 抗积分饱和PID算法",
      "tags": [
        "抗积分饱和",
        "动态限幅",
        "大扰动",
        "设定值变化",
        "性能优化",
        "PID改进"
      ]
    },
    {
      "instruction": "如何根据时区偏移和夏令时启用状态，转换UTC时间为本地时间",
      "input": "",
      "output": "VAR_INPUT\n\tUTC : UDINT;\n\tDST_ENABLE : BOOL;\n\tTIME_ZONE_OFFSET : INT;\nEND_VAR\n\nVAR\n\ttmp : INT;\nEND_VAR\n\nUTC_TO_LTIME := UTC + _INT_TO_UDINT(TIME_ZONE_OFFSET) * UDINT#60 + BOOL_TO_UDINT(DST_ENABLE AND DST(UTC)) * UDINT#3600;\n\ntmp := TIME_ZONE_OFFSET * 60 + BOOL_TO_INT(DST_ENABLE AND DST(UTC)) * 3600;\nIF tmp < 0 THEN\n\tUTC_TO_LTIME := UTC - _INT_TO_UDINT(ABS(tmp));\nELSE\n\tUTC_TO_LTIME := UTC + _INT_TO_UDINT(tmp);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UTC",
          "type": "UDINT",
          "description": "输入参数UTC"
        },
        {
          "name": "DST_ENABLE",
          "type": "BOOL",
          "description": "输入参数DST_ENABLE"
        },
        {
          "name": "TIME_ZONE_OFFSET",
          "type": "INT",
          "description": "输入参数TIME_ZONE_OFFSET"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据输入的温度T，计算氨气的饱和蒸气压。给出PLC程序代码",
      "input": "",
      "output": "VAR_INPUT\n\tT : REAL;\nEND_VAR\n\nIF T < -33.65 THEN\n\tSDD_NH3 := EXP(7.3396511649 - (1166.7498002 / (T + 192.37)));\nELSE\n\tSDD_NH3 := EXP(11.210964456 - (2564.9140075 / (T + 262.741)));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T",
          "type": "REAL",
          "description": "时间参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "右移DWORD类型变量IN的第N位，然后与1进行按位与操作，以判断该位是否为1。给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tN : INT;\nEND_VAR\n\nBIT_OF_DWORD := (SHR_DWORD(in,n) AND DWORD#1) > DWORD#0;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "计算复数X的模怎么写代码",
      "input": "",
      "output": "VAR_INPUT\n\tX : oscat_complex;\nEND_VAR\n\nVAR_OUTPUT\n\tCABS : REAL;\nEND_VAR\n\nCABS := HYPOT(X.re, X.im);",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "oscat_complex",
          "description": "输入参数值"
        }
      ],
      "outputs": [
        {
          "name": "CABS",
          "type": "REAL",
          "description": "输出参数CABS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查字符串是否仅包含数字字符，给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_NUM : BOOL;\nEND_VAR\n\nVAR\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_NUM\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nIF NOT ISC_NUM(INT_TO_BYTE(GET_CHAR(str,pos))) THEN\nIS_NUM := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_NUM := I > 0;",
      "description": "IS_NUM检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_NUM",
          "type": "BOOL",
          "description": "输出参数IS_NUM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "如何基于ST语言根据字节查找对应的字符名称",
      "input": "",
      "output": "VAR_INPUT\n\tC : BYTE;\nEND_VAR\n\nVAR_OUTPUT\n\tCHARNAME : oscat_STRING10;\nEND_VAR\n\nVAR\n\tCHARNAME2 : oscat_STRING10;\n\tpos : INT;\n\ti : INT;\n\tCHR_TO_STRING : CHR_TO_STRING;\n\tSETUP_CHARNAMES : SETUP_CHARNAMES;\n\tCHARNAMES : oscat_CHARNAMES;\nEND_VAR\n\nSETUP_CHARNAMES(CHARNAMES:=CHARNAMES);\nCHARNAMES:=SETUP_CHARNAMES.CHARNAMES;\n\nIF C <> BYTE#0 THEN\n\t(* 构造由代码和 $ 符号组成的搜索字符串，并清空字符名称字符串 )\n\tCHR_TO_STRING(C:=C);\n\tCHARNAME := CHR_TO_STRING.CHR_TO_STRING;\n\tCHARNAME2 := CONCAT(CHARNAME,'&');\n\tCHARNAME := CONCAT(';', CHARNAME2);\n\tWHILE pos = 0 AND (i < 11) DO\n\t\ti := i + 1;\n\t\tpos := FIND(CHARNAMES[i], CHARNAME);\n\tEND_WHILE;\n\tIF pos > 0 THEN\n\t\tCHARNAME := MID(CHARNAMES[i], 10, pos + 3);\n\t\t( 搜索名称结束位置并截断 *)\n\t\tpos := FIND(CHARNAME, ';');\n\t\tCHARNAME := LEFT(CHARNAME,pos - 1);\n\tELSE\n\t\tCHR_TO_STRING(C:=C);\n\t\tCHARNAME := CHR_TO_STRING.CHR_TO_STRING;\n\tEND_IF;\nELSE\n\tCHARNAME := '';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "C",
          "type": "BYTE",
          "description": "字符参数"
        }
      ],
      "outputs": [
        {
          "name": "CHARNAME",
          "type": "oscat_STRING10",
          "description": "输出参数CHARNAME"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用st语言检查字符串是否从起始位置开始与目标字符串匹配",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nCMP : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_CC : BOOL;\nEND_VAR\n\nVAR\nL : INT;\npos : INT;\ntemp : STRING;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_CC\nIEC_LANGUAGE: ST\n*)\nL := LEN(str);\nFOR pos := 1 TO L DO\ntemp := MID(str,1,pos);\nIF FIND(CMP,temp) = 0 THEN\nIS_CC := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_CC := L > 0;",
      "description": "IS_CC检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        },
        {
          "name": "CMP",
          "type": "STRING",
          "description": "输入参数CMP"
        }
      ],
      "outputs": [
        {
          "name": "IS_CC",
          "type": "BOOL",
          "description": "输出参数IS_CC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "怎么将本地时间转换为 UTC 时间",
      "input": "",
      "output": "VAR_INPUT\n\tLTIME : UDINT;\n\tDST : BOOL;\n\tTIME_ZONE_OFFSET : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LTIME_TO_UTC\nIEC_LANGUAGE: ST\n*)\nLTIME_TO_UTC := LTIME - _INT_TO_UDINT(TIME_ZONE_OFFSET * 60);\nIF DST THEN LTIME_TO_UTC := LTIME_TO_UTC - UDINT#3600; END_IF;",
      "description": "LTIME_TO_UTC功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "LTIME",
          "type": "UDINT",
          "description": "输入参数LTIME"
        },
        {
          "name": "DST",
          "type": "BOOL",
          "description": "输入参数DST"
        },
        {
          "name": "TIME_ZONE_OFFSET",
          "type": "INT",
          "description": "输入参数TIME_ZONE_OFFSET"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST语言实现二项式系数的计算",
      "input": "",
      "output": "VAR_INPUT\n\tN : INT;\n\tK : INT;\nEND_VAR\n\nVAR\n\ti : INT;\n\tN2 : INT;\n\tK2 : INT;\nEND_VAR\n\nK2 := K;\nN2 := N;\nIF 2 * K2 > N2 THEN\n\tK2 := N2 - K2;\nEND_IF;\nIF K2 > N2 THEN\n\tRETURN;\nELSIF K2 = 0 OR K2 = N2 THEN\n\tBINOM := 1;\nELSIF K2 = 1 THEN\n\tBINOM := N2;\nELSE\n\tBINOM := N2;\n\tN2 := N2 + 1;\n\tFOR i := 2 TO K2 DO\n\t\tBINOM := BINOM * (N2 - i) / i;\n\tEND_FOR;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "K",
          "type": "INT",
          "description": "JK触发器K输入"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st代码将多个速度单位转换为米/秒",
      "input": "",
      "output": "VAR_INPUT\n\tMS : REAL;\n\tKMH : REAL;\n\tKN : REAL;\n\tMH : REAL;\nEND_VAR\n\nVAR_OUTPUT\n\tYMS : REAL;\n\tYKMH : REAL;\n\tYKN : REAL;\n\tYMH : REAL;\nEND_VAR\n\nYms := ms + kmh * 0.27777777777778 + kn * 0.5144444 + mh * 0.44704;\nYkmh := Yms * 3.6;\nYkn := Yms * 1.94384466037535;\nYmh := Yms * 2.23693629205440;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "MS",
          "type": "REAL",
          "description": "输入参数MS"
        },
        {
          "name": "KMH",
          "type": "REAL",
          "description": "输入参数KMH"
        },
        {
          "name": "KN",
          "type": "REAL",
          "description": "输入参数KN"
        },
        {
          "name": "MH",
          "type": "REAL",
          "description": "输入参数MH"
        }
      ],
      "outputs": [
        {
          "name": "YMS",
          "type": "REAL",
          "description": "输出参数YMS"
        },
        {
          "name": "YKMH",
          "type": "REAL",
          "description": "输出参数YKMH"
        },
        {
          "name": "YKN",
          "type": "REAL",
          "description": "输出参数YKN"
        },
        {
          "name": "YMH",
          "type": "REAL",
          "description": "输出参数YMH"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将一个实数转换为指定小数位数的字符串怎么用st代码编写",
      "input": "",
      "output": "VAR_INPUT\n\tIN : REAL;\n\tN : INT;\n\tD : oscat_STRING1;\nEND_VAR\n\nVAR_OUTPUT\n\tREAL_TO_STRF : oscat_STRING20;\nEND_VAR\n\nVAR\n\tst_tmp : oscat_STRING20;\n\ti : INT;\nEND_VAR\n\n(* 限制 N 在 0 到 7 之间 *)\nN := LIMIT(0,N,7);\n(* 将输入值四舍五入到 N 位并转换为字符串 *)\nREAL_TO_STRF := DINT_TO_STRING(_REAL_TO_DINT(ABS(in) * EXP10(INT_TO_REAL(N))),'%d');\n(* 在字符串前添加零，确保字符串至少有 8 位长 *)\nFOR i := LEN(REAL_TO_STRF) TO N DO\n\tst_tmp := REAL_TO_STRF;\n\tREAL_TO_STRF := CONCAT('0', st_tmp);\nEND_FOR;\n(* 如果 N 大于 0，则添加小数点 *)\nIF n > 0 THEN REAL_TO_STRF := INSERT(REAL_TO_STRF, D, LEN(REAL_TO_STRF) - N); END_IF;\n(* 如果输入值是负数，则添加负号 *)\nIF in < 0.0 THEN st_tmp := REAL_TO_STRF; REAL_TO_STRF := CONCAT('-', st_tmp); END_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "REAL",
          "description": "输入信号值"
        },
        {
          "name": "N",
          "type": "INT",
          "description": "数量参数"
        },
        {
          "name": "D",
          "type": "oscat_STRING1",
          "description": "输入参数D"
        }
      ],
      "outputs": [
        {
          "name": "REAL_TO_STRF",
          "type": "oscat_STRING20",
          "description": "输出参数REAL_TO_STRF"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么将一个无符号双字节整型类型的输入转换为天文日期？给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\nDTI : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: JD2000\nIEC_LANGUAGE: ST\n*)\nJD2000 := UDINT_TO_REAL(DTI - UDINT#946728000) / 86400.0;",
      "description": "JD2000功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "DTI",
          "type": "UDINT",
          "description": "输入参数DTI"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据布尔变量VAL的值，修改DWORD类型变量中的特定位。用ST语言写程序",
      "input": "",
      "output": "VAR_INPUT\n\tIN : DWORD;\n\tVAL : BOOL;\n\tPOS : INT;\nEND_VAR\n\nIF val THEN\n\tBIT_LOAD_DW := in OR SHL(DWORD#1,pos);\nELSE\n\tBIT_LOAD_DW := in AND (NOT SHL(DWORD#1,pos));\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "DWORD",
          "description": "输入信号值"
        },
        {
          "name": "VAL",
          "type": "BOOL",
          "description": "比较值"
        },
        {
          "name": "POS",
          "type": "INT",
          "description": "输入参数POS"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从列表中提取最后一个分隔符后的子字符串并返回，然后删除该部分内容。给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tSEP : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tLIST : oscat_STRING250;\nEND_VAR\n\nVAR_OUTPUT\n\tLIST_RETRIEVE_LAST : oscat_STRING250;\nEND_VAR\n\nVAR\n\ti : INT;\n\tsize : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LIST_RETRIEVE_LAST\nIEC_LANGUAGE: ST\n*)\nsize := LEN(LIST);\ni := size;\nWHILE i > 0 DO\n\tIF INT_TO_BYTE(GET_CHAR(LIST,i)) = SEP THEN\n\t\tLIST_RETRIEVE_LAST := RIGHT(LIST, size - i);\n\t\tLIST := LEFT(LIST, i - 1);\n\t\tRETURN;\n\tELSE\n\t\ti := i - 1;\n\tEND_IF;\nEND_WHILE;\nLIST_RETRIEVE_LAST := '';\nLIST := '';",
      "description": "LIST_RETRIEVE_LAST功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SEP",
          "type": "BYTE",
          "description": "输入参数SEP"
        }
      ],
      "outputs": [
        {
          "name": "LIST_RETRIEVE_LAST",
          "type": "oscat_STRING250",
          "description": "输出参数LIST_RETRIEVE_LAST"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将输入字符串中的部分内容根据目标查找并替换的ST代码怎么写",
      "input": "",
      "output": "VAR_INPUT\n\tSTR : oscat_STRING250;\n\tSRC : STRING;\n\tREP : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tREPLACE_CHARS : oscat_STRING250;\nEND_VAR\n\nVAR\n\ttmp : oscat_STRING250;\n\ta : INT;\n\tb : INT;\n\tc : oscat_STRING1;\n\tstp : INT;\nEND_VAR\n\nREPLACE_CHARS := STR;\n(* 确保 rep 和 src 长度相同且大于 0 *)\na := LEN(src);\nb := LEN(rep);\nIF a < b THEN\n\trep := LEFT(rep, a);\nELSIF b < a THEN\n\tsrc := LEFT(src, b);\nEND_IF;\n\n(* 查找字符串并在必要时替换 *)\nstp := LEN(str);\nFOR a := 1 TO stp DO\n\tc := MID(REPLACE_CHARS, 1, a);\n\tb := FIND(src, c);\n\tIF b > 0 THEN\n\t\ttmp := MID(rep, 1, b);\n\t\tREPLACE_CHARS := REPLACE(REPLACE_CHARS, tmp, 1, a);\n\tEND_IF;\nEND_FOR;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "STR",
          "type": "oscat_STRING250",
          "description": "输入字符串"
        },
        {
          "name": "SRC",
          "type": "STRING",
          "description": "输入参数SRC"
        },
        {
          "name": "REP",
          "type": "STRING",
          "description": "输入参数REP"
        }
      ],
      "outputs": [
        {
          "name": "REPLACE_CHARS",
          "type": "oscat_STRING250",
          "description": "输出参数REPLACE_CHARS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用ST语言实现一个带有可编程时间常数的低通滤波器",
      "input": "",
      "output": "VAR_INPUT\n\tX : DWORD;\n\tT : TIME;\nEND_VAR\n\nVAR_OUTPUT\n\tY : DWORD;\nEND_VAR\n\nVAR\n\tlast : UDINT;\n\ttx : UDINT;\n\tinit : BOOL;\n\tYi : REAL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FILTER_DW\nIEC_LANGUAGE: ST\n*)\n(* read system_time *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\n(* startup initialisation *)\nIF NOT init OR T = t#0s THEN\n\tinit := TRUE;\n\tYi := _DWORD_TO_REAL(X);\nELSE\n\tYi := Yi + (_DWORD_TO_REAL(X) - _DWORD_TO_REAL(Y)) * UDINT_TO_REAL(tx - last) / TIME_TO_REAL(T);\nEND_IF;\nlast := tx;\n\nY := _REAL_TO_DWORD(Yi);",
      "description": "DWORD类型一阶低通滤波器，具有可编程时间常数。采用指数平滑算法，有效抑制高频噪声同时保留低频信号成分。适用于传感器信号处理、过程控制滤波、数据平滑等工业应用场景。滤波强度可通过时间常数T调节。",
      "inputs": [
        {
          "name": "X",
          "type": "DWORD",
          "description": "输入信号(无符号双字)"
        },
        {
          "name": "T",
          "type": "TIME",
          "description": "滤波时间常数"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "DWORD",
          "description": "滤波后的输出信号"
        }
      ],
      "library_dependency": "OSCAT库: T_PLC_MS系统时间函数, 类型转换函数",
      "iec_standard": "IEC 61131-3 实时滤波算法，指数平滑处理",
      "tags": [
        "低通滤波",
        "信号处理",
        "噪声抑制",
        "指数平滑",
        "时间常数",
        "传感器滤波"
      ]
    },
    {
      "instruction": "计算向量A在Z轴方向的夹角怎么编程",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_ZANG : REAL;\nEND_VAR\n\nVAR\n\tla : REAL;\n\tV3_ABS : V3_ABS;\nEND_VAR\n\nV3_ABS(A:=A);\nla := V3_ABS.V3_ABS;\n\nIF la > 0.0 THEN\n\tV3_ZANG := ACOS(A.Z / la);\nELSE\n\tV3_ZANG := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_ZANG",
          "type": "REAL",
          "description": "输出参数V3_ZANG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据太阳的位置和时间以及输入的告警信号，控制遮阳板的位置怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tUP : BOOL;\n\tDN : BOOL;\n\tS_IN : BYTE;\n\tPI : BYTE;\n\tENABLE : BOOL;\n\tSUN : BOOL;\n\tHORZ1 : REAL := 100.0;\n\tHORZ2 : REAL := 260.0;\n\tVERT : REAL := 90.0;\n\tALERT : BOOL;\n\tSUNRISE_OFFSET : TIME := T#1h;\n\tSUNSET_PRESET : TIME := T#1h;\n\tSHADE_DELAY : TIME := T#60s;\n\tSHADE_POS : BYTE;\n\tQU : BOOL;\n\tQD : BOOL;\n\tSTATUS : BYTE;\n\tPO : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tCX : oscat_CALENDAR;\nEND_VAR\n\n(* 输入的太阳信号通过延时器(TOF)进行延迟，延迟时间为shade_delay *)\nsun_delay(IN := sun, PT := shade_delay);\n\nIF ALERT THEN\n\tQU := TRUE;\n\tQD := FALSE;\n\tSTATUS := BYTE#152;\nELSIF UP AND DN AND ENABLE AND sun_delay.Q\n\tAND (CX.SUN_HOR > HORZ1) AND (CX.SUN_HOR < HORZ2)\n\tAND (CX.SUN_VER < VERT)\n\tAND (DT_TO_TOD(CX.UTC) > CX.SUN_RISE + sunrise_offset) AND (DT_TO_TOD(CX.UTC) < CX.SUN_SET - sunset_preset) THEN\n\tQU := UP;\n\tQD := DN;\n\tSTATUS := BYTE#151;\n\t(* 计算遮阳位置，位置必须小于或等于shade_pos *)\n\tPO := MIN(PI, shade_pos);\nELSE\n\tQU := UP;\n\tQD := DN;\n\tPO := PI;\n\tSTATUS := S_IN;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "UP",
          "type": "BOOL",
          "description": "输入参数UP"
        },
        {
          "name": "DN",
          "type": "BOOL",
          "description": "输入参数DN"
        },
        {
          "name": "S_IN",
          "type": "BYTE",
          "description": "输入参数S_IN"
        },
        {
          "name": "PI",
          "type": "BYTE",
          "description": "输入参数PI"
        },
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "SUN",
          "type": "BOOL",
          "description": "输入参数SUN"
        },
        {
          "name": "HORZ1",
          "type": "REAL",
          "description": "输入参数HORZ1"
        },
        {
          "name": "HORZ2",
          "type": "REAL",
          "description": "输入参数HORZ2"
        },
        {
          "name": "VERT",
          "type": "REAL",
          "description": "输入参数VERT"
        },
        {
          "name": "ALERT",
          "type": "BOOL",
          "description": "输入参数ALERT"
        },
        {
          "name": "SUNRISE_OFFSET",
          "type": "TIME",
          "description": "输入参数SUNRISE_OFFSET"
        },
        {
          "name": "SUNSET_PRESET",
          "type": "TIME",
          "description": "输入参数SUNSET_PRESET"
        },
        {
          "name": "SHADE_DELAY",
          "type": "TIME",
          "description": "输入参数SHADE_DELAY"
        },
        {
          "name": "SHADE_POS",
          "type": "BYTE",
          "description": "输入参数SHADE_POS"
        },
        {
          "name": "QU",
          "type": "BOOL",
          "description": "输入参数QU"
        },
        {
          "name": "QD",
          "type": "BOOL",
          "description": "输入参数QD"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "输入参数STATUS"
        },
        {
          "name": "PO",
          "type": "BYTE",
          "description": "输入参数PO"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "从输入字符串中删除指定字符集中的字符怎么用ST语言编程",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING250;\n\tCX : STRING;\nEND_VAR\n\nVAR_OUTPUT\n\tDEL_CHARS : oscat_STRING250;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tstop : INT;\n\tchar : oscat_STRING1;\nEND_VAR\n\nDEL_CHARS := IN;\nstop := LEN(in);\npos := 1;\nWHILE pos <= stop DO\n\tchar := MID(DEL_CHARS, 1, pos);\n\tIF FIND(cx,char) > 0 THEN\n\t\tDEL_CHARS := DELETE(DEL_CHARS, 1, pos);\n\t\tstop := stop - 1; (* 现在字符串长度减一 )\n\tELSE\n\t\tpos := pos + 1; ( 字符未找到，跳到下一个 )\n\tEND_IF;\nEND_WHILE;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING250",
          "description": "输入信号值"
        },
        {
          "name": "CX",
          "type": "STRING",
          "description": "输入参数CX"
        }
      ],
      "outputs": [
        {
          "name": "DEL_CHARS",
          "type": "oscat_STRING250",
          "description": "输出参数DEL_CHARS"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言将输入值X按照步长D进行量化",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tD : REAL;\nEND_VAR\n\nIF D > 0.0 THEN\n\tSTAIR := DINT_TO_REAL(_REAL_TO_DINT(X / D)) * D;\nELSE\n\tSTAIR := X;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "D",
          "type": "REAL",
          "description": "输入参数D"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言实现一个带有比例和积分控制的闭环控制系统",
      "input": "",
      "output": "VAR_INPUT\n\tACT : REAL;\n\tSET : REAL;\n\tSUP : REAL;\n\tOFS : REAL;\n\tM_I : REAL;\n\tMAN : BOOL;\n\tRST : BOOL := FALSE;\n\tKP : REAL := 1.0;\n\tKI : REAL := 1.0;\n\tLL : REAL := -1000.0;\n\tLH : REAL := 1000.0;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tDIFF : REAL;\n\tLIM : BOOL;\nEND_VAR\n\nVAR\n\tpi : FT_PIWL;\n\tco : CTRL_OUT;\nEND_VAR\n\nDIFF := CTRL_IN(SET, ACT, SUP);\npi(in := DIFF, kp := KP, ki := KI, lim_l := LL, lim_h := LH, rst := RST);\nco(ci := pi.Y, OFFSET := OFS, man_in := M_I, lim_l := LL, lim_h := LH, manual := MAN);\nY := co.Y;\nLIM := co.LIM;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ACT",
          "type": "REAL",
          "description": "输入参数ACT"
        },
        {
          "name": "SET",
          "type": "REAL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "SUP",
          "type": "REAL",
          "description": "输入参数SUP"
        },
        {
          "name": "OFS",
          "type": "REAL",
          "description": "输入参数OFS"
        },
        {
          "name": "M_I",
          "type": "REAL",
          "description": "输入参数M_I"
        },
        {
          "name": "MAN",
          "type": "BOOL",
          "description": "手动模式"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        },
        {
          "name": "KP",
          "type": "REAL",
          "description": "输入参数KP"
        },
        {
          "name": "KI",
          "type": "REAL",
          "description": "输入参数KI"
        },
        {
          "name": "LL",
          "type": "REAL",
          "description": "输入参数LL"
        },
        {
          "name": "LH",
          "type": "REAL",
          "description": "输入参数LH"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        },
        {
          "name": "DIFF",
          "type": "REAL",
          "description": "输出参数DIFF"
        },
        {
          "name": "LIM",
          "type": "BOOL",
          "description": "输出参数LIM"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "用st代码实现一个四位锁存器",
      "input": "",
      "output": "VAR_INPUT\n\tD0 : BOOL;\n\tD1 : BOOL;\n\tD2 : BOOL;\n\tD3 : BOOL;\n\tL : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LTCH_4\nIEC_LANGUAGE: ST\n*)\n(* 只要 L 为 true，锁存器是透明的，D 的变化会被传递到 Q *)\n(* 当然，前提是没有异步复位 *)\nIF rst THEN (* 如果是异步复位，则 Q = 0 *)\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\nELSIF L THEN (* 锁存器是透明的 *)\n\tQ0 := D0;\n\tQ1 := D1;\n\tQ2 := D2;\n\tQ3 := D3;\nEND_IF;",
      "description": "LTCH_4功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D1",
          "type": "BOOL",
          "description": "输入参数D1"
        },
        {
          "name": "D2",
          "type": "BOOL",
          "description": "输入参数D2"
        },
        {
          "name": "D3",
          "type": "BOOL",
          "description": "输入参数D3"
        },
        {
          "name": "L",
          "type": "BOOL",
          "description": "长度参数"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用st语言实现符号函数",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\nIF X > 0.0 THEN\n\tsgn := 1;\nELSIF X < 0.0 THEN\n\tsgn := -1;\nELSE\n\tsgn := 0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么用ST语言处理接收到的网络数据并根据数据类型更新屏幕输入状态",
      "input": "",
      "output": "VAR_IN_OUT\n\tR_BUF : oscat_NETWORK_BUFFER;\n\tXus_TN_SCREEN : us_TN_SCREEN;\nEND_VAR\n\nVAR\n\tREQ_Size : UINT;\n\tREQ1 : BYTE;\n\tREQ2 : BYTE;\n\tREQ3 : BYTE;\nEND_VAR\n\nXus_TN_SCREEN.by_Input_ASCII_Code := BYTE#00;\nXus_TN_SCREEN.by_Input_Exten_Code := BYTE#00;\n\nIF R_BUF.SIZE > UINT#0 THEN\n\t(* 解析接收到的数据 *)\n\tREQ_Size := R_BUF.SIZE;\n\tREQ1 := R_BUF.BUFFER[0];\n\tREQ2 := R_BUF.BUFFER[1];\n\tREQ3 := R_BUF.BUFFER[2];\n\n\tIF REQ1 = BYTE#27 AND REQ_Size >= UINT#3 THEN\n\t\t(* Escape *)\n\t\tIF REQ2 = BYTE#91 THEN\n\t\t\t(* 光标代码 *)\n\t\t\tIF (REQ3 >= BYTE#65 AND REQ3 <= BYTE#68) OR (REQ3 = BYTE#72) OR (REQ3 = BYTE#75) THEN\n\t\t\t\tXus_TN_SCREEN.by_Input_Exten_Code := REQ3;\n\t\t\tEND_IF;\n\t\tELSIF REQ2 = BYTE#79 THEN\n\t\t\tIF REQ3 >= BYTE#80 AND REQ3 <= BYTE#83 THEN\n\t\t\t\tXus_TN_SCREEN.by_Input_Exten_Code := REQ3;\n\t\t\tEND_IF;\n\t\tEND_IF;\n\tELSIF REQ1 >= BYTE#32 AND REQ1 <= BYTE#126 THEN\n\t\tXus_TN_SCREEN.by_Input_ASCII_Code := REQ1;\n\t\tXus_TN_SCREEN.bo_Input_ASCII_IsNum := ISC_NUM(REQ1);\n\tELSIF REQ1 = BYTE#8 OR REQ1 = BYTE#9 OR REQ1 = BYTE#13 OR REQ1 = BYTE#27 THEN\n\t\tXus_TN_SCREEN.by_Input_Exten_Code := REQ1;\n\tEND_IF;\n\n\tR_BUF.SIZE := UINT#00;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "使用st语言编程，返回实数的小数部分",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FRACT\nIEC_LANGUAGE: ST\n*)\nIF ABS(x) < 2.0E9 THEN\n\tFRACT := x - DINT_TO_REAL(D_TRUNC(x));\nELSE\n\tFRACT := 0.0;\nEND_IF;",
      "description": "实数小数部分提取函数，通过减去整数部分获得小数部分。包含数值范围检查，处理大数值时避免精度损失。适用于数学计算、坐标处理、数值分析等需要分离整数和小数部分的应用场景。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入的实数值"
        }
      ],
      "outputs": [
        {
          "name": "FRACT",
          "type": "REAL",
          "description": "小数部分(0.0-0.999...)"
        }
      ],
      "library_dependency": "OSCAT库: D_TRUNC扩展截断函数",
      "iec_standard": "IEC 61131-3 数学函数，数值分解操作",
      "tags": [
        "小数部分",
        "数值分解",
        "数学函数",
        "坐标处理",
        "数值分析",
        "精度处理"
      ]
    },
    {
      "instruction": "如何基于输入信号的上升沿和下降沿，根据时间条件控制脉冲的持续时间和复位",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BOOL;\n\tT1 : TIME;\n\tT2 : TIME;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ : BOOL;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tlast : TIME;\n\ttx : TIME;\n\tedge : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\nELSIF RST THEN\n\t(* 异步复位 *)\n\tQ := FALSE;\nELSIF IN AND NOT edge AND NOT Q THEN\n\t(* 输入的上升沿将反转输出状态，如果新脉冲启动，开始时间存储在last中 *)\n\tlast := tx;\n\tQ := TRUE;\nELSIF NOT IN AND edge AND ((tx - last) > T1) THEN\n\t(* 输入的下降沿将清除输出，如果输入高电平超过T1 *)\n\tQ := FALSE;\nELSIF (tx - last) >= T2 THEN\n\t(* 长脉冲超时，如果第二次点击没有发生或输入保持高电平 *)\n\tQ := FALSE;\nEND_IF;\n\nedge := IN;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BOOL",
          "description": "输入信号值"
        },
        {
          "name": "T1",
          "type": "TIME",
          "description": "输入参数T1"
        },
        {
          "name": "T2",
          "type": "TIME",
          "description": "输入参数T2"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q",
          "type": "BOOL",
          "description": "输出状态信号"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "将PT缓冲区中的数据根据给定的START和STOP位置转换为字符串怎么用st语言写程序",
      "input": "",
      "output": "VAR_IN_OUT\n\tPT : oscat_NW_BUF_LONG;\nEND_VAR\n\nVAR_INPUT\n\tSIZE : UINT;\n\tSTART : UINT;\n\tSTOP : UINT;\nEND_VAR\n\nVAR_OUTPUT\n\tBUFFER_TO_STRING : oscat_STRING250;\nEND_VAR\n\nVAR\n\tsta : UINT;\n\tstp : UINT;\n\tsize2 : UINT;\n\ti : INT;\n\tBUF_TO_STRING : BUF_TO_STRING;\nEND_VAR\n\nsta := MIN(START, SIZE - UINT#1);\nstp := STOP;\n(* 检查最大字符串长度 *)\nIF stp - sta + UINT#1 > UINT#250 THEN\n\tstp := sta + UINT#250 - UINT#1;\nEND_IF;\nstp := MIN(stp, SIZE - UINT#1);\nsize2 := stp - sta + UINT#1;\nIF size2 > UINT#0 THEN\n\tFOR i := 0 TO 1 DO\n\t\tBUF_TO_STRING.REQ := i > 0;\n\t\tBUF_TO_STRING.BUF_FORMAT := TRUE;\n\t\tBUF_TO_STRING.BUF_OFFS := UINT_TO_DINT(START);\n\t\tBUF_TO_STRING.BUF_CNT := UINT_TO_DINT(size2);\n\t\tBUF_TO_STRING.BUFFER := pt;\n\t\tBUF_TO_STRING.DST := BUFFER_TO_STRING;\n\t\tBUF_TO_STRING();\n\t\tpt := BUF_TO_STRING.BUFFER;\n\t\tBUFFER_TO_STRING := BUF_TO_STRING.DST;\n\tEND_FOR;\nELSE\n\tBUFFER_TO_STRING := '';\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SIZE",
          "type": "UINT",
          "description": "输入参数SIZE"
        },
        {
          "name": "START",
          "type": "UINT",
          "description": "输入参数START"
        },
        {
          "name": "STOP",
          "type": "UINT",
          "description": "输入参数STOP"
        }
      ],
      "outputs": [
        {
          "name": "BUFFER_TO_STRING",
          "type": "oscat_STRING250",
          "description": "输出参数BUFFER_TO_STRING"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么计算PLC系统的时间差",
      "input": "",
      "output": "VAR_OUTPUT\n\tTC : DWORD;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\ttx : UDINT;\n\tlast : UDINT;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间并准备输入数据 *)\nT_PLC_MS();\ntx := T_PLC_MS.T_PLC_MS;\n\nIF NOT init THEN\n\tinit := TRUE;\n\tTC := DWORD#0;\nELSE\n\ttc := UDINT_TO_DWORD(tx - last);\nEND_IF;\nlast := tx;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [],
      "outputs": [
        {
          "name": "TC",
          "type": "DWORD",
          "description": "输出参数TC"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用ST代码编程生成具有斜率限制和加速度控制的输出信号",
      "input": "",
      "output": "VAR_INPUT\n\tX : REAL;\n\tA_UP : REAL;\n\tA_DN : REAL;\n\tVU_MAX : REAL;\n\tVD_MAX : REAL;\n\tLIMIT_HIGH : REAL;\n\tLIMIT_LOW : REAL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tY : REAL;\n\tV : REAL;\nEND_VAR\n\nVAR\n\tcycle_time : TC_S;\n\tinit : BOOL;\nEND_VAR\n\n(* 读取系统时间（微秒） *)\ncycle_time();\n\n(* 确保输入值的范围 *)\nA_up := MAX(0.0,A_UP);\nA_dn := MIN(0.0,A_dn);\nVU_max := MAX(0.0,VU_max);\nVD_max := MIN(0.0,VD_MAX);\n\n(* 计算输出偏移量 *)\nIF rst OR NOT init THEN\n\tinit := TRUE;\n\tY := 0.0;\n\tV := 0.0;\nELSIF X = Y THEN\n\tv := 0.0;\nELSIF X > Y THEN\n\t(* 输出过低 >> 加速并在结束时刹车 *)\n\t(* 加速并限制在 vu_max *)\n\tv := MIN(v + A_UP * cycle_time.TC, vu_max);\n\t(* 计算能够刹车的最大速度并选择最小值 *)\n\tv := MIN(SQRT((Y-X) * 2.0 * A_DN), v);\n\t(* 计算输出并遵循限制 *)\n\ty := LIMIT(limit_low, y + MIN(v * cycle_time.TC, X-Y), limit_high);\nELSIF X < Y THEN\n\t(* 输出过高 >> 降速并在结束时刹车 *)\n\t(* 加速并限制在 vd_max *)\n\tv := MAX(v + A_DN * cycle_time.TC, vd_max);\n\t(* 计算能够刹车的最大速度并选择最小值 *)\n\tv := MAX(-SQRT((Y-X) * 2.0 * A_UP), v);\n\t(* 计算输出并遵循限制 *)\n\ty := LIMIT(limit_low, y + MAX(v * cycle_time.TC, X-Y), limit_high);\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "X",
          "type": "REAL",
          "description": "输入参数值"
        },
        {
          "name": "A_UP",
          "type": "REAL",
          "description": "输入参数A_UP"
        },
        {
          "name": "A_DN",
          "type": "REAL",
          "description": "输入参数A_DN"
        },
        {
          "name": "VU_MAX",
          "type": "REAL",
          "description": "输入参数VU_MAX"
        },
        {
          "name": "VD_MAX",
          "type": "REAL",
          "description": "输入参数VD_MAX"
        },
        {
          "name": "LIMIT_HIGH",
          "type": "REAL",
          "description": "输入参数LIMIT_HIGH"
        },
        {
          "name": "LIMIT_LOW",
          "type": "REAL",
          "description": "输入参数LIMIT_LOW"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Y",
          "type": "REAL",
          "description": "输出结果"
        },
        {
          "name": "V",
          "type": "REAL",
          "description": "输出参数V"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "检查字符串是否仅包含控制字符，用st语言编程",
      "input": "",
      "output": "VAR_INPUT\nSTR : STRING;\nEND_VAR\n\nVAR_OUTPUT\nIS_CTRL : BOOL;\nEND_VAR\n\nVAR\npos : INT;\nI : INT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: IS_CTRL\nIEC_LANGUAGE: ST\n*)\nI := LEN(str);\nFOR pos := 1 TO I DO\nIF NOT ISC_CTRL(INT_TO_BYTE(GET_CHAR(str,pos))) THEN\nIS_CTRL := FALSE;\nRETURN;\nEND_IF;\nEND_FOR;\nIS_CTRL := I > 0;",
      "description": "IS_CTRL检查功能，验证输入数据是否符合特定格式或条件。适用于数据验证、格式检查等应用场景。",
      "inputs": [
        {
          "name": "STR",
          "type": "STRING",
          "description": "输入字符串"
        }
      ],
      "outputs": [
        {
          "name": "IS_CTRL",
          "type": "BOOL",
          "description": "输出参数IS_CTRL"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：数据验证和格式检查",
      "tags": [
        "数据验证",
        "格式检查",
        "条件验证",
        "输入检查"
      ]
    },
    {
      "instruction": "将给定字符串转换为DWORD整数值，给我st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : oscat_STRING40;\nEND_VAR\n\nVAR_OUTPUT\n\tFSTRING_TO_DWORD : DWORD;\nEND_VAR\n\nVAR\n\tCLEAN : CLEAN;\n\tBIN_TO_DWORD : BIN_TO_DWORD;\n\tOCT_TO_DWORD : OCT_TO_DWORD;\n\tHEX_TO_DWORD : HEX_TO_DWORD;\n\ttmp : oscat_STRING3;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FSTRING_TO_DWORD\nIEC_LANGUAGE: ST\n*)\ntmp := LEFT(IN, 2);\nIF EQ_STRING(tmp,'2#') THEN\n\t(* 我们需要转换为二进制 *)\n\tBIN_TO_DWORD(BIN:=RIGHT(in, LEN(in) - 2));\n\tFSTRING_TO_DWORD := BIN_TO_DWORD.BIN_TO_DWORD;\nELSIF EQ_STRING(tmp,'8#') THEN\n\t(* 我们需要转换为八进制 *)\n\tOCT_TO_DWORD(OCT:=RIGHT(in, LEN(in) - 2));\n\tFSTRING_TO_DWORD := OCT_TO_DWORD.OCT_TO_DWORD;\nELSE\n\ttmp := LEFT(IN, 3);\n\tIF EQ_STRING(tmp,'16#') THEN\n\t\t(* 我们需要转换为十六进制 *)\n\t\tHEX_TO_DWORD(HEX:=RIGHT(in, LEN(in) - 3));\n\t\tFSTRING_TO_DWORD := HEX_TO_DWORD.HEX_TO_DWORD;\n\tELSE\n\t\t(* 我们假设是十进制表示 *)\n\t\tCLEAN(IN:=in,CX:='0123456789');\n\t\tFSTRING_TO_DWORD := STRING_TO_DWORD(CLEAN.CLEAN);\n\tEND_IF;\nEND_IF;",
      "description": "多格式字符串到双字转换函数，支持大数值的多进制转换。处理二进制、八进制、十六进制和十进制格式，支持更大的数值范围。适用于配置大数值参数、内存地址解析、颜色值转换等需要32位数值的应用场景。",
      "inputs": [
        {
          "name": "IN",
          "type": "oscat_STRING40",
          "description": "格式化的数字字符串"
        }
      ],
      "outputs": [
        {
          "name": "FSTRING_TO_DWORD",
          "type": "DWORD",
          "description": "转换后的双字值"
        }
      ],
      "library_dependency": "OSCAT库: CLEAN, BIN_TO_DWORD, OCT_TO_DWORD, HEX_TO_DWORD函数",
      "iec_standard": "IEC 61131-3 大数值多进制转换，字符串处理",
      "tags": [
        "双字转换",
        "大数值",
        "多进制",
        "内存地址",
        "颜色值",
        "配置参数"
      ]
    },
    {
      "instruction": "以0代表周日，6代表周一，将一个星期内的每一天转换为对应数字表示，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tWEEK : oscat_STRING60;\n\tLANG : INT;\nEND_VAR\n\nVAR_OUTPUT\n\tFSTRING_TO_WEEK : BYTE;\nEND_VAR\n\nVAR\n\tpos : INT;\n\tFSTRING_TO_WEEKDAY : FSTRING_TO_WEEKDAY;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FSTRING_TO_WEEK\nIEC_LANGUAGE: ST\n*)\npos := FIND(WEEK, ',');\nWHILE pos > 0 DO\n\tFSTRING_TO_WEEKDAY(WDAY:=MID(WEEK, pos - 1, 1),LANG:=LANG);\n\tFSTRING_TO_WEEK := FSTRING_TO_WEEK OR SHR_BYTE(BYTE#128, FSTRING_TO_WEEKDAY.FSTRING_TO_WEEKDAY);\n\tWEEK := RIGHT(WEEK, LEN(Week) - pos);\n\tpos := FIND(WEEK, ',');\nEND_WHILE;\n\nFSTRING_TO_WEEKDAY(WDAY:=WEEK,LANG:=LANG);\nFSTRING_TO_WEEK := (FSTRING_TO_WEEK OR SHR(BYTE#128, FSTRING_TO_WEEKDAY.FSTRING_TO_WEEKDAY)) AND BYTE#127;",
      "description": "星期字符串到位编码的转换函数，将逗号分隔的星期名称转换为位掩码格式。每个位代表一个星期几，支持多星期组合。适用于调度系统、时间编程、周期性任务配置等需要处理星期组合的应用场景。",
      "inputs": [
        {
          "name": "WEEK",
          "type": "oscat_STRING60",
          "description": "逗号分隔的星期名称"
        },
        {
          "name": "LANG",
          "type": "INT",
          "description": "语言选择参数"
        }
      ],
      "outputs": [
        {
          "name": "FSTRING_TO_WEEK",
          "type": "BYTE",
          "description": "位编码的星期掩码"
        }
      ],
      "library_dependency": "OSCAT库: FIND, MID, RIGHT函数, FSTRING_TO_WEEKDAY",
      "iec_standard": "IEC 61131-3 位操作和字符串处理，星期编码",
      "tags": [
        "星期转换",
        "位编码",
        "调度系统",
        "时间编程",
        "周期性任务",
        "多星期组合"
      ]
    },
    {
      "instruction": "怎么用ST语言实现一个带有状态机的定时控制逻辑",
      "input": "",
      "output": "VAR_INPUT\n\tE : BOOL := TRUE;\n\tT0 : TIME;\n\tT1 : TIME;\n\tT2 : TIME;\n\tT3 : TIME;\n\tS0 : BOOL;\n\tSX : INT;\n\tSL : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tSTATE : INT;\nEND_VAR\n\nVAR\n\ttx : TIME;\n\tlast : TIME;\n\tinit : BOOL;\n\tT_PLC_MS : T_PLC_MS;\nEND_VAR\n\n(* 读取系统时间 *)\nT_PLC_MS();\ntx := UDINT_TO_TIME(T_PLC_MS.T_PLC_MS);\n\n(* 首次循环初始化 *)\nIF NOT init THEN\n\tinit := TRUE;\n\tlast := tx;\nEND_IF;\n\nIF E THEN\n\tIF SL THEN\n\t\t(* 当 SX > 0 时强制开始状态 SX *)\n\t\tstate := LIMIT(0, SX, 3);\n\t\tlast := tx;\n\t\t(* 这用于避免从调用程序重置 SX，虽然在 Codesys 中工作正常，但在其他系统中可能存在问题，因为我们写入输入 *)\n\t\tSL := FALSE;\n\tELSE\n\t\tCASE state OF\n\t\t\t0 : (* 等待 T0 并切换到下一周期 *)\n\t\t\t\tIF tx - last >= T0 THEN\n\t\t\t\t\tstate := 1;\n\t\t\t\t\tlast := tx;\n\t\t\t\tEND_IF;\n\t\t\t1 : (* 等待 T1 完成第一次周期 *)\n\t\t\t\tIF tx - last >= T1 THEN\n\t\t\t\t\tstate := 2;\n\t\t\t\t\tlast := tx;\n\t\t\t\tEND_IF;\n\t\t\t2 : (* 等待 T2 完成第一次周期 *)\n\t\t\t\tIF tx - last >= T2 THEN\n\t\t\t\t\tstate := 3;\n\t\t\t\t\tlast := tx;\n\t\t\t\tEND_IF;\n\t\t\t3 : (* 等待 T3 完成第二次周期 *)\n\t\t\t\tIF tx - last >= T3 THEN\n\t\t\t\t\tIF S0 THEN state := 0; END_IF; (* 如果 S0 为假，则序列在状态 3 停止 *)\n\t\t\t\t\tlast := tx;\n\t\t\t\tEND_IF;\n\t\tEND_CASE;\n\tEND_IF;\nELSE\n\tstate := 0;\n\tlast := tx;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "T0",
          "type": "TIME",
          "description": "输入参数T0"
        },
        {
          "name": "T1",
          "type": "TIME",
          "description": "输入参数T1"
        },
        {
          "name": "T2",
          "type": "TIME",
          "description": "输入参数T2"
        },
        {
          "name": "T3",
          "type": "TIME",
          "description": "输入参数T3"
        },
        {
          "name": "S0",
          "type": "BOOL",
          "description": "输入参数S0"
        },
        {
          "name": "SX",
          "type": "INT",
          "description": "输入参数SX"
        },
        {
          "name": "SL",
          "type": "BOOL",
          "description": "输入参数SL"
        }
      ],
      "outputs": [
        {
          "name": "STATE",
          "type": "INT",
          "description": "输出参数STATE"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "根据传感器的输入值控制加热系统怎么在PLC上实现",
      "input": "",
      "output": "VAR_INPUT\n\tT_UPPER : REAL;\n\tT_LOWER : REAL;\n\tPRESSURE : BOOL := TRUE;\n\tENABLE : BOOL := TRUE;\n\tREQ_1 : BOOL;\n\tREQ_2 : BOOL;\n\tBOOST : BOOL;\n\tT_UPPER_MIN : REAL := REAL#50.0;\n\tT_UPPER_MAX : REAL := REAL#60.0;\n\tT_LOWER_ENABLE : BOOL;\n\tT_LOWER_MAX : REAL := REAL#60.0;\n\tT_REQUEST_1 : REAL := REAL#70.0;\n\tT_REQUEST_2 : REAL := REAL#50.0;\n\tT_REQUEST_HYS : REAL := REAL#5.0;\n\tT_PROTECT_HIGH : REAL := REAL#80.0;\n\tT_PROTECT_LOW : REAL := REAL#10.0;\nEND_VAR\n\nVAR_OUTPUT\n\tHEAT : BOOL;\n\tERROR : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tedge : BOOL;\n\tboost_mode : BOOL;\n\tflag_0 : BOOL;\n\tflag_1 : BOOL;\n\tflag_2 : BOOL;\nEND_VAR\n\n(* 读取传感器并检查数据有效性 *)\nIF t_upper > t_protect_high THEN\n\tstatus := BYTE#1;\n\theat := FALSE;\n\terror := TRUE;\nELSIF t_upper < t_protect_low THEN\n\tstatus := BYTE#2;\n\theat := TRUE;\n\terror := TRUE;\nELSIF t_lower > T_protect_high AND t_lower_enable THEN\n\tstatus := BYTE#3;\n\theat := FALSE;\n\terror := TRUE;\nELSIF t_lower < t_protect_low AND t_lower_enable THEN\n\tstatus := BYTE#4;\n\theat := TRUE;\n\terror := TRUE;\nELSIF NOT pressure THEN\n\tstatus := BYTE#5;\n\theat := FALSE;\n\terror := TRUE;\nELSIF req_1 OR req_2 OR enable OR boost THEN\n\terror := FALSE;\n\n\t(* 判断是否需要开启加热 *)\n\tIF boost AND NOT edge AND t_upper < t_upper_max THEN\n\t\tstatus := BYTE#101;\n\t\theat := TRUE;\n\t\tboost_mode := TRUE;\n\tELSIF enable AND t_upper < T_upper_min THEN\n\t\tstatus := BYTE#102;\n\t\theat := TRUE;\n\tELSIF req_1 AND t_upper < T_request_1 THEN\n\t\tstatus := BYTE#103;\n\t\theat := TRUE;\n\tELSIF req_2 AND t_upper < T_request_2 THEN\n\t\tstatus := BYTE#104;\n\t\theat := TRUE;\n\tEND_IF;\n\n\t(* 判断关闭加热的温度 *)\n\tIF heat THEN\n\t\tIF (enable OR boost_mode) THEN\n\t\t\tflag_0 := TRUE;\n\t\t\tIF T_lower_enable AND T_lower > T_lower_max THEN\n\t\t\t\tflag_0 := FALSE;\n\t\t\t\tboost_mode := FALSE;\n\t\t\tELSIF NOT T_lower_enable AND T_upper > T_upper_max THEN\n\t\t\t\tflag_0 := FALSE;\n\t\t\t\tboost_mode := FALSE;\n\t\t\tEND_IF;\n\t\tELSE\n\t\t\tflag_0 := FALSE;\n\t\tEND_IF;\n\t\tflag_1 := (req_1 AND T_upper > T_request_1 + T_request_hys) AND req_1;\n\t\tflag_2 := (req_2 AND T_upper > T_request_2 + T_request_hys) AND req_2;\n\n\t\t(* 当不再需要时关闭加热 *)\n\t\theat := flag_0 OR flag_1 OR flag_2;\n\t\tIF heat = FALSE THEN status := BYTE#100; END_IF;\n\tEND_IF;\nELSE\n\tstatus := BYTE#100;\n\theat := FALSE;\n\terror := FALSE;\nEND_IF;\nedge := boost;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "T_UPPER",
          "type": "REAL",
          "description": "输入参数T_UPPER"
        },
        {
          "name": "T_LOWER",
          "type": "REAL",
          "description": "输入参数T_LOWER"
        },
        {
          "name": "PRESSURE",
          "type": "BOOL",
          "description": "输入参数PRESSURE"
        },
        {
          "name": "ENABLE",
          "type": "BOOL",
          "description": "输入参数ENABLE"
        },
        {
          "name": "REQ_1",
          "type": "BOOL",
          "description": "输入参数REQ_1"
        },
        {
          "name": "REQ_2",
          "type": "BOOL",
          "description": "输入参数REQ_2"
        },
        {
          "name": "BOOST",
          "type": "BOOL",
          "description": "输入参数BOOST"
        },
        {
          "name": "T_UPPER_MIN",
          "type": "REAL",
          "description": "输入参数T_UPPER_MIN"
        },
        {
          "name": "T_UPPER_MAX",
          "type": "REAL",
          "description": "输入参数T_UPPER_MAX"
        },
        {
          "name": "T_LOWER_ENABLE",
          "type": "BOOL",
          "description": "输入参数T_LOWER_ENABLE"
        },
        {
          "name": "T_LOWER_MAX",
          "type": "REAL",
          "description": "输入参数T_LOWER_MAX"
        },
        {
          "name": "T_REQUEST_1",
          "type": "REAL",
          "description": "输入参数T_REQUEST_1"
        },
        {
          "name": "T_REQUEST_2",
          "type": "REAL",
          "description": "输入参数T_REQUEST_2"
        },
        {
          "name": "T_REQUEST_HYS",
          "type": "REAL",
          "description": "输入参数T_REQUEST_HYS"
        },
        {
          "name": "T_PROTECT_HIGH",
          "type": "REAL",
          "description": "输入参数T_PROTECT_HIGH"
        },
        {
          "name": "T_PROTECT_LOW",
          "type": "REAL",
          "description": "输入参数T_PROTECT_LOW"
        }
      ],
      "outputs": [
        {
          "name": "HEAT",
          "type": "BOOL",
          "description": "输出参数HEAT"
        },
        {
          "name": "ERROR",
          "type": "BOOL",
          "description": "输出参数ERROR"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "在PLC上实现互锁功能",
      "input": "",
      "output": "VAR_INPUT\nI1 : BOOL;\nI2 : BOOL;\nTL : TIME;\nEND_VAR\n\nVAR_OUTPUT\nQ1 : BOOL;\nQ2 : BOOL;\nEND_VAR\n\nVAR\nT1 : TOF;\nT2 : TOF;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: INTERLOCK\nIEC_LANGUAGE: ST\n*)\n(* 输入信号有一个运行延迟，用于锁定另一个输入 *)\nT1(IN := I1, PT := TL);\nT2(IN := I2, PT := TL);\n\nQ1 := I1 AND NOT t2.Q;\nQ2 := I2 AND NOT t1.Q;",
      "description": "INTERLOCK功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I1",
          "type": "BOOL",
          "description": "输入信号1"
        },
        {
          "name": "I2",
          "type": "BOOL",
          "description": "输入信号2"
        },
        {
          "name": "TL",
          "type": "TIME",
          "description": "低电平时间"
        }
      ],
      "outputs": [
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何实现通过网络变量与外部设备进行数据读写",
      "input": "",
      "output": "VAR_INPUT\n\tIN1 : BOOL;\n\tIN2 : BOOL;\n\tIN3 : BOOL;\n\tIN4 : BOOL;\n\tIN5 : BOOL;\n\tIN6 : BOOL;\n\tIN7 : BOOL;\n\tIN8 : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tOUT1 : BOOL;\n\tOUT2 : BOOL;\n\tOUT3 : BOOL;\n\tOUT4 : BOOL;\n\tOUT5 : BOOL;\n\tOUT6 : BOOL;\n\tOUT7 : BOOL;\n\tOUT8 : BOOL;\n\tID : BYTE;\nEND_VAR\n\nVAR_IN_OUT\n\tX : oscat_NET_VAR_DATA;\nEND_VAR\n\nVAR\n\tinit : BOOL;\n\tindex : INT;\n\tindex2 : INT;\n\tBYTE_TO_BITS : BYTE_TO_BITS;\nEND_VAR\n\nIF NOT init THEN\n\tinit := TRUE;\n\tX.ID_MAX := X.ID_MAX + USINT#1;\n\tID := USINT_TO_BYTE(X.ID_MAX);\nEND_IF;\n\nIF X.STATE > BYTE#0 AND X.ERROR_ID = BYTE#0 THEN\n\tindex := X.index; (* PCWORX 工作区解决方案 *)\n\tIF INT_TO_UINT(index + 3) > X.BUF_SIZE THEN\n\t\tX.ERROR_ID := ID;\n\tELSE\n\t\tIF X.STATE = BYTE#1 THEN (* 写入数据 *)\n\t\t\tX.S_BUF.BUFFER[index] := ID; (* ID *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE#4; (* 类型 BOOL8 *)\n\t\t\tindex := index + 1;\n\t\t\tX.S_BUF.BUFFER[index] := BYTE_OF_BIT(IN1,IN2,IN3,IN4,IN5,IN6,IN7,IN8);\n\t\t\tindex := index + 1;\n\t\tELSIF X.STATE = BYTE#2 THEN (* 读取数据 *)\n\t\t\tindex2 := index + 1; (* PCWORX 工作区解决方案 *)\n\t\t\tIF X.R_BUF.BUFFER[index] <> ID OR X.R_BUF.BUFFER[index2] <> BYTE#4 THEN\n\t\t\t\tX.ERROR_ID := ID;\n\t\t\tELSE\n\t\t\t\tindex := index + 2;\n\t\t\t\tBYTE_TO_BITS(IN := X.R_BUF.BUFFER[index]);\n\t\t\t\tOUT1 := BYTE_TO_BITS.B0;\n\t\t\t\tOUT2 := BYTE_TO_BITS.B1;\n\t\t\t\tOUT3 := BYTE_TO_BITS.B2;\n\t\t\t\tOUT4 := BYTE_TO_BITS.B3;\n\t\t\t\tOUT5 := BYTE_TO_BITS.B4;\n\t\t\t\tOUT6 := BYTE_TO_BITS.B5;\n\t\t\t\tOUT7 := BYTE_TO_BITS.B6;\n\t\t\t\tOUT8 := BYTE_TO_BITS.B7;\n\t\t\t\tindex := index + 1;\n\t\t\tEND_IF;\n\t\tEND_IF;\n\t\tX.index := index;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN1",
          "type": "BOOL",
          "description": "输入参数IN1"
        },
        {
          "name": "IN2",
          "type": "BOOL",
          "description": "输入参数IN2"
        },
        {
          "name": "IN3",
          "type": "BOOL",
          "description": "输入参数IN3"
        },
        {
          "name": "IN4",
          "type": "BOOL",
          "description": "输入参数IN4"
        },
        {
          "name": "IN5",
          "type": "BOOL",
          "description": "输入参数IN5"
        },
        {
          "name": "IN6",
          "type": "BOOL",
          "description": "输入参数IN6"
        },
        {
          "name": "IN7",
          "type": "BOOL",
          "description": "输入参数IN7"
        },
        {
          "name": "IN8",
          "type": "BOOL",
          "description": "输入参数IN8"
        }
      ],
      "outputs": [
        {
          "name": "OUT1",
          "type": "BOOL",
          "description": "输出参数OUT1"
        },
        {
          "name": "OUT2",
          "type": "BOOL",
          "description": "输出参数OUT2"
        },
        {
          "name": "OUT3",
          "type": "BOOL",
          "description": "输出参数OUT3"
        },
        {
          "name": "OUT4",
          "type": "BOOL",
          "description": "输出参数OUT4"
        },
        {
          "name": "OUT5",
          "type": "BOOL",
          "description": "输出参数OUT5"
        },
        {
          "name": "OUT6",
          "type": "BOOL",
          "description": "输出参数OUT6"
        },
        {
          "name": "OUT7",
          "type": "BOOL",
          "description": "输出参数OUT7"
        },
        {
          "name": "OUT8",
          "type": "BOOL",
          "description": "输出参数OUT8"
        },
        {
          "name": "ID",
          "type": "BYTE",
          "description": "输出参数ID"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么实现对四个数字信号的手动覆盖控制",
      "input": "",
      "output": "VAR_INPUT\n\tI0 : BOOL;\n\tI1 : BOOL;\n\tI2 : BOOL;\n\tI3 : BOOL;\n\tMAN : BOOL;\n\tSTP : BOOL;\n\tM0 : BOOL;\n\tM1 : BOOL;\n\tM2 : BOOL;\n\tM3 : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tedge : BOOL;\n\tpos : INT;\n\ttog : BOOL;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MANUAL_4\nIEC_LANGUAGE: ST\n*)\nIF man THEN\n\tIF NOT TOG THEN\n\t\tQ0 := M0;\n\t\tQ1 := M1;\n\t\tQ2 := M2;\n\t\tQ3 := M3;\n\t\tSTATUS := BYTE#101;\n\tEND_IF;\n\tIF STP AND NOT edge THEN\n\t\ttog := TRUE;\n\t\tCASE pos OF\n\t\t\t0: Q0 := TRUE;\n\t\t\t\tQ1 := FALSE;\n\t\t\t\tQ2 := FALSE;\n\t\t\t\tQ3 := FALSE;\n\t\t\t\tSTATUS := BYTE#110;\n\t\t\t1: Q0 := FALSE;\n\t\t\t\tQ1 := TRUE;\n\t\t\t\tQ2 := FALSE;\n\t\t\t\tQ3 := FALSE;\n\t\t\t\tSTATUS := BYTE#111;\n\t\t\t2: Q0 := FALSE;\n\t\t\t\tQ1 := FALSE;\n\t\t\t\tQ2 := TRUE;\n\t\t\t\tQ3 := FALSE;\n\t\t\t\tSTATUS := BYTE#112;\n\t\t\t3: Q0 := FALSE;\n\t\t\t\tQ1 := FALSE;\n\t\t\t\tQ2 := FALSE;\n\t\t\t\tQ3 := TRUE;\n\t\t\t\tSTATUS := BYTE#113;\n\t\tEND_CASE;\n\t\tpos := INC(pos,1,3);\n\tEND_IF;\nELSE\n\tQ0 := I0;\n\tQ1 := I1;\n\tQ2 := I2;\n\tQ3 := I3;\n\tSTATUS := BYTE#100;\n\ttog := FALSE;\n\tpos := 0;\nEND_IF;\n\n(* 记住 STP 信号的状态 *)\nedge := STP;",
      "description": "MANUAL_4功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "I0",
          "type": "BOOL",
          "description": "输入信号0"
        },
        {
          "name": "I1",
          "type": "BOOL",
          "description": "输入信号1"
        },
        {
          "name": "I2",
          "type": "BOOL",
          "description": "输入信号2"
        },
        {
          "name": "I3",
          "type": "BOOL",
          "description": "输入信号3"
        },
        {
          "name": "MAN",
          "type": "BOOL",
          "description": "手动模式"
        },
        {
          "name": "STP",
          "type": "BOOL",
          "description": "步进信号"
        },
        {
          "name": "M0",
          "type": "BOOL",
          "description": "输入参数M0"
        },
        {
          "name": "M1",
          "type": "BOOL",
          "description": "输入参数M1"
        },
        {
          "name": "M2",
          "type": "BOOL",
          "description": "输入参数M2"
        },
        {
          "name": "M3",
          "type": "BOOL",
          "description": "输入参数M3"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "状态码"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何验证输入的PIN码序列是否与预设的PIN码匹配？给出st代码",
      "input": "",
      "output": "VAR_INPUT\n\tCB : BYTE;\n\tE : BOOL;\n\tPIN : oscat_STRING8;\nEND_VAR\n\nVAR_OUTPUT\n\tTP : BOOL;\nEND_VAR\n\nVAR\n\tPOS : INT := 1;\nEND_VAR\n\ntp := FALSE;\nIF e THEN\n\n\tIF CB = INT_TO_BYTE(GET_CHAR(PIN,POS)) THEN\n\t\tpos := pos + 1;\n\t\tIF pos > LEN(PIN) THEN\n\t\t\t(* 检测到正确的代码 *)\n\t\t\tTP := TRUE;\n\t\t\tpos := 1;\n\t\tEND_IF;\n\tELSE\n\t\tpos := 1;\n\tEND_IF;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "CB",
          "type": "BYTE",
          "description": "输入参数CB"
        },
        {
          "name": "E",
          "type": "BOOL",
          "description": "使能信号"
        },
        {
          "name": "PIN",
          "type": "oscat_STRING8",
          "description": "输入参数PIN"
        }
      ],
      "outputs": [
        {
          "name": "TP",
          "type": "BOOL",
          "description": "触发脉冲"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何使用st语言实现一个多通道的状态控制系统",
      "input": "",
      "output": "VAR_INPUT\n\tSET : BOOL;\n\tD0 : BOOL;\n\tD1 : BOOL;\n\tD2 : BOOL;\n\tD3 : BOOL;\n\tD4 : BOOL;\n\tD5 : BOOL;\n\tD6 : BOOL;\n\tD7 : BOOL;\n\tCLR : BOOL;\n\tRST : BOOL;\nEND_VAR\n\nVAR_OUTPUT\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tQ4 : BOOL;\n\tQ5 : BOOL;\n\tQ6 : BOOL;\n\tQ7 : BOOL;\nEND_VAR\n\nVAR\n\tedge : BOOL;\nEND_VAR\n\nIF rst OR set THEN\n\tq0 := NOT rst;\n\tq1 := q0;\n\tq2 := q0;\n\tq3 := q0;\n\tq4 := q0;\n\tq5 := q0;\n\tq6 := q0;\n\tq7 := q0;\nELSIF D0 THEN Q0 := TRUE; END_IF;\nELSIF D1 THEN Q1 := TRUE; END_IF;\nELSIF D2 THEN Q2 := TRUE; END_IF;\nELSIF D3 THEN Q3 := TRUE; END_IF;\nELSIF D4 THEN Q4 := TRUE; END_IF;\nELSIF D5 THEN Q5 := TRUE; END_IF;\nELSIF D6 THEN Q6 := TRUE; END_IF;\nELSIF D7 THEN Q7 := TRUE; END_IF;\nIF clr AND NOT edge THEN\n\tIF q0 THEN q0 := FALSE;\n\tELSIF q1 THEN q1 := FALSE;\n\tELSIF q2 THEN q2 := FALSE;\n\tELSIF q3 THEN q3 := FALSE;\n\tELSIF q4 THEN q4 := FALSE;\n\tELSIF q5 THEN q5 := FALSE;\n\tELSIF q6 THEN q6 := FALSE;\n\tELSE q7 := FALSE;\n\tEND_IF;\nEND_IF;\nedge := clr;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "SET",
          "type": "BOOL",
          "description": "置位信号，设置输出状态"
        },
        {
          "name": "D0",
          "type": "BOOL",
          "description": "输入参数D0"
        },
        {
          "name": "D1",
          "type": "BOOL",
          "description": "输入参数D1"
        },
        {
          "name": "D2",
          "type": "BOOL",
          "description": "输入参数D2"
        },
        {
          "name": "D3",
          "type": "BOOL",
          "description": "输入参数D3"
        },
        {
          "name": "D4",
          "type": "BOOL",
          "description": "输入参数D4"
        },
        {
          "name": "D5",
          "type": "BOOL",
          "description": "输入参数D5"
        },
        {
          "name": "D6",
          "type": "BOOL",
          "description": "输入参数D6"
        },
        {
          "name": "D7",
          "type": "BOOL",
          "description": "输入参数D7"
        },
        {
          "name": "CLR",
          "type": "BOOL",
          "description": "输入参数CLR"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "复位信号，重置功能块状态"
        }
      ],
      "outputs": [
        {
          "name": "Q0",
          "type": "BOOL",
          "description": "输出信号0"
        },
        {
          "name": "Q1",
          "type": "BOOL",
          "description": "输出信号1"
        },
        {
          "name": "Q2",
          "type": "BOOL",
          "description": "输出信号2"
        },
        {
          "name": "Q3",
          "type": "BOOL",
          "description": "输出信号3"
        },
        {
          "name": "Q4",
          "type": "BOOL",
          "description": "输出参数Q4"
        },
        {
          "name": "Q5",
          "type": "BOOL",
          "description": "输出参数Q5"
        },
        {
          "name": "Q6",
          "type": "BOOL",
          "description": "输出参数Q6"
        },
        {
          "name": "Q7",
          "type": "BOOL",
          "description": "输出参数Q7"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何根据输入的字节判断其是否属于大写字母范围，并将其转换为小写字母？给出ST语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tIN : BYTE;\nEND_VAR\n\nIF in > BYTE#64 AND in < BYTE#91 THEN\n\tTO_LOWER := in OR BYTE#16#20;\nELSIF (in > BYTE#191 AND in < BYTE#223) AND in <> BYTE#215 AND SETUP_EXTENDED_ASCII(FALSE) THEN\n\tTO_LOWER := in OR BYTE#16#20;\nELSE\n\tTO_LOWER := in;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IN",
          "type": "BYTE",
          "description": "输入信号值"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "如何用st语言计算向量A在X轴方向的夹角",
      "input": "",
      "output": "VAR_INPUT\n\tA : oscat_vector_3;\nEND_VAR\n\nVAR_OUTPUT\n\tV3_XANG : REAL;\nEND_VAR\n\nVAR\n\tla : REAL;\n\tV3_ABS : V3_ABS;\nEND_VAR\n\nV3_ABS(A:=A);\nla := V3_ABS.V3_ABS;\n\nIF la > 0.0 THEN\n\tV3_XANG := ACOS(A.X / la);\nELSE\n\tV3_XANG := 0.0;\nEND_IF;",
      "description": "Unknown功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "A",
          "type": "oscat_vector_3",
          "description": "输入值A"
        }
      ],
      "outputs": [
        {
          "name": "V3_XANG",
          "type": "REAL",
          "description": "输出参数V3_XANG"
        }
      ],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "控制4个阀门的操作，以及生成安全阀信号和故障诊断，给出st语言代码",
      "input": "",
      "output": "VAR_INPUT\n\tI0 : BOOL;\n\tI1 : BOOL;\n\tI2 : BOOL;\n\tI3 : BOOL;\n\tPR : BOOL;\n\tICE : BOOL;\n\tDIAG : BOOL;\n\tENQ : BOOL;\n\tRST : BOOL := FALSE;\n\tTD_WAIT : TIME := T#5s;\n\tTD_S : TIME := T#10s;\n\tTD_0 : TIME := T#10s;\nEND_VAR\n\nVAR_OUTPUT\n\tQS : BOOL;\n\tQ0 : BOOL;\n\tQ1 : BOOL;\n\tQ2 : BOOL;\n\tQ3 : BOOL;\n\tERROR : BOOL;\n\tSTATUS : BYTE;\nEND_VAR\n\nVAR\n\tstate : INT;\n\ttimer : TP;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: FLOW_CONTROL_4\nIEC_LANGUAGE: ST\n*)\nIF RST THEN\n\tSTATUS := BYTE#100;\n\tstate := 0;\n\terror := FALSE;\n\nELSIF DIAG THEN\n\t(* 诊断通过打开QS并等待TD_WAIT来施加压力，\n\t然后关闭所有阀门并等待TD_WAIT，打开阀门_0并检查TD_0后的压力，\n\t如果压力过低，则存在错误。对所有阀门继续相同的程序 *)\n\tCASE state OF\n\t\t0 : (* 开始诊断操作 *)\n\t\t\t(* 关闭所有阀门并加压系统 *)\n\t\t\tQS := TRUE;\n\t\t\tQ0 := FALSE;\n\t\t\tQ1 := FALSE;\n\t\t\tQ2 := FALSE;\n\t\t\tQ3 := FALSE;\n\t\t\ttimer(in := TRUE, pt := TD_WAIT);\n\t\t\ttimer.IN := FALSE;\n\t\t\tstate := 1;\n\t\t1 : (* 等待TD_WAIT *)\n\t\t\ttimer();\n\t\t\tIF NOT timer.Q THEN\n\t\t\t\tQS := FALSE;\n\t\t\t\ttimer(in := TRUE, pt := TD_S);\n\t\t\t\ttimer.IN := FALSE;\n\t\t\t\tstate := 2;\n\t\t\tEND_IF;\n\t\t2: (* 等待安全阀压力测试 *)\n\t\t\ttimer();\n\t\t\tIF NOT timer.Q THEN\n\t\t\t\tIF NOT pr THEN\n\t\t\t\t\t(* 系统压力故障 *)\n\t\t\t\t\tERROR := TRUE;\n\t\t\t\t\tSTATUS := BYTE#1;\n\t\t\t\t\tRETURN;\n\t\t\t\tEND_IF;\n\t\t\t\ttimer(in := TRUE, pt := TD_0);\n\t\t\t\ttimer.IN := FALSE;\n\t\t\t\tQ0 := TRUE;\n\t\t\t\tstate := 3;\n\t\t\tEND_IF;\n\t\t3: (* 等待Q0上的压力保持TD_0 *)\n\t\t\ttimer();\n\t\t\tIF NOT timer.Q THEN\n\t\t\t\tIF NOT pr THEN\n\t\t\t\t\t(* 阀门0压力故障 *)\n\t\t\t\t\tERROR := TRUE;\n\t\t\t\t\tSTATUS := BYTE#1;\n\t\t\t\t\tRETURN;\n\t\t\t\tEND_IF;\n\t\t\t\tQ0 := FALSE;\n\t\t\t\tQS := TRUE;\n\t\t\tEND_IF;\n\tEND_CASE;\nELSIF ICE THEN\n\t(* 当有霜冻时，我们关闭安全阀并打开所有其他阀门以减压 *)\n\tQS := FALSE;\n\tQ0 := TRUE;\n\tQ1 := TRUE;\n\tQ2 := TRUE;\n\tQ3 := TRUE;\n\tSTATUS := BYTE#110;\n\nELSIF NOT error AND ENQ THEN\n\t\tQ0 := I0;\n\t\tQ1 := I1;\n\t\tQ2 := I2;\n\t\tQ3 := I3;\n\t\tQS := Q0 OR Q1 OR Q2 OR Q3;\n\t\tSTATUS := BYTE#100;\n\n\t\t(* 最大工作时间检查 *)\nELSE\n\tQ0 := FALSE;\n\tQ1 := FALSE;\n\tQ2 := FALSE;\n\tQ3 := FALSE;\nEND_IF;",
      "description": "四阀门控制系统，集成安全阀管理、故障诊断和防冻保护功能。支持正常操作模式、诊断模式和防冻模式，提供完整的状态机和故障检测机制。适用于复杂工业流程控制、液压系统、气体分配系统等需要多阀门协调控制的应用。",
      "inputs": [
        {
          "name": "I0-I3",
          "type": "BOOL",
          "description": "四个阀门的输入控制信号"
        },
        {
          "name": "PR",
          "type": "BOOL",
          "description": "压力检测信号"
        },
        {
          "name": "ICE",
          "type": "BOOL",
          "description": "霜冻检测信号"
        },
        {
          "name": "DIAG",
          "type": "BOOL",
          "description": "诊断模式使能"
        },
        {
          "name": "ENQ",
          "type": "BOOL",
          "description": "系统使能信号"
        },
        {
          "name": "RST",
          "type": "BOOL",
          "description": "系统复位信号"
        },
        {
          "name": "TD_WAIT/TD_S/TD_0",
          "type": "TIME",
          "description": "各阶段定时时间设定"
        }
      ],
      "outputs": [
        {
          "name": "QS",
          "type": "BOOL",
          "description": "安全阀输出控制"
        },
        {
          "name": "Q0-Q3",
          "type": "BOOL",
          "description": "四个阀门输出控制"
        },
        {
          "name": "ERROR",
          "type": "BOOL",
          "description": "系统故障指示"
        },
        {
          "name": "STATUS",
          "type": "BYTE",
          "description": "系统状态代码"
        }
      ],
      "library_dependency": "OSCAT库: TP定时器功能块",
      "iec_standard": "IEC 61131-3 复杂状态机，故障诊断逻辑",
      "tags": [
        "多阀门控制",
        "安全联锁",
        "故障诊断",
        "状态机",
        "防冻保护",
        "压力检测"
      ]
    },
    {
      "instruction": "将毫秒数转换为分钟，并提取分钟部分的PLC程序怎么写？",
      "input": "",
      "output": "VAR_INPUT\n\tITOD : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: MINUTE\nIEC_LANGUAGE: ST\n*)\nminute := UDINT_TO_INT((itod / UDINT#60000) - ((itod / UDINT#3600000) * UDINT#60));",
      "description": "MINUTE功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "ITOD",
          "type": "UDINT",
          "description": "输入参数ITOD"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    },
    {
      "instruction": "怎么使用ST语言判断输入的时间戳是否是闰年中的2月29日",
      "input": "",
      "output": "VAR_INPUT\nIDATE : UDINT;\nEND_VAR\n\n(*@KEY@: WORKSHEET\nNAME: LEAP_DAY\nIEC_LANGUAGE: ST\n*)\nLEAP_DAY := IDATE MOD UDINT#126230400 = UDINT#68169600;",
      "description": "LEAP_DAY功能块，实现特定的控制或计算功能。适用于工业自动化和控制系统。",
      "inputs": [
        {
          "name": "IDATE",
          "type": "UDINT",
          "description": "输入参数IDATE"
        }
      ],
      "outputs": [],
      "library_dependency": [],
      "iec_standard": "IEC 61131-3 第6章：文本化编程语言ST",
      "tags": [
        "功能块",
        "自动控制",
        "工业控制"
      ]
    }
  ]
}